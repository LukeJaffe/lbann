<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LBANN: lbann::Layer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">91da419-ci253682023</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1Layer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classlbann_1_1Layer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::Layer Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="layer_8hpp_source.html">layer.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::Layer:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer__inherit__graph.png" border="0" usemap="#lbann_1_1Layer_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1Layer_inherit__map" id="lbann_1_1Layer_inherit__map">
<area shape="rect" id="node2" href="classlbann_1_1activation__layer.html" title="lbann::activation_layer" alt="" coords="147,516,299,543"/><area shape="rect" id="node14" href="classlbann_1_1io__layer.html" title="lbann::io_layer" alt="" coords="169,759,276,785"/><area shape="rect" id="node22" href="classlbann_1_1learning.html" title="lbann::learning" alt="" coords="169,851,276,877"/><area shape="rect" id="node25" href="classlbann_1_1regularizer__layer.html" title="lbann::regularizer\l_layer" alt="" coords="162,999,283,1041"/><area shape="rect" id="node30" href="classlbann_1_1transform.html" title="lbann::transform" alt="" coords="165,1241,281,1268"/><area shape="rect" id="node3" href="classlbann_1_1entrywise__activation__layer.html" title="lbann::entrywise_activation\l_layer" alt="" coords="347,299,527,341"/><area shape="rect" id="node13" href="classlbann_1_1softmax__layer.html" title="lbann::softmax_layer\l\&lt; T_layout \&gt;" alt="" coords="366,509,509,550"/><area shape="rect" id="node4" href="classlbann_1_1elu__layer.html" title="lbann::elu_layer\&lt; T\l_layout \&gt;" alt="" coords="587,5,720,46"/><area shape="rect" id="node5" href="classlbann_1_1id__layer.html" title="lbann::id_layer\&lt; T\l_layout \&gt;" alt="" coords="590,70,717,111"/><area shape="rect" id="node6" href="classlbann_1_1leaky__relu__layer.html" title="lbann::leaky_relu_layer\l\&lt; T_layout \&gt;" alt="" coords="576,135,731,177"/><area shape="rect" id="node7" href="classlbann_1_1relu__layer.html" title="lbann::relu_layer\&lt;\l T_layout \&gt;" alt="" coords="591,201,716,242"/><area shape="rect" id="node8" href="classlbann_1_1selu__layer.html" title="lbann::selu_layer\&lt;\l T_layout \&gt;" alt="" coords="589,266,717,307"/><area shape="rect" id="node9" href="classlbann_1_1sigmoid__layer.html" title="lbann::sigmoid_layer\l\&lt; T_layout \&gt;" alt="" coords="583,331,724,373"/><area shape="rect" id="node10" href="classlbann_1_1smooth__relu__layer.html" title="lbann::smooth_relu\l_layer\&lt; T_layout \&gt;" alt="" coords="587,397,719,438"/><area shape="rect" id="node11" href="classlbann_1_1softplus__layer.html" title="lbann::softplus_layer\l\&lt; T_layout \&gt;" alt="" coords="582,462,725,503"/><area shape="rect" id="node12" href="classlbann_1_1tanh__layer.html" title="lbann::tanh_layer\&lt;\l T_layout \&gt;" alt="" coords="589,527,718,569"/><area shape="rect" id="node15" href="classlbann_1_1input__layer.html" title="lbann::input_layer" alt="" coords="375,687,499,713"/><area shape="rect" id="node18" href="classlbann_1_1target__layer.html" title="lbann::target_layer" alt="" coords="373,759,502,785"/><area shape="rect" id="node16" href="classlbann_1_1input__layer__distributed__minibatch.html" title="lbann::input_layer\l_distributed_minibatch\l\&lt; T_layout \&gt;" alt="" coords="577,592,729,648"/><area shape="rect" id="node17" href="classlbann_1_1input__layer__partitioned__minibatch.html" title="lbann::input_layer\l_partitioned_minibatch\l\&lt; T_layout \&gt;" alt="" coords="577,672,729,728"/><area shape="rect" id="node19" href="classlbann_1_1reconstruction__layer.html" title="lbann::reconstruction\l_layer\&lt; T_layout \&gt;" alt="" coords="582,751,725,793"/><area shape="rect" id="node20" href="classlbann_1_1target__layer__distributed__minibatch.html" title="lbann::target_layer\l_distributed_minibatch\l\&lt; T_layout \&gt;" alt="" coords="577,816,729,872"/><area shape="rect" id="node21" href="classlbann_1_1target__layer__partitioned__minibatch.html" title="lbann::target_layer\l_partitioned_minibatch\l\&lt; T_layout \&gt;" alt="" coords="577,896,729,952"/><area shape="rect" id="node23" href="classlbann_1_1convolution__layer.html" title="Convolution layer. " alt="" coords="372,810,503,851"/><area shape="rect" id="node24" href="classlbann_1_1fully__connected__layer.html" title="lbann::fully_connected\l_layer\&lt; T_layout \&gt;" alt="" coords="361,875,513,917"/><area shape="rect" id="node26" href="classlbann_1_1batch__normalization.html" title="lbann::batch_normalization\l\&lt; T_layout \&gt;" alt="" coords="349,941,526,982"/><area shape="rect" id="node27" href="classlbann_1_1dropout.html" title="lbann::dropout\&lt; T_layout \&gt;" alt="" coords="348,1007,527,1033"/><area shape="rect" id="node28" href="classlbann_1_1local__response__normalization__layer.html" title="Local Response Normalization layer. " alt="" coords="363,1057,511,1113"/><area shape="rect" id="node29" href="classlbann_1_1selu__dropout.html" title="lbann::selu_dropout\l\&lt; T_layout \&gt;" alt="" coords="370,1137,505,1178"/><area shape="rect" id="node31" href="classlbann_1_1branch__layer.html" title="Branch layer. " alt="" coords="370,1202,505,1243"/><area shape="rect" id="node32" href="classlbann_1_1pooling__layer.html" title="Pooling layer. " alt="" coords="369,1267,506,1309"/><area shape="rect" id="node33" href="classlbann_1_1sum__layer.html" title="Sum layer. " alt="" coords="367,1333,508,1374"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::Layer:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer__coll__graph.png" border="0" usemap="#lbann_1_1Layer_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1Layer_coll__map" id="lbann_1_1Layer_coll__map">
<area shape="rect" id="node2" href="classcudnn_1_1cudnn__manager.html" title="cudnn::cudnn_manager" alt="" coords="5,248,163,275"/><area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html" title="lbann::lbann_comm" alt="" coords="211,13,345,40"/><area shape="rect" id="node4" href="classlbann_1_1model.html" title="lbann::model" alt="" coords="285,248,381,275"/><area shape="rect" id="node5" href="classlbann_1_1optimizer__factory.html" title="Optimizer factory base class. " alt="" coords="362,149,523,176"/><area shape="rect" id="node6" href="classlbann_1_1objective__functions_1_1objective__fn.html" title="lbann::objective_functions\l::objective_fn" alt="" coords="548,142,721,183"/><area shape="rect" id="node7" href="classlbann_1_1objective__functions_1_1statistics.html" title="lbann::objective_functions\l::statistics" alt="" coords="548,6,721,47"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a852a2187015f25204a358aafaf561dc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a852a2187015f25204a358aafaf561dc8">Layer</a> (const int index, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, int mbsize)</td></tr>
<tr class="separator:a852a2187015f25204a358aafaf561dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247cc68c730284f10a2cb42985fe5f3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a247cc68c730284f10a2cb42985fe5f3a">Layer</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;other)</td></tr>
<tr class="separator:a247cc68c730284f10a2cb42985fe5f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d8acde68fda2f38c4a39ef8c89234a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a00d8acde68fda2f38c4a39ef8c89234a">operator=</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;other)</td></tr>
<tr class="separator:a00d8acde68fda2f38c4a39ef8c89234a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c3f57587956da938406812f13ecb78"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a68c3f57587956da938406812f13ecb78">~Layer</a> ()</td></tr>
<tr class="separator:a68c3f57587956da938406812f13ecb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af420f22bbac801c85483ade84588a23f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af420f22bbac801c85483ade84588a23f">copy</a> () const =0</td></tr>
<tr class="separator:af420f22bbac801c85483ade84588a23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f08fe144a625a9560c8c6984d256672"><td class="memTemplParams" colspan="2">template&lt;data_layout T_layout&gt; </td></tr>
<tr class="memitem:a4f08fe144a625a9560c8c6984d256672"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a4f08fe144a625a9560c8c6984d256672">initialize_distributed_matrices</a> ()</td></tr>
<tr class="separator:a4f08fe144a625a9560c8c6984d256672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2483ccd8a4406a6891f6176f1001b4e5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5">forward_prop</a> ()</td></tr>
<tr class="separator:a2483ccd8a4406a6891f6176f1001b4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a502d9218d7dbbfd10ebebb6f917033"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a0a502d9218d7dbbfd10ebebb6f917033">back_prop</a> ()</td></tr>
<tr class="separator:a0a502d9218d7dbbfd10ebebb6f917033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a050e51e3a9bec431cf8b7a5660f2c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae4a050e51e3a9bec431cf8b7a5660f2c">update</a> ()</td></tr>
<tr class="separator:ae4a050e51e3a9bec431cf8b7a5660f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3f26e2ae0497f9a00fd6bc56b50543"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7f3f26e2ae0497f9a00fd6bc56b50543">summarize_stats</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;summarizer, int step)</td></tr>
<tr class="separator:a7f3f26e2ae0497f9a00fd6bc56b50543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e50932bb60d4cab3b21ab3fb0707ea"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af7e50932bb60d4cab3b21ab3fb0707ea">summarize_matrices</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;summarizer, int step)</td></tr>
<tr class="separator:af7e50932bb60d4cab3b21ab3fb0707ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af258db35456927df5df31af6bcd33473"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af258db35456927df5df31af6bcd33473">epoch_print</a> () const </td></tr>
<tr class="separator:af258db35456927df5df31af6bcd33473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12706025928f5e3d3ec3d9407c66c96b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a12706025928f5e3d3ec3d9407c66c96b">epoch_reset</a> ()</td></tr>
<tr class="separator:a12706025928f5e3d3ec3d9407c66c96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e3ac01d376d9d0a1153d49b2253d03"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af4e3ac01d376d9d0a1153d49b2253d03">checkGradientMB</a> (<a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;PrevLayer, <a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> Epsilon=1e-4)</td></tr>
<tr class="separator:af4e3ac01d376d9d0a1153d49b2253d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af455f02e7d3111a3610bc3fb705f3292"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer, const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer)</td></tr>
<tr class="separator:af455f02e7d3111a3610bc3fb705f3292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54fc73f5d751fe61238dbd7940d391a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac54fc73f5d751fe61238dbd7940d391a">setup_pointers</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer, const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer)</td></tr>
<tr class="separator:ac54fc73f5d751fe61238dbd7940d391a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec1c710c3d53b5e43a4d4f67b0a21b2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aeec1c710c3d53b5e43a4d4f67b0a21b2">check_setup</a> ()</td></tr>
<tr class="separator:aeec1c710c3d53b5e43a4d4f67b0a21b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb61e5c9919d84793378beb17bc4d287"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abb61e5c9919d84793378beb17bc4d287">get_name</a> () const =0</td></tr>
<tr class="separator:abb61e5c9919d84793378beb17bc4d287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0da8a58bab0e1de8e410c70b81a3427"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aa0da8a58bab0e1de8e410c70b81a3427">get_index</a> () const </td></tr>
<tr class="separator:aa0da8a58bab0e1de8e410c70b81a3427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb8de566903c69eb695cca8d46aa514"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aeeb8de566903c69eb695cca8d46aa514">set_index</a> (int i)</td></tr>
<tr class="separator:aeeb8de566903c69eb695cca8d46aa514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d337afce3ff00bd9bb63e6b25ba885"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a34d337afce3ff00bd9bb63e6b25ba885">get_num_prev_neurons</a> () const </td></tr>
<tr class="separator:a34d337afce3ff00bd9bb63e6b25ba885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823730fb451b04b44b786a32f0149b0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a823730fb451b04b44b786a32f0149b0e">get_num_prev_neuron_dims</a> () const </td></tr>
<tr class="separator:a823730fb451b04b44b786a32f0149b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9dbf2d54061cdd56782f0c61398da8d"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad9dbf2d54061cdd56782f0c61398da8d">get_prev_neuron_dims</a> () const </td></tr>
<tr class="separator:ad9dbf2d54061cdd56782f0c61398da8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c592a6fb8b3e0951344a3802f39d92a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3c592a6fb8b3e0951344a3802f39d92a">get_num_neurons</a> () const </td></tr>
<tr class="separator:a3c592a6fb8b3e0951344a3802f39d92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09dec06726bdb73c3524c4896aaf5b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae09dec06726bdb73c3524c4896aaf5b4">get_num_neuron_dims</a> () const </td></tr>
<tr class="separator:ae09dec06726bdb73c3524c4896aaf5b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26db6bb902f60c213cb006a2fafc0667"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a26db6bb902f60c213cb006a2fafc0667">get_neuron_dims</a> () const </td></tr>
<tr class="separator:a26db6bb902f60c213cb006a2fafc0667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8a6efd69263d6268ced61c8121f344"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7f8a6efd69263d6268ced61c8121f344">get_execution_mode</a> () const </td></tr>
<tr class="separator:a7f8a6efd69263d6268ced61c8121f344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6f588f9588200f8dedb670b3142652"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a8a6f588f9588200f8dedb670b3142652">set_execution_mode</a> (<a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a> mode)</td></tr>
<tr class="separator:a8a6f588f9588200f8dedb670b3142652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfb66e81fc085997402a5e2241316bd"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08db">data_layout</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd">get_data_layout</a> () const =0</td></tr>
<tr class="separator:a5dfb66e81fc085997402a5e2241316bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae06b86f19fbfacdc7b4ec171a793d3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a6ae06b86f19fbfacdc7b4ec171a793d3">get_activations</a> ()</td></tr>
<tr class="separator:a6ae06b86f19fbfacdc7b4ec171a793d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0f8e32e2b17953f87652f855ccfbf9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9">reset_counters</a> ()</td></tr>
<tr class="separator:a0a0f8e32e2b17953f87652f855ccfbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb5c17926ba216e062e8c3b4124c7d7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abbb5c17926ba216e062e8c3b4124c7d7">get_minibatch_size</a> () const </td></tr>
<tr class="separator:abbb5c17926ba216e062e8c3b4124c7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63218a644eb6123ddbdd4f09947a24f"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f">get_effective_minibatch_size</a> () const </td></tr>
<tr class="separator:ab63218a644eb6123ddbdd4f09947a24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30c658914f6d85fa228267f1246febf"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf">set_effective_minibatch_size</a> (int size)</td></tr>
<tr class="separator:ae30c658914f6d85fa228267f1246febf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee56be91337bbd78bc4371a8159b760"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a> () const </td></tr>
<tr class="separator:acee56be91337bbd78bc4371a8159b760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b76376a530210e37665afb7d55540c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a52b76376a530210e37665afb7d55540c">get_neural_network_model</a> () const </td></tr>
<tr class="separator:a52b76376a530210e37665afb7d55540c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10731b838313aa7259fa62d5d229a76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ab10731b838313aa7259fa62d5d229a76">set_neural_network_model</a> (<a class="el" href="classlbann_1_1model.html">model</a> *const m)</td></tr>
<tr class="separator:ab10731b838313aa7259fa62d5d229a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac13af6f5ee8316d64c550bef919ee0"><td class="memItemLeft" align="right" valign="top">virtual El::Matrix&lt; El::Int &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a0ac13af6f5ee8316d64c550bef919ee0">get_sample_indices_per_mb</a> ()</td></tr>
<tr class="separator:a0ac13af6f5ee8316d64c550bef919ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13eafbc8040160268f0782959014cd94"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a13eafbc8040160268f0782959014cd94">saveToFile</a> (int fd, const char *filename)</td></tr>
<tr class="separator:a13eafbc8040160268f0782959014cd94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae0e6015dd427c63236a07f8cbd3878"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a1ae0e6015dd427c63236a07f8cbd3878">loadFromFile</a> (int fd, const char *filename)</td></tr>
<tr class="separator:a1ae0e6015dd427c63236a07f8cbd3878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3fee4a1a65d7c478165f65ebab6127d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af3fee4a1a65d7c478165f65ebab6127d">saveToCheckpoint</a> (int fd, const char *filename, size_t *bytes)</td></tr>
<tr class="separator:af3fee4a1a65d7c478165f65ebab6127d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac9335d75d817fc2d5cf171da9b7e22"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7ac9335d75d817fc2d5cf171da9b7e22">loadFromCheckpoint</a> (int fd, const char *filename, size_t *bytes)</td></tr>
<tr class="separator:a7ac9335d75d817fc2d5cf171da9b7e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3821799295d5c30c5f47fd61880b9cf4"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3821799295d5c30c5f47fd61880b9cf4">saveToCheckpointShared</a> (<a class="el" href="classlbann_1_1persist.html">persist</a> &amp;p)</td></tr>
<tr class="separator:a3821799295d5c30c5f47fd61880b9cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2524835a05a2d88c92e546e15a80a9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acd2524835a05a2d88c92e546e15a80a9">loadFromCheckpointShared</a> (<a class="el" href="classlbann_1_1persist.html">persist</a> &amp;p)</td></tr>
<tr class="separator:acd2524835a05a2d88c92e546e15a80a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a935881e25a98b4ffad1985dc04c19572"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a935881e25a98b4ffad1985dc04c19572">fp_set_std_matrix_view</a> ()</td></tr>
<tr class="separator:a935881e25a98b4ffad1985dc04c19572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad388ef1cc8ff6f43e531de7dbd62d996"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad388ef1cc8ff6f43e531de7dbd62d996">bp_set_std_matrix_view</a> ()</td></tr>
<tr class="separator:ad388ef1cc8ff6f43e531de7dbd62d996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac852ba889cd215ddf146a89fe4db5ed1"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac852ba889cd215ddf146a89fe4db5ed1">fp_input</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer=NULL) const </td></tr>
<tr class="separator:ac852ba889cd215ddf146a89fe4db5ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9bac4c75239b36803c4946b7bcdf082"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082">fp_output</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer=NULL) const </td></tr>
<tr class="separator:aa9bac4c75239b36803c4946b7bcdf082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5777547f66830dda03bd42b9cb93369f"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5777547f66830dda03bd42b9cb93369f">bp_input</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer=NULL) const </td></tr>
<tr class="separator:a5777547f66830dda03bd42b9cb93369f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2419b0b22667c910b68d41d7730d13"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13">bp_output</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer=NULL) const </td></tr>
<tr class="separator:ada2419b0b22667c910b68d41d7730d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb525b60e6fc0613f09f54648bc27b6"><td class="memItemLeft" align="right" valign="top">virtual vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6">fp_output_dims</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer=NULL) const </td></tr>
<tr class="separator:a9eb525b60e6fc0613f09f54648bc27b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90fce1b06c1f2abb480e18cfe08a9746"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746">setup_dims</a> ()</td></tr>
<tr class="separator:a90fce1b06c1f2abb480e18cfe08a9746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a89f8a68762c677d48efe384676e81"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81">setup_data</a> ()</td></tr>
<tr class="separator:a50a89f8a68762c677d48efe384676e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36aa22ef90ce4de65abe729d38490863"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863">setup_gpu</a> ()</td></tr>
<tr class="separator:a36aa22ef90ce4de65abe729d38490863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705cdeb600e57a076a24f6be1c31f5a5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5">setup_views</a> ()</td></tr>
<tr class="separator:a705cdeb600e57a076a24f6be1c31f5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a30fcb1b5ab3c47ff5c28a4920967c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a99a30fcb1b5ab3c47ff5c28a4920967c">fp_compute</a> ()</td></tr>
<tr class="separator:a99a30fcb1b5ab3c47ff5c28a4920967c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050f01cb51412227b1df289587d1d7ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a050f01cb51412227b1df289587d1d7ba">bp_compute</a> ()</td></tr>
<tr class="separator:a050f01cb51412227b1df289587d1d7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e08fc96a612f67ade6ba3809536d85"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a70e08fc96a612f67ade6ba3809536d85">update_compute</a> ()</td></tr>
<tr class="separator:a70e08fc96a612f67ade6ba3809536d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a09c7d2b97bd211099528f5b3c33c31e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a></td></tr>
<tr class="memdesc:a09c7d2b97bd211099528f5b3c33c31e3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlbann_1_1Layer.html">Layer</a> index (start with 0)  <a href="#a09c7d2b97bd211099528f5b3c33c31e3">More...</a><br/></td></tr>
<tr class="separator:a09c7d2b97bd211099528f5b3c33c31e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de05c52f22e0bbd7c703bec3ad4dbf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a></td></tr>
<tr class="separator:a5de05c52f22e0bbd7c703bec3ad4dbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5ebc8a7d9329d8a773ed787e7b41d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a></td></tr>
<tr class="memdesc:a6b5ebc8a7d9329d8a773ed787e7b41d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of neurons.  <a href="#a6b5ebc8a7d9329d8a773ed787e7b41d8">More...</a><br/></td></tr>
<tr class="separator:a6b5ebc8a7d9329d8a773ed787e7b41d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd6178d21498c9095cd947ae1eb2d6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a></td></tr>
<tr class="memdesc:adfd6178d21498c9095cd947ae1eb2d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of dimensions in neuron tensor.  <a href="#adfd6178d21498c9095cd947ae1eb2d6a">More...</a><br/></td></tr>
<tr class="separator:adfd6178d21498c9095cd947ae1eb2d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb34bb8031f57a483e2e327a5f229f48"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a></td></tr>
<tr class="memdesc:abb34bb8031f57a483e2e327a5f229f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Neuron tensor dimensions.  <a href="#abb34bb8031f57a483e2e327a5f229f48">More...</a><br/></td></tr>
<tr class="separator:abb34bb8031f57a483e2e327a5f229f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b30f4e28d58204bfcbb76886f9136d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a></td></tr>
<tr class="memdesc:ac7b30f4e28d58204bfcbb76886f9136d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of neurons in previous layer.  <a href="#ac7b30f4e28d58204bfcbb76886f9136d">More...</a><br/></td></tr>
<tr class="separator:ac7b30f4e28d58204bfcbb76886f9136d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc052afb38f170e839db00d3c8151d1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a></td></tr>
<tr class="memdesc:adc052afb38f170e839db00d3c8151d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of dimensions in previous layer's neuron tensor.  <a href="#adc052afb38f170e839db00d3c8151d1e">More...</a><br/></td></tr>
<tr class="separator:adc052afb38f170e839db00d3c8151d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae204d1a2a79606eaa117273857ff62a3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a></td></tr>
<tr class="memdesc:ae204d1a2a79606eaa117273857ff62a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Neuron tensor dimensions in previous layer.  <a href="#ae204d1a2a79606eaa117273857ff62a3">More...</a><br/></td></tr>
<tr class="separator:ae204d1a2a79606eaa117273857ff62a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b115cb89d6e8081de3f148a8ad2ef7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a></td></tr>
<tr class="separator:af8b115cb89d6e8081de3f148a8ad2ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d6e3e65adcfee83e953b63ff5e9121"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a></td></tr>
<tr class="memdesc:a81d6e3e65adcfee83e953b63ff5e9121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local copy of the error signal from "previous" layer ((# neurons) x mini-batch size)  <a href="#a81d6e3e65adcfee83e953b63ff5e9121">More...</a><br/></td></tr>
<tr class="separator:a81d6e3e65adcfee83e953b63ff5e9121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1ab0c18e78cd82af4cf24b73ec96bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a></td></tr>
<tr class="memdesc:a3f1ab0c18e78cd82af4cf24b73ec96bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in previous error signal matrix.  <a href="#a3f1ab0c18e78cd82af4cf24b73ec96bc">More...</a><br/></td></tr>
<tr class="separator:a3f1ab0c18e78cd82af4cf24b73ec96bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a28e5b795fcd852dea62e57d7a6f97e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a></td></tr>
<tr class="memdesc:a7a28e5b795fcd852dea62e57d7a6f97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size)  <a href="#a7a28e5b795fcd852dea62e57d7a6f97e">More...</a><br/></td></tr>
<tr class="separator:a7a28e5b795fcd852dea62e57d7a6f97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871b103aedbd95b5205c24b66ef74dfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a></td></tr>
<tr class="memdesc:a871b103aedbd95b5205c24b66ef74dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in activations matrix.  <a href="#a871b103aedbd95b5205c24b66ef74dfa">More...</a><br/></td></tr>
<tr class="separator:a871b103aedbd95b5205c24b66ef74dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5e339cda98356c68063ea3845a94d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a></td></tr>
<tr class="separator:a8f5e339cda98356c68063ea3845a94d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eba0e6629a2205291c3443a956a7c1a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a></td></tr>
<tr class="memdesc:a3eba0e6629a2205291c3443a956a7c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to previous layer.  <a href="#a3eba0e6629a2205291c3443a956a7c1a">More...</a><br/></td></tr>
<tr class="separator:a3eba0e6629a2205291c3443a956a7c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf38e5b69ae1a0538d676f91a00ceac1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a></td></tr>
<tr class="memdesc:acf38e5b69ae1a0538d676f91a00ceac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to next layer.  <a href="#acf38e5b69ae1a0538d676f91a00ceac1">More...</a><br/></td></tr>
<tr class="separator:acf38e5b69ae1a0538d676f91a00ceac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ae6cca8efd036e6f496d3b4f5c1bf9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a></td></tr>
<tr class="memdesc:a43ae6cca8efd036e6f496d3b4f5c1bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error signal to "next" layer (i.e. deltas) ((# neurons) x mini-batch size)  <a href="#a43ae6cca8efd036e6f496d3b4f5c1bf9">More...</a><br/></td></tr>
<tr class="separator:a43ae6cca8efd036e6f496d3b4f5c1bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fccbe7596578869ee0317c3d2542f35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a></td></tr>
<tr class="memdesc:a2fccbe7596578869ee0317c3d2542f35"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in error signal matrix.  <a href="#a2fccbe7596578869ee0317c3d2542f35">More...</a><br/></td></tr>
<tr class="separator:a2fccbe7596578869ee0317c3d2542f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf8aa63927a205c28f971e91c24c89f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a></td></tr>
<tr class="memdesc:acbf8aa63927a205c28f971e91c24c89f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local view or copy of the activations from the "previous" layer ((# previous layer's neurons) x mini-batch size)  <a href="#acbf8aa63927a205c28f971e91c24c89f">More...</a><br/></td></tr>
<tr class="separator:acbf8aa63927a205c28f971e91c24c89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac590e0f3831d1c7b204275c89375ee14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a></td></tr>
<tr class="memdesc:ac590e0f3831d1c7b204275c89375ee14"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in previous activations matrix.  <a href="#ac590e0f3831d1c7b204275c89375ee14">More...</a><br/></td></tr>
<tr class="separator:ac590e0f3831d1c7b204275c89375ee14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7881cb5eff5207c15fa835d65462e8f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a></td></tr>
<tr class="separator:af7881cb5eff5207c15fa835d65462e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08dbb94239e3b8c96329786c57c72e21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcudnn_1_1cudnn__manager.html">cudnn::cudnn_manager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a></td></tr>
<tr class="memdesc:a08dbb94239e3b8c96329786c57c72e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">cuDNN manager  <a href="#a08dbb94239e3b8c96329786c57c72e21">More...</a><br/></td></tr>
<tr class="separator:a08dbb94239e3b8c96329786c57c72e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e8618c7af666db28f01e7e1450cda57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a></td></tr>
<tr class="separator:a9e8618c7af666db28f01e7e1450cda57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d34e7741b22b74330738e2cf8f774a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a></td></tr>
<tr class="separator:a1d34e7741b22b74330738e2cf8f774a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ee7bf7544942bc8cf208b565349c66"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a></td></tr>
<tr class="separator:a94ee7bf7544942bc8cf208b565349c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ead6e739e08170ef49c11f84eb638c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">fp_compute_time</a></td></tr>
<tr class="separator:a19ead6e739e08170ef49c11f84eb638c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa9acb195346090fffcd64013295479"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a></td></tr>
<tr class="separator:abaa9acb195346090fffcd64013295479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f90fa1ec6d7fb2288a40ada0105d11"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">bp_compute_time</a></td></tr>
<tr class="separator:a18f90fa1ec6d7fb2288a40ada0105d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6c1fa01659749b22de59baf8259b84"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a></td></tr>
<tr class="separator:abd6c1fa01659749b22de59baf8259b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00052">52</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a852a2187015f25204a358aafaf561dc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::Layer::Layer </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mbsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00073">73</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  : <a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>(index),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>(<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a>(<a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214">execution_mode::training</a>),</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>(<span class="keyword">nullptr</span>),</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a>(mbsize),</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a>(mbsize)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// Initialize neuron tensor dimensions</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> = 0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a> = 1;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a> = std::vector&lt;int&gt;(1, 0);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a> = 0;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a> = 1;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a> = std::vector&lt;int&gt;(1, 0);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// Initialize model</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a> = NULL;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Initialize GPU information</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor"></span>  m_fp_input_pinned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  m_fp_output_pinned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  m_bp_input_pinned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  m_bp_output_pinned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  m_prev_neurons_cudnn_desc = NULL;  </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  m_neurons_cudnn_desc = NULL;  </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9">reset_counters</a>();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a0a0f8e32e2b17953f87652f855ccfbf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9">lbann::Layer::reset_counters</a></div><div class="ttdeci">virtual void reset_counters()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00150">layer.hpp:150</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a1d34e7741b22b74330738e2cf8f774a9"><div class="ttname"><a href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">lbann::Layer::m_effective_mbsize</a></div><div class="ttdeci">int m_effective_mbsize</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00320">layer.hpp:320</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="base_8hpp_html_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214"><div class="ttname"><a href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214">execution_mode::training</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00211">layer.hpp:211</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a852a2187015f25204a358aafaf561dc8_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a852a2187015f25204a358aafaf561dc8_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a852a2187015f25204a358aafaf561dc8_cgraph" id="classlbann_1_1Layer_a852a2187015f25204a358aafaf561dc8_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9" title="lbann::Layer::reset\l_counters" alt="" coords="187,5,317,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a247cc68c730284f10a2cb42985fe5f3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::Layer::Layer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00107">107</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                               :</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>(other.m_index),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>(other.m_comm),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a>(other.m_num_neurons),</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a>(other.m_num_neuron_dims),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>(other.m_neuron_dims),</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a>(other.m_num_prev_neurons),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a>(other.m_num_prev_neuron_dims),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>(other.m_prev_neuron_dims),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a>(other.m_execution_mode),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a>(other.m_neural_network_model),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>(other.m_prev_layer),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>(other.m_next_layer),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>(other.m_using_gpus),</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>(other.m_cudnn),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a>(other.m_mini_batch_size),</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a>(other.m_effective_mbsize),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a>(other.fp_time),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">fp_compute_time</a>(other.fp_compute_time),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a>(other.bp_time),</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">bp_compute_time</a>(other.bp_compute_time),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a>(other.update_time) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// No cuDNN support yet.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;cannot copy layers with cuDNN enabled&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a> = other.m_prev_error_signal-&gt;Copy();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a> = other.m_error_signal-&gt;Copy();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a> = other.m_prev_error_signal_v-&gt;Copy();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a> = other.m_error_signal_v-&gt;Copy();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a> = other.m_activations-&gt;Copy();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a> = other.m_prev_activations-&gt;Copy();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a> = other.m_activations_v-&gt;Copy();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a> = other.m_prev_activations_v-&gt;Copy();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a19ead6e739e08170ef49c11f84eb638c"><div class="ttname"><a href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">lbann::Layer::fp_compute_time</a></div><div class="ttdeci">double fp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00325">layer.hpp:325</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abd6c1fa01659749b22de59baf8259b84"><div class="ttname"><a href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">lbann::Layer::update_time</a></div><div class="ttdeci">double update_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00331">layer.hpp:331</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a1d34e7741b22b74330738e2cf8f774a9"><div class="ttname"><a href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">lbann::Layer::m_effective_mbsize</a></div><div class="ttdeci">int m_effective_mbsize</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00320">layer.hpp:320</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a18f90fa1ec6d7fb2288a40ada0105d11"><div class="ttname"><a href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">lbann::Layer::bp_compute_time</a></div><div class="ttdeci">double bp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00329">layer.hpp:329</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acf38e5b69ae1a0538d676f91a00ceac1"><div class="ttname"><a href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">lbann::Layer::m_next_layer</a></div><div class="ttdeci">const Layer * m_next_layer</div><div class="ttdoc">Pointer to next layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00222">layer.hpp:222</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00211">layer.hpp:211</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a81d6e3e65adcfee83e953b63ff5e9121"><div class="ttname"><a href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">lbann::Layer::m_prev_error_signal</a></div><div class="ttdeci">ElMat * m_prev_error_signal</div><div class="ttdoc">Local copy of the error signal from &quot;previous&quot; layer ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00213">layer.hpp:213</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a2fccbe7596578869ee0317c3d2542f35"><div class="ttname"><a href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">lbann::Layer::m_error_signal_v</a></div><div class="ttdeci">ElMat * m_error_signal_v</div><div class="ttdoc">View of active columns in error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00225">layer.hpp:225</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abaa9acb195346090fffcd64013295479"><div class="ttname"><a href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">lbann::Layer::bp_time</a></div><div class="ttdeci">double bp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00327">layer.hpp:327</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a94ee7bf7544942bc8cf208b565349c66"><div class="ttname"><a href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">lbann::Layer::fp_time</a></div><div class="ttdeci">double fp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00323">layer.hpp:323</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68c3f57587956da938406812f13ecb78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lbann::Layer::~Layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00191">191</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;              {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">if</span>(m_prev_neurons_cudnn_desc) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    CHECK_CUDNN(cudnnDestroyTensorDescriptor(m_prev_neurons_cudnn_desc));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">if</span>(m_neurons_cudnn_desc) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    CHECK_CUDNN(cudnnDestroyTensorDescriptor(m_neurons_cudnn_desc));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_activations_d);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_error_signal_d);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_prev_activations_d);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_prev_error_signal_d);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span>(m_fp_input_pinned) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;unpin_matrix(*<a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span>(m_fp_output_pinned) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;unpin_matrix(*<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span>(m_bp_input_pinned) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;unpin_matrix(*<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">if</span>(m_bp_output_pinned) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;unpin_matrix(*<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor"></span>  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a81d6e3e65adcfee83e953b63ff5e9121"><div class="ttname"><a href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">lbann::Layer::m_prev_error_signal</a></div><div class="ttdeci">ElMat * m_prev_error_signal</div><div class="ttdoc">Local copy of the error signal from &quot;previous&quot; layer ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00213">layer.hpp:213</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a2fccbe7596578869ee0317c3d2542f35"><div class="ttname"><a href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">lbann::Layer::m_error_signal_v</a></div><div class="ttdeci">ElMat * m_error_signal_v</div><div class="ttdoc">View of active columns in error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00225">layer.hpp:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0a502d9218d7dbbfd10ebebb6f917033"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::back_prop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00279">279</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                      {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">double</span> bp_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// Get incoming error signal and convert matrix distribution if necessary</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a> != NULL) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keyword">const</span> DistData&amp; prev_dist = <a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13">bp_output</a>(<span class="keyword">this</span>).DistData();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keyword">const</span> DistData&amp; curr_dist = <a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>-&gt;DistData();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span>(prev_dist.colDist == curr_dist.colDist</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;       &amp;&amp; prev_dist.rowDist == curr_dist.rowDist) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      El::LockedView(*<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>, <a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13">bp_output</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      El::Copy(<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13">bp_output</a>(<span class="keyword">this</span>), *<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// Set the view for all of the standard matrices based on the</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// current mini-batch size</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ad388ef1cc8ff6f43e531de7dbd62d996">bp_set_std_matrix_view</a>();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Transfer inputs from CPU to GPUs if needed</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a> == NULL || !<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a>()) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;scatter_to_gpus(m_prev_error_signal_d,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                               <a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a>-&gt;LockedMatrix(),</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                               m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      m_prev_error_signal_d = <a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;m_error_signal_d;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// Backprop the compute function.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordtype">double</span> bp_compute_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a050f01cb51412227b1df289587d1d7ba">bp_compute</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">bp_compute_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - bp_compute_start;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Transfer outputs from GPUs to CPU if needed</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> == NULL || !<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a>()) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;gather_from_gpus(<a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a>-&gt;Matrix(),</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                m_error_signal_d,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;synchronize();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - bp_start;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_ada2419b0b22667c910b68d41d7730d13"><div class="ttname"><a href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13">lbann::Layer::bp_output</a></div><div class="ttdeci">virtual const AbsDistMat &amp; bp_output(const Layer *prev_layer=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00714">layer.cpp:714</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acee56be91337bbd78bc4371a8159b760"><div class="ttname"><a href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">lbann::Layer::using_gpus</a></div><div class="ttdeci">bool using_gpus() const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00176">layer.hpp:176</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ad388ef1cc8ff6f43e531de7dbd62d996"><div class="ttname"><a href="classlbann_1_1Layer.html#ad388ef1cc8ff6f43e531de7dbd62d996">lbann::Layer::bp_set_std_matrix_view</a></div><div class="ttdeci">virtual void bp_set_std_matrix_view()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00540">layer.cpp:540</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a18f90fa1ec6d7fb2288a40ada0105d11"><div class="ttname"><a href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">lbann::Layer::bp_compute_time</a></div><div class="ttdeci">double bp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00329">layer.hpp:329</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acf38e5b69ae1a0538d676f91a00ceac1"><div class="ttname"><a href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">lbann::Layer::m_next_layer</a></div><div class="ttdeci">const Layer * m_next_layer</div><div class="ttdoc">Pointer to next layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00222">layer.hpp:222</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="timer_8hpp_source.html#l00037">timer.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a050f01cb51412227b1df289587d1d7ba"><div class="ttname"><a href="classlbann_1_1Layer.html#a050f01cb51412227b1df289587d1d7ba">lbann::Layer::bp_compute</a></div><div class="ttdeci">virtual void bp_compute()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00277">layer.hpp:277</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a81d6e3e65adcfee83e953b63ff5e9121"><div class="ttname"><a href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">lbann::Layer::m_prev_error_signal</a></div><div class="ttdeci">ElMat * m_prev_error_signal</div><div class="ttdoc">Local copy of the error signal from &quot;previous&quot; layer ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00213">layer.hpp:213</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a2fccbe7596578869ee0317c3d2542f35"><div class="ttname"><a href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">lbann::Layer::m_error_signal_v</a></div><div class="ttdeci">ElMat * m_error_signal_v</div><div class="ttdoc">View of active columns in error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00225">layer.hpp:225</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abaa9acb195346090fffcd64013295479"><div class="ttname"><a href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">lbann::Layer::bp_time</a></div><div class="ttdeci">double bp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00327">layer.hpp:327</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a0a502d9218d7dbbfd10ebebb6f917033_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a0a502d9218d7dbbfd10ebebb6f917033_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a0a502d9218d7dbbfd10ebebb6f917033_cgraph" id="classlbann_1_1Layer_a0a502d9218d7dbbfd10ebebb6f917033_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="247,5,358,32"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13" title="lbann::Layer::bp_output" alt="" coords="223,56,382,83"/><area shape="rect" id="node4" href="classlbann_1_1Layer.html#ad388ef1cc8ff6f43e531de7dbd62d996" title="lbann::Layer::bp_set\l_std_matrix_view" alt="" coords="233,107,373,149"/><area shape="rect" id="node6" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760" title="lbann::Layer::using_gpus" alt="" coords="219,173,386,200"/><area shape="rect" id="node7" href="classlbann_1_1Layer.html#a050f01cb51412227b1df289587d1d7ba" title="lbann::Layer::bp_compute" alt="" coords="217,224,389,251"/><area shape="rect" id="node5" href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb" title="lbann::model::get_current\l_mini_batch_size" alt="" coords="438,107,607,149"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a050f01cb51412227b1df289587d1d7ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::bp_compute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform the layers work / main function for backward propagation </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#ac223a97714153369c52db5b348f0dc15">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#aece7db8bde8cb3dfc88726d2c0aae852">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#a121ba408814e3c2537b2cf015a35ea4a">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#a28d046be7848eafaa8eb2d4f935e743c">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sum__layer.html#a645e533709f299cc3e94e7782dc7ea4d">lbann::sum_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#a36b0d971e493300b64c9689a41bf3cb2">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1branch__layer.html#a9ba4ed9ff364be5176015a2bbb8b6054">lbann::branch_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1local__response__normalization__layer.html#a1c0938d5e56c15a6ea8a05aa90846fa4">lbann::local_response_normalization_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1dropout.html#a619e2c4a87db449d5c18c072b24747ee">lbann::dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#a704693b1c76dd7405497d3face8db2be">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__dropout.html#a616165378e62f80cb83527b52328293b">lbann::selu_dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#a34c9c5cc3c6f4be2c6d684a51708abd9">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#ae3cb406251469426ea08276e69f559ec">lbann::reconstruction_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1entrywise__activation__layer.html#aed9bae332633ad5737781230d1425942">lbann::entrywise_activation_layer</a>, and <a class="el" href="classlbann_1_1id__layer.html#aca051c1798cc5138bd48a2d22f24c1cc">lbann::id_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00277">277</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a050f01cb51412227b1df289587d1d7ba_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a050f01cb51412227b1df289587d1d7ba_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a050f01cb51412227b1df289587d1d7ba_icgraph" id="classlbann_1_1Layer_a050f01cb51412227b1df289587d1d7ba_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a0a502d9218d7dbbfd10ebebb6f917033" title="lbann::Layer::back_prop" alt="" coords="227,5,389,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5777547f66830dda03bd42b9cb93369f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp; lbann::Layer::bp_input </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>next_layer</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get backward propagation input, as seen by next layer. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1branch__layer.html#af43c92180c072a85daacd680a832ff12">lbann::branch_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00710">710</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                                                               {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a81d6e3e65adcfee83e953b63ff5e9121"><div class="ttname"><a href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">lbann::Layer::m_prev_error_signal</a></div><div class="ttdeci">ElMat * m_prev_error_signal</div><div class="ttdoc">Local copy of the error signal from &quot;previous&quot; layer ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00213">layer.hpp:213</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada2419b0b22667c910b68d41d7730d13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp; lbann::Layer::bp_output </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>prev_layer</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get backward propagation output, as seen by previous layer. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1sum__layer.html#accf49fdc381f0e3b50c52ee21992fbcd">lbann::sum_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00714">714</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                                                {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ada2419b0b22667c910b68d41d7730d13_icgraph.png" border="0" usemap="#classlbann_1_1Layer_ada2419b0b22667c910b68d41d7730d13_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ada2419b0b22667c910b68d41d7730d13_icgraph" id="classlbann_1_1Layer_ada2419b0b22667c910b68d41d7730d13_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a0a502d9218d7dbbfd10ebebb6f917033" title="lbann::Layer::back_prop" alt="" coords="214,5,375,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad388ef1cc8ff6f43e531de7dbd62d996"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::bp_set_std_matrix_view </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup views of the matrices for the layer's backward propagation. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1input__layer.html#a40b4f8647dceb9cd3277fd19c8e1399c">lbann::input_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00540">540</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                   {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  El::Int cur_mini_batch_size = <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a>-&gt;<a class="code" href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb">get_current_mini_batch_size</a>();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  El::LockedView(*<a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>, *<a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>, El::ALL, El::IR(0, cur_mini_batch_size));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  El::View(*<a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a>, *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>, El::ALL, El::IR(0, cur_mini_batch_size));</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>-&gt;Height() &gt; 0) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    El::LockedView(*<a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a>, *<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>, El::ALL,</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                   El::IR(0, cur_mini_batch_size));</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  El::View(*<a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a>, *<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>, El::ALL, El::IR(0, cur_mini_batch_size));</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1model_html_a619d9a51f7e5c2da7a237d95e6786ceb"><div class="ttname"><a href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb">lbann::model::get_current_mini_batch_size</a></div><div class="ttdeci">int get_current_mini_batch_size()</div><div class="ttdef"><b>Definition:</b> <a href="model_8hpp_source.html#l00119">model.hpp:119</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a81d6e3e65adcfee83e953b63ff5e9121"><div class="ttname"><a href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">lbann::Layer::m_prev_error_signal</a></div><div class="ttdeci">ElMat * m_prev_error_signal</div><div class="ttdoc">Local copy of the error signal from &quot;previous&quot; layer ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00213">layer.hpp:213</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a2fccbe7596578869ee0317c3d2542f35"><div class="ttname"><a href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">lbann::Layer::m_error_signal_v</a></div><div class="ttdeci">ElMat * m_error_signal_v</div><div class="ttdoc">View of active columns in error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00225">layer.hpp:225</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_cgraph.png" border="0" usemap="#classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_cgraph" id="classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb" title="lbann::model::get_current\l_mini_batch_size" alt="" coords="195,5,365,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_icgraph.png" border="0" usemap="#classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_icgraph" id="classlbann_1_1Layer_ad388ef1cc8ff6f43e531de7dbd62d996_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a0a502d9218d7dbbfd10ebebb6f917033" title="lbann::Layer::back_prop" alt="" coords="195,12,357,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeec1c710c3d53b5e43a4d4f67b0a21b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::check_setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validate that the setup is reasonable. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1learning.html#a43412ff0de7514a8b29309e660777ef5">lbann::learning</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00493">493</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_aeec1c710c3d53b5e43a4d4f67b0a21b2_icgraph.png" border="0" usemap="#classlbann_1_1Layer_aeec1c710c3d53b5e43a4d4f67b0a21b2_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_aeec1c710c3d53b5e43a4d4f67b0a21b2_icgraph" id="classlbann_1_1Layer_aeec1c710c3d53b5e43a4d4f67b0a21b2_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1learning.html#a43412ff0de7514a8b29309e660777ef5" title="lbann::learning::check\l_setup" alt="" coords="189,5,339,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4e3ac01d376d9d0a1153d49b2253d03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> lbann::Layer::checkGradientMB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;&#160;</td>
          <td class="paramname"><em>PrevLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td>
          <td class="paramname"><em>Epsilon</em> = <code>1e-4</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00081">81</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                                            {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  };</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af420f22bbac801c85483ade84588a23f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classlbann_1_1Layer.html">Layer</a>* lbann::Layer::copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classlbann_1_1convolution__layer.html#a3dbb18c3721ba6ac044707b5631fc6e0">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#a4a2752236ddbfe11f08d79ba980f59a0">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#a9b759a4555f36a8b4738a690f0c7b328">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#a8a8d62ec64de62649607929efb7bfd68">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1local__response__normalization__layer.html#a16b54ae822dfdf77c6af6a025b11fc30">lbann::local_response_normalization_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__dropout.html#a53f8318c699b653dc8c5768ed7682e2e">lbann::selu_dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1dropout.html#a5903df519061289c908c3f36e4551b8a">lbann::dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1relu__layer.html#a384316c4aa782d466b569784f84d2077">lbann::relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#ac74b392ab0dd45d980a4a32e22951bbe">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1branch__layer.html#a25d13b639ce88e4adf1a2c28cb833117">lbann::branch_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sum__layer.html#a6b01f453edc20b7b6d00096a3de5570f">lbann::sum_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1elu__layer.html#a3eef6b42c8b870d6fc60f8e4928cdf4a">lbann::elu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__distributed__minibatch.html#a404359df6a5e25427e50dacdc8401c46">lbann::input_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#a6346415f96d58e6353fc01fc859606ef">lbann::reconstruction_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#adc941c41863347cf14ac8cfc4a1c2593">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__layer.html#ade69332f032c7429d300c5d4fd430c6c">lbann::selu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1leaky__relu__layer.html#abcdfe38f01e46446f08764ccf86524b4">lbann::leaky_relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__partitioned__minibatch.html#a9c75e60b93a7d90ca2d0cb77172c96de">lbann::input_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#a4d79f43ab12aa91d3e608562d5dec62c">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sigmoid__layer.html#a34f60e7e12c7963be9c482db57125576">lbann::sigmoid_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softplus__layer.html#ac158b28135a3412acbdcffe6fc564660">lbann::softplus_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1smooth__relu__layer.html#af0d87cef82692b3ed3f02dbb2a26d8f0">lbann::smooth_relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1id__layer.html#a79cceebecdf4f7e3523cf8c19ac46d9f">lbann::id_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1tanh__layer.html#a1fdb9514e43749de0f63390a5e1e1c3c">lbann::tanh_layer&lt; T_layout &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="af258db35456927df5df31af6bcd33473"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::epoch_print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print information at the end of an epoch. This is always called on the model masters and should synchronize printing if needed. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1reconstruction__layer.html#a5e7084309c8d2049241946369c01ddc3">lbann::reconstruction_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1target__layer.html#ab36a7f84eb5a59b3723399ffe92a446c">lbann::target_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00075">75</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12706025928f5e3d3ec3d9407c66c96b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::epoch_reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called on every layer at the end of each epoch to give it the chance to reset/clean up. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1reconstruction__layer.html#a6405e1323d6872ae3711397f12751ffc">lbann::reconstruction_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1target__layer.html#af1edacbfc44d1a9df1df3b26fe2ea22b">lbann::target_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00080">80</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a12706025928f5e3d3ec3d9407c66c96b_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a12706025928f5e3d3ec3d9407c66c96b_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a12706025928f5e3d3ec3d9407c66c96b_icgraph" id="classlbann_1_1Layer_a12706025928f5e3d3ec3d9407c66c96b_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1reconstruction__layer.html#a6405e1323d6872ae3711397f12751ffc" title="lbann::reconstruction\l_layer::epoch_reset" alt="" coords="190,5,333,46"/><area shape="rect" id="node3" href="classlbann_1_1target__layer.html#af1edacbfc44d1a9df1df3b26fe2ea22b" title="lbann::target_layer\l::epoch_reset" alt="" coords="197,70,326,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2483ccd8a4406a6891f6176f1001b4e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::forward_prop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00228">228</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                         {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">double</span> fp_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// Get incoming activations and convert matrix distribution if necessary</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> != NULL) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">const</span> DistData&amp; prev_dist = <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082">fp_output</a>(<span class="keyword">this</span>).DistData();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keyword">const</span> DistData&amp; curr_dist = <a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>-&gt;DistData();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span>(prev_dist.colDist == curr_dist.colDist</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;       &amp;&amp; prev_dist.rowDist == curr_dist.rowDist) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      El::LockedView(*<a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>, <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082">fp_output</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      El::Copy(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082">fp_output</a>(<span class="keyword">this</span>), *<a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Set matrix views based on current mini-batch size</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a935881e25a98b4ffad1985dc04c19572">fp_set_std_matrix_view</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Transfer inputs from CPU to GPUs if needed</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> == NULL || !<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a>()) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;scatter_to_gpus(m_prev_activations_d,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                               <a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>-&gt;LockedMatrix(),</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                               m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      m_prev_activations_d = <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;m_activations_d;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// Apply layer&#39;s compute function</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordtype">double</span> fp_compute_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a99a30fcb1b5ab3c47ff5c28a4920967c">fp_compute</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">fp_compute_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - fp_compute_start;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Transfer outputs from GPUs to CPU if needed</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a> == NULL || !<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a>()) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;gather_from_gpus(<a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a>-&gt;Matrix(),</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                m_activations_d,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;synchronize();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - fp_start;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a19ead6e739e08170ef49c11f84eb638c"><div class="ttname"><a href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">lbann::Layer::fp_compute_time</a></div><div class="ttdeci">double fp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00325">layer.hpp:325</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a935881e25a98b4ffad1985dc04c19572"><div class="ttname"><a href="classlbann_1_1Layer.html#a935881e25a98b4ffad1985dc04c19572">lbann::Layer::fp_set_std_matrix_view</a></div><div class="ttdeci">virtual void fp_set_std_matrix_view()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00520">layer.cpp:520</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acee56be91337bbd78bc4371a8159b760"><div class="ttname"><a href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">lbann::Layer::using_gpus</a></div><div class="ttdeci">bool using_gpus() const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00176">layer.hpp:176</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a99a30fcb1b5ab3c47ff5c28a4920967c"><div class="ttname"><a href="classlbann_1_1Layer.html#a99a30fcb1b5ab3c47ff5c28a4920967c">lbann::Layer::fp_compute</a></div><div class="ttdeci">virtual void fp_compute()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00275">layer.hpp:275</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acf38e5b69ae1a0538d676f91a00ceac1"><div class="ttname"><a href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">lbann::Layer::m_next_layer</a></div><div class="ttdeci">const Layer * m_next_layer</div><div class="ttdoc">Pointer to next layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00222">layer.hpp:222</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_aa9bac4c75239b36803c4946b7bcdf082"><div class="ttname"><a href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082">lbann::Layer::fp_output</a></div><div class="ttdeci">virtual const AbsDistMat &amp; fp_output(const Layer *next_layer=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00706">layer.cpp:706</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="timer_8hpp_source.html#l00037">timer.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a94ee7bf7544942bc8cf208b565349c66"><div class="ttname"><a href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">lbann::Layer::fp_time</a></div><div class="ttdeci">double fp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00323">layer.hpp:323</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a2483ccd8a4406a6891f6176f1001b4e5_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a2483ccd8a4406a6891f6176f1001b4e5_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a2483ccd8a4406a6891f6176f1001b4e5_cgraph" id="classlbann_1_1Layer_a2483ccd8a4406a6891f6176f1001b4e5_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="259,5,370,32"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082" title="lbann::Layer::fp_output" alt="" coords="237,56,392,83"/><area shape="rect" id="node4" href="classlbann_1_1Layer.html#a935881e25a98b4ffad1985dc04c19572" title="lbann::Layer::fp_set\l_std_matrix_view" alt="" coords="246,107,383,149"/><area shape="rect" id="node9" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760" title="lbann::Layer::using_gpus" alt="" coords="231,173,398,200"/><area shape="rect" id="node10" href="classlbann_1_1Layer.html#a99a30fcb1b5ab3c47ff5c28a4920967c" title="lbann::Layer::fp_compute" alt="" coords="230,224,399,251"/><area shape="rect" id="node5" href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb" title="lbann::model::get_current\l_mini_batch_size" alt="" coords="451,13,621,54"/><area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a502bd724f9fb27f0e899306c69a3ec47" title="lbann::lbann_comm::\lintermodel_allreduce" alt="" coords="465,78,607,119"/><area shape="rect" id="node7" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637" title="lbann::lbann_comm::\lget_num_models" alt="" coords="673,107,815,149"/><area shape="rect" id="node8" href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf" title="lbann::Layer::set_effective\l_minibatch_size" alt="" coords="448,195,624,237"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a99a30fcb1b5ab3c47ff5c28a4920967c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::fp_compute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform the layers work / main function for forward propagation </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#ad3a25a050b7af8113a88e3775da184f7">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#adf3ccf474fa0fc1525c081d350b933b4">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#a78d353b565c49b66d741db2fa8882795">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#af900dea1f07987cd56471a441c5f2f71">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1branch__layer.html#afd03da18adc13cfa4ea2870ad70c788e">lbann::branch_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sum__layer.html#ad206f07ea801bd14859ff1cc0be5aa1a">lbann::sum_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1local__response__normalization__layer.html#a737bbe37391ce96e33a67e9d501df411">lbann::local_response_normalization_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#ae4a4515dbecdffddaa2fbec78b5c1be3">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__dropout.html#ab37a90f9d582454dc06ef569db1a9601">lbann::selu_dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__distributed__minibatch.html#a7efee9601a8571d8c0d644baaedd19b9">lbann::input_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#a6932c43b5996b9f90e4ebbc08b0ed316">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#a56413ddede333fc862b35fccb939a78b">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1dropout.html#ab7fa84c3915f5ceac8eed28a183e4ff1">lbann::dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__partitioned__minibatch.html#a8bbe54cecd09a02d7142aba14eae7224">lbann::input_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#a5fd2bc9fcf77b19ab20a8334324d917a">lbann::reconstruction_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1entrywise__activation__layer.html#a390703bb2a9d214f1211a1f7da97ab0f">lbann::entrywise_activation_layer</a>, and <a class="el" href="classlbann_1_1id__layer.html#a5d90f46f8014dca1386299eb1a5b4d40">lbann::id_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00275">275</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a99a30fcb1b5ab3c47ff5c28a4920967c_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a99a30fcb1b5ab3c47ff5c28a4920967c_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a99a30fcb1b5ab3c47ff5c28a4920967c_icgraph" id="classlbann_1_1Layer_a99a30fcb1b5ab3c47ff5c28a4920967c_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5" title="lbann::Layer::forward_prop" alt="" coords="224,5,400,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac852ba889cd215ddf146a89fe4db5ed1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp; lbann::Layer::fp_input </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>prev_layer</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get forward propagation input, as seen by previous layer. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1sum__layer.html#aef83f457f840caeaf702ac235abd7512">lbann::sum_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00702">702</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                                                               {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9bac4c75239b36803c4946b7bcdf082"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp; lbann::Layer::fp_output </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>next_layer</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get forward propagation output, as seen by next layer. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1branch__layer.html#a85e1a20842827eb5b19b05dc3d01c006">lbann::branch_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00706">706</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                                                                {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_aa9bac4c75239b36803c4946b7bcdf082_icgraph.png" border="0" usemap="#classlbann_1_1Layer_aa9bac4c75239b36803c4946b7bcdf082_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_aa9bac4c75239b36803c4946b7bcdf082_icgraph" id="classlbann_1_1Layer_aa9bac4c75239b36803c4946b7bcdf082_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5" title="lbann::Layer::forward_prop" alt="" coords="208,5,384,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9eb525b60e6fc0613f09f54648bc27b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; int &gt; lbann::Layer::fp_output_dims </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>next_layer</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get forward propagation output dimensions, as seen by next layer. </p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00718">718</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                                                               {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a9eb525b60e6fc0613f09f54648bc27b6_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a9eb525b60e6fc0613f09f54648bc27b6_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a9eb525b60e6fc0613f09f54648bc27b6_icgraph" id="classlbann_1_1Layer_a9eb525b60e6fc0613f09f54648bc27b6_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746" title="lbann::Layer::setup_dims" alt="" coords="245,176,413,203"/><area shape="rect" id="node3" href="classlbann_1_1input__layer.html#a5507a2d6b7e8e2f1c187fe64e739c465" title="lbann::input_layer\l::setup_dims" alt="" coords="475,5,599,46"/><area shape="rect" id="node4" href="classlbann_1_1target__layer.html#adf6ad69a74e097cfbd02d0a75ee1d5c1" title="lbann::target_layer\l::setup_dims" alt="" coords="473,70,602,111"/><area shape="rect" id="node6" href="classlbann_1_1convolution__layer.html#a156721b2cbf972932d317d3c6e0d62d3" title="lbann::convolution\l_layer::setup_dims" alt="" coords="471,135,603,177"/><area shape="rect" id="node7" href="classlbann_1_1fully__connected__layer.html#a062963f46e639ff415d62fd39e798c78" title="lbann::fully_connected\l_layer::setup_dims" alt="" coords="461,201,613,242"/><area shape="rect" id="node8" href="classlbann_1_1pooling__layer.html#a461175c93cb90882125bb494ba1c5271" title="lbann::pooling_layer\l::setup_dims" alt="" coords="469,266,606,307"/><area shape="rect" id="node9" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="471,332,604,359"/><area shape="rect" id="node5" href="classlbann_1_1reconstruction__layer.html#aa97e3fe29a20b5ba4e4c974545df6a2c" title="lbann::reconstruction\l_layer::setup_dims" alt="" coords="662,70,805,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a935881e25a98b4ffad1985dc04c19572"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::fp_set_std_matrix_view </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup views of the matrices for the layer's forward propagation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>BVE FIXME This will cause a bug when you are on the last iteration and the size of the current mini-batch equals the normal mini-batch size. In this case one of the ranks gets out of sync To fix this, we need a flag for when we are on the last mini-batch </dd></dl>

<p>Reimplemented in <a class="el" href="classlbann_1_1learning.html#a8620f7370a6f13dbf3978b6328e319fb">lbann::learning</a>, <a class="el" href="classlbann_1_1target__layer.html#a0de2e0aaa3763c82f67f24cc26e32711">lbann::target_layer</a>, <a class="el" href="classlbann_1_1softmax__layer.html#a2f966102d6d3e1231beccfb61967263f">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#a70059f3bbc6453bf37518e7081e18a57">lbann::reconstruction_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1input__layer.html#a33afda372a6b7121331933e37980ea8f">lbann::input_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00520">520</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                   {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  El::Int cur_mini_batch_size = <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a>-&gt;<a class="code" href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb">get_current_mini_batch_size</a>();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  El::LockedView(*<a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>, *<a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>, El::ALL, El::IR(0, cur_mini_batch_size));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  El::View(*<a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a>, *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>, El::ALL, El::IR(0, cur_mini_batch_size));</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// Update the layer&#39;s effective mini-batch size so it averages properly.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span>(cur_mini_batch_size != <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a> || 1) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// When the current mini-batch is partial, check with the other</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">// models to figure out the entire size of the complete mini-batch</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordtype">int</span> total_mini_batch_size = <a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a502bd724f9fb27f0e899306c69a3ec47">intermodel_allreduce</a>((<span class="keywordtype">int</span>) cur_mini_batch_size);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf">set_effective_minibatch_size</a>(total_mini_batch_size);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf">set_effective_minibatch_size</a>(cur_mini_batch_size * <a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a>());</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae30c658914f6d85fa228267f1246febf"><div class="ttname"><a href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf">lbann::Layer::set_effective_minibatch_size</a></div><div class="ttdeci">virtual void set_effective_minibatch_size(int size)</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00172">layer.hpp:172</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a502bd724f9fb27f0e899306c69a3ec47"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a502bd724f9fb27f0e899306c69a3ec47">lbann::lbann_comm::intermodel_allreduce</a></div><div class="ttdeci">T intermodel_allreduce(T snd, El::mpi::Op op=El::mpi::SUM)</div><div class="ttdef"><b>Definition:</b> <a href="comm_8hpp_source.html#l00210">comm.hpp:210</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a54842b679a3756cf79b43baf46caf637"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">lbann::lbann_comm::get_num_models</a></div><div class="ttdeci">int get_num_models() const </div><div class="ttdef"><b>Definition:</b> <a href="comm_8hpp_source.html#l00108">comm.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1model_html_a619d9a51f7e5c2da7a237d95e6786ceb"><div class="ttname"><a href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb">lbann::model::get_current_mini_batch_size</a></div><div class="ttdeci">int get_current_mini_batch_size()</div><div class="ttdef"><b>Definition:</b> <a href="model_8hpp_source.html#l00119">model.hpp:119</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_cgraph" id="classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#a619d9a51f7e5c2da7a237d95e6786ceb" title="lbann::model::get_current\l_mini_batch_size" alt="" coords="195,5,365,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html#a502bd724f9fb27f0e899306c69a3ec47" title="lbann::lbann_comm::\lintermodel_allreduce" alt="" coords="209,70,351,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637" title="lbann::lbann_comm::\lget_num_models" alt="" coords="417,99,559,141"/><area shape="rect" id="node5" href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf" title="lbann::Layer::set_effective\l_minibatch_size" alt="" coords="192,187,368,229"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_icgraph" id="classlbann_1_1Layer_a935881e25a98b4ffad1985dc04c19572_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1softmax__layer.html#a2f966102d6d3e1231beccfb61967263f" title="lbann::softmax_layer\l::fp_set_std_matrix_view" alt="" coords="196,5,364,46"/><area shape="rect" id="node3" href="classlbann_1_1target__layer.html#a0de2e0aaa3763c82f67f24cc26e32711" title="lbann::target_layer\l::fp_set_std_matrix_view" alt="" coords="196,70,364,111"/><area shape="rect" id="node5" href="classlbann_1_1learning.html#a8620f7370a6f13dbf3978b6328e319fb" title="lbann::learning::fp\l_set_std_matrix_view" alt="" coords="205,135,355,177"/><area shape="rect" id="node6" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5" title="lbann::Layer::forward_prop" alt="" coords="192,201,368,228"/><area shape="rect" id="node4" href="classlbann_1_1reconstruction__layer.html#a70059f3bbc6453bf37518e7081e18a57" title="lbann::reconstruction\l_layer::fp_set_std_matrix_view" alt="" coords="416,70,619,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ae06b86f19fbfacdc7b4ec171a793d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>&amp; lbann::Layer::get_activations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return (a view of) the activations matrix for this layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00146">146</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                   {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a6ae06b86f19fbfacdc7b4ec171a793d3_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a6ae06b86f19fbfacdc7b4ec171a793d3_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a6ae06b86f19fbfacdc7b4ec171a793d3_icgraph" id="classlbann_1_1Layer_a6ae06b86f19fbfacdc7b4ec171a793d3_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1reconstruction__layer.html#a70059f3bbc6453bf37518e7081e18a57" title="lbann::reconstruction\l_layer::fp_set_std_matrix_view" alt="" coords="243,5,445,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checknan.html#ab46f91a3180038c2c046f913ce7aec1c" title="lbann::lbann_callback\l_checknan::on_forward\l_prop_end" alt="" coords="265,69,423,125"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checksmall.html#aea760389b97c3bb25f093dec5bcdbf90" title="lbann::lbann_callback\l_checksmall::on_forward\l_prop_end" alt="" coords="261,149,427,205"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__dump__activations.html#a5de46093614d9372daef3716e75c5265" title="lbann::lbann_callback\l_dump_activations::on\l_forward_prop_end" alt="" coords="267,229,421,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5dfb66e81fc085997402a5e2241316bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08db">data_layout</a> lbann::Layer::get_data_layout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the data layout of the given layer &ndash; Every concrete layer has to overrride this with its T_layout template parameter </p>

<p>Implemented in <a class="el" href="classlbann_1_1convolution__layer.html#a096175733f4066e2c01d9fefdbfa9134">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#a5d0f8cf2f16b0a26f00d1845caa10394">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#aed654d7472aef17d707f8ce5ccb7868d">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#a13767dcc0e780d618963503e3c237005">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1local__response__normalization__layer.html#add957ab929f3d336e7f73b54d36dab8b">lbann::local_response_normalization_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__dropout.html#a6ca53d3125d57c6ea22054199f0ac95e">lbann::selu_dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1dropout.html#a36322cc19a85c563b880b02423010c4c">lbann::dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1relu__layer.html#ab9058569fc95f04d860daf25b1cc530b">lbann::relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#aa56b21c72ef4092d920432da7d634a58">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1branch__layer.html#a4d037e4a10c43202b8455e68658af28d">lbann::branch_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sum__layer.html#aeeb99083d4b7bec2dbf5d57d173a95a5">lbann::sum_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#a87bef51197df5e0fbe6ce5876eabbb24">lbann::reconstruction_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__distributed__minibatch.html#a04cedb125020c0360a67c8b5994eac4e">lbann::input_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1elu__layer.html#a8efc21f7b0b7b4649d461bae51d5fd6e">lbann::elu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#a59e7053eed41f7153c484416d178d51e">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__layer.html#ab6d6fd1d1bad9d7b2510e25c58a934cc">lbann::selu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__partitioned__minibatch.html#ad845376315cfdf3eeac2c75809dbf0f9">lbann::input_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#a3905a2fd999e52020f44e1c43445b69e">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1id__layer.html#aaf150ae7529c796773ce9cc3eae4ef03">lbann::id_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1leaky__relu__layer.html#a4ddfcf01a74cd52ec54fe93a038ac4a5">lbann::leaky_relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sigmoid__layer.html#a878680dcfd0f9e9b24cb3e1ec41443e9">lbann::sigmoid_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softplus__layer.html#a35fccb721695aa49afb8c2827b7cac16">lbann::softplus_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1smooth__relu__layer.html#a41422b4f64d34ce9f8c4a28d78addf96">lbann::smooth_relu_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1tanh__layer.html#a49adf68a7ef06fac4a3d4f5d34e362e6">lbann::tanh_layer&lt; T_layout &gt;</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a5dfb66e81fc085997402a5e2241316bd_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a5dfb66e81fc085997402a5e2241316bd_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a5dfb66e81fc085997402a5e2241316bd_icgraph" id="classlbann_1_1Layer_a5dfb66e81fc085997402a5e2241316bd_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863" title="lbann::Layer::setup_gpu" alt="" coords="215,185,377,212"/><area shape="rect" id="node8" href="classlbann_1_1greedy__layerwise__autoencoder.html#a9531d27227598e0f28a6fc04ef672ebf" title="Inserts a mirror layer for specified layer index. " alt="" coords="206,269,386,310"/><area shape="rect" id="node3" href="classlbann_1_1relu__layer.html#a8c305ba4dc7f19b4d64102e83e50ea86" title="lbann::relu_layer::\lsetup_gpu" alt="" coords="455,5,580,46"/><area shape="rect" id="node4" href="classlbann_1_1convolution__layer.html#aef1ce8742619dddb3371e6c5cc64af4c" title="Initialize GPU objects. " alt="" coords="454,70,581,111"/><area shape="rect" id="node5" href="classlbann_1_1local__response__normalization__layer.html#a3df95733ab76629a76518175c5b692ab" title="Initialize GPU objects. " alt="" coords="443,135,591,191"/><area shape="rect" id="node6" href="classlbann_1_1pooling__layer.html#aacfb8108c1a8ad39edafff1406ed9458" title="Initialize GPU objects. " alt="" coords="449,214,586,255"/><area shape="rect" id="node7" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="451,280,584,307"/><area shape="rect" id="node9" href="classlbann_1_1greedy__layerwise__autoencoder.html#a05dce313fe4e587c6ca9088f78c6b84f" title="Restore model from shared checkpoint. " alt="" coords="435,331,600,387"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab63218a644eb6123ddbdd4f09947a24f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int lbann::Layer::get_effective_minibatch_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the "effective" size of a mini-batch. This is for backward propagation, etc. when there are more updates being contributed than the local mini-batch size implies (e.g. when doing inter-model updates). </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00168">168</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                                   {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a1d34e7741b22b74330738e2cf8f774a9"><div class="ttname"><a href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">lbann::Layer::m_effective_mbsize</a></div><div class="ttdeci">int m_effective_mbsize</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00320">layer.hpp:320</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ab63218a644eb6123ddbdd4f09947a24f_icgraph.png" border="0" usemap="#classlbann_1_1Layer_ab63218a644eb6123ddbdd4f09947a24f_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ab63218a644eb6123ddbdd4f09947a24f_icgraph" id="classlbann_1_1Layer_ab63218a644eb6123ddbdd4f09947a24f_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#a1080b7da9f1d30f5fcede31a0ba5e2a4" title="Convolution backward propagation with cuDNN. " alt="" coords="231,5,409,46"/><area shape="rect" id="node4" href="classlbann_1_1convolution__layer.html#add5788df11451dbdc7fc94b7b8b5bb45" title="Convolution backward propagation with im2col GEMM algorithm. " alt="" coords="229,70,411,111"/><area shape="rect" id="node5" href="classlbann_1_1fully__connected__layer.html#aece7db8bde8cb3dfc88726d2c0aae852" title="lbann::fully_connected\l_layer::bp_compute" alt="" coords="244,135,396,177"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#ac223a97714153369c52db5b348f0dc15" title="lbann::convolution\l_layer::bp_compute" alt="" coords="459,38,595,79"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f8a6efd69263d6268ced61c8121f344"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a> lbann::Layer::get_execution_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the execution mode. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00135">135</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                                   {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00211">layer.hpp:211</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a7f8a6efd69263d6268ced61c8121f344_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a7f8a6efd69263d6268ced61c8121f344_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a7f8a6efd69263d6268ced61c8121f344_icgraph" id="classlbann_1_1Layer_a7f8a6efd69263d6268ced61c8121f344_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1batch__normalization.html#af900dea1f07987cd56471a441c5f2f71" title="lbann::batch_normalization\l::fp_compute" alt="" coords="275,5,453,46"/><area shape="rect" id="node3" href="classlbann_1_1batch__normalization.html#a121ba408814e3c2537b2cf015a35ea4a" title="lbann::batch_normalization\l::bp_compute" alt="" coords="275,70,453,111"/><area shape="rect" id="node4" href="classlbann_1_1batch__normalization.html#ada966e3ec503f6ef8361c4cd0aa423fb" title="lbann::batch_normalization\l::update_compute" alt="" coords="275,135,453,177"/><area shape="rect" id="node5" href="classlbann_1_1dropout.html#ab7fa84c3915f5ceac8eed28a183e4ff1" title="lbann::dropout::fp\l_compute" alt="" coords="303,201,425,242"/><area shape="rect" id="node6" href="classlbann_1_1dropout.html#a619e2c4a87db449d5c18c072b24747ee" title="lbann::dropout::bp\l_compute" alt="" coords="301,266,427,307"/><area shape="rect" id="node7" href="classlbann_1_1selu__dropout.html#ab37a90f9d582454dc06ef569db1a9601" title="lbann::selu_dropout\l::fp_compute" alt="" coords="297,331,431,373"/><area shape="rect" id="node8" href="classlbann_1_1selu__dropout.html#a616165378e62f80cb83527b52328293b" title="lbann::selu_dropout\l::bp_compute" alt="" coords="297,397,431,438"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0da8a58bab0e1de8e410c70b81a3427"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::get_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the layer index. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00103">103</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                               {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_aa0da8a58bab0e1de8e410c70b81a3427_icgraph.png" border="0" usemap="#classlbann_1_1Layer_aa0da8a58bab0e1de8e410c70b81a3427_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_aa0da8a58bab0e1de8e410c70b81a3427_icgraph" id="classlbann_1_1Layer_aa0da8a58bab0e1de8e410c70b81a3427_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__learning__rate.html#ae7a704c0b5d1d09c35981cfe96dd64e2" title="lbann::lbann_callback\l_learning_rate::is_last_layer" alt="" coords="228,13,412,54"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checknan.html#ab46f91a3180038c2c046f913ce7aec1c" title="lbann::lbann_callback\l_checknan::on_forward\l_prop_end" alt="" coords="241,77,399,133"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__checknan.html#a1514fb88dcc39cb6d4ec533f99030650" title="lbann::lbann_callback\l_checknan::on_backward\l_prop_end" alt="" coords="235,157,405,213"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__checknan.html#a13ad397133ac3c2f16733df00032c691" title="lbann::lbann_callback\l_checknan::on_batch_end" alt="" coords="233,237,407,278"/><area shape="rect" id="node7" href="classlbann_1_1lbann__callback__checksmall.html#aea760389b97c3bb25f093dec5bcdbf90" title="lbann::lbann_callback\l_checksmall::on_forward\l_prop_end" alt="" coords="237,301,403,357"/><area shape="rect" id="node8" href="classlbann_1_1lbann__callback__checksmall.html#a28ccebaabaec140b9402ad057690640e" title="lbann::lbann_callback\l_checksmall::on_backward\l_prop_end" alt="" coords="230,381,410,437"/><area shape="rect" id="node9" href="classlbann_1_1lbann__callback__checksmall.html#ab1d2f6b04ee08aa099e1b9b279fc9206" title="lbann::lbann_callback\l_checksmall::on_batch_end" alt="" coords="228,461,412,502"/><area shape="rect" id="node10" href="classlbann_1_1lbann__callback__debug.html#a713b963c090ce555e6dd09145aba3b54" title="lbann::lbann_callback\l_debug::on_forward_prop_begin" alt="" coords="217,526,423,567"/><area shape="rect" id="node11" href="classlbann_1_1lbann__callback__debug.html#ad15678b19d7bfd25a3bae6fb240655b6" title="lbann::lbann_callback\l_debug::on_forward_prop_end" alt="" coords="222,591,418,633"/><area shape="rect" id="node12" href="classlbann_1_1lbann__callback__debug.html#a801aebd4474b816b43834a65aa6f296c" title="lbann::lbann_callback\l_debug::on_backward_prop_begin" alt="" coords="211,657,429,698"/><area shape="rect" id="node13" href="classlbann_1_1lbann__callback__debug.html#ae72d078b5d95ce973b98b800193c671c" title="lbann::lbann_callback\l_debug::on_backward_prop_end" alt="" coords="215,722,425,763"/><area shape="rect" id="node14" href="classlbann_1_1lbann__callback__debug.html#aa72952524fb4b559b334ecd7c9906cac" title="lbann::lbann_callback\l_debug::on_evaluate_forward\l_prop_begin" alt="" coords="224,787,416,843"/><area shape="rect" id="node15" href="classlbann_1_1lbann__callback__debug.html#a4edca180930053d7a24708022d134149" title="lbann::lbann_callback\l_debug::on_evaluate_forward\l_prop_end" alt="" coords="224,867,416,923"/><area shape="rect" id="node16" href="classlbann_1_1lbann__callback__dump__activations.html#a5de46093614d9372daef3716e75c5265" title="lbann::lbann_callback\l_dump_activations::on\l_forward_prop_end" alt="" coords="243,947,397,1003"/><area shape="rect" id="node17" href="classlbann_1_1lbann__callback__dump__gradients.html#a781f771d7ebfc80310d316869bd74f71" title="lbann::lbann_callback\l_dump_gradients::on_backward\l_prop_end" alt="" coords="217,1027,423,1083"/><area shape="rect" id="node18" href="classlbann_1_1lbann__callback__dump__minibatch__sample__indices.html#a34d4564309168b3ab0b2e3092e2f9355" title="lbann::lbann_callback\l_dump_minibatch_sample\l_indices::dump_to_file" alt="" coords="233,1107,407,1163"/><area shape="rect" id="node21" href="classlbann_1_1lbann__callback__imcomm.html#aaf6c058e679122a3340782859d0d3622" title="lbann::lbann_callback\l_imcomm::do_summary" alt="" coords="239,1186,401,1227"/><area shape="rect" id="node23" href="classlbann_1_1lbann__callback__io.html#ae6e0e8850a2c7fb1a49f955d08e1680f" title="lbann::lbann_callback\l_io::on_epoch_end" alt="" coords="247,1251,393,1293"/><area shape="rect" id="node24" href="classlbann_1_1lbann__callback__io.html#a94c8f73dcab680c4e30005bd8ec043cc" title="lbann::lbann_callback\l_io::on_test_end" alt="" coords="247,1317,393,1358"/><area shape="rect" id="node25" href="classlbann_1_1lbann__callback__learning__rate.html#a3814efdf7b26e6162a66ab5d982a9abf" title="lbann::lbann_callback\l_learning_rate::setup" alt="" coords="247,1382,393,1423"/><area shape="rect" id="node26" href="classlbann_1_1lbann__callback__learning__rate.html#ab4ef80742344cca2ea63489498942b0f" title="lbann::lbann_callback\l_learning_rate::on_epoch_end" alt="" coords="223,1447,417,1489"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__adaptive__learning__rate.html#a19596ebb10690c61068b18b786ab5716" title="lbann::lbann_callback\l_adaptive_learning_rate\l::schedule" alt="" coords="499,5,658,61"/><area shape="rect" id="node19" href="classlbann_1_1lbann__callback__dump__minibatch__sample__indices.html#a302cdf7f6ee240b241f735ef13c6f850" title="lbann::lbann_callback\l_dump_minibatch_sample\l_indices::on_forward_prop_end" alt="" coords="477,1019,680,1075"/><area shape="rect" id="node20" href="classlbann_1_1lbann__callback__dump__minibatch__sample__indices.html#ac699f8b22eb59ac5926ace40a94273f2" title="lbann::lbann_callback\l_dump_minibatch_sample\l_indices::on_evaluate_forward\l_prop_end" alt="" coords="479,1099,678,1170"/><area shape="rect" id="node22" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="497,1195,661,1251"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abbb5c17926ba216e062e8c3b4124c7d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int lbann::Layer::get_minibatch_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the size of mini-batch this layer uses. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00159">159</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                         {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb61e5c9919d84793378beb17bc4d287"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string lbann::Layer::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return this layer's name </p>

<p>Implemented in <a class="el" href="classlbann_1_1convolution__layer.html#a802c59140ffc40e4a010e2bf715cef9f">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#a84fb32b6bd8771b02035945e3e79c6d5">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#a7dce280ee5446209bbc32357870aabb6">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#aededfea710c8a36fd3340d7342f35c94">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1local__response__normalization__layer.html#a9b86ceb692b90584a839f17e8c31c497">lbann::local_response_normalization_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__dropout.html#adaa61f3b4c1abb1cac1e63b43f8c95eb">lbann::selu_dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1dropout.html#a0ce799820cfcc108043424046dfbddee">lbann::dropout&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1relu__layer.html#a0e11f8419713f3bc4892bab9a5b8a83b">lbann::relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#a9117fff2818f08741f02d1a5f2f9c113">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1branch__layer.html#a737c3bb046743611613c16cb825944be">lbann::branch_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sum__layer.html#a082a0d783b97320d2018e6497b58e99c">lbann::sum_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#a111226d3a0f4c8b243cc4620307e2e94">lbann::reconstruction_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__distributed__minibatch.html#a7536796953483f9b3fc79f77e9158d63">lbann::input_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1elu__layer.html#ab3ace8609b44b33648803aa6a5ff6799">lbann::elu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#a281c06f790a0c82b7088493a4a787049">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1selu__layer.html#a1c2338db73594a91e9a14ecc1c7ffb48">lbann::selu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__partitioned__minibatch.html#aece4fca48a25503d4ef60793b5602af8">lbann::input_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#ab0cbed1f39d5e9fb4393838a1be1658d">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1leaky__relu__layer.html#a8ca2c40bc8cecc7494019a96c40e69c6">lbann::leaky_relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1sigmoid__layer.html#a561455424248ffa3fa25f2250aa60fbc">lbann::sigmoid_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softplus__layer.html#a9a7ccf0a7f03243a3d7d91f8247e2335">lbann::softplus_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1smooth__relu__layer.html#a9f46c84a645ce97b296cf0eb4bd9bbbb">lbann::smooth_relu_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1id__layer.html#a3797a72717cbe0585d332ab14d59e95f">lbann::id_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1tanh__layer.html#a78441e768e1e93012a49e6d7a4692b92">lbann::tanh_layer&lt; T_layout &gt;</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_abb61e5c9919d84793378beb17bc4d287_icgraph.png" border="0" usemap="#classlbann_1_1Layer_abb61e5c9919d84793378beb17bc4d287_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_abb61e5c9919d84793378beb17bc4d287_icgraph" id="classlbann_1_1Layer_abb61e5c9919d84793378beb17bc4d287_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1target__layer.html#a97731e2d01ad10b3b37d57d40e99e034" title="lbann::target_layer\l::setup_data" alt="" coords="258,53,387,94"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__debug.html#a713b963c090ce555e6dd09145aba3b54" title="lbann::lbann_callback\l_debug::on_forward_prop_begin" alt="" coords="219,118,426,159"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__debug.html#ad15678b19d7bfd25a3bae6fb240655b6" title="lbann::lbann_callback\l_debug::on_forward_prop_end" alt="" coords="225,183,421,225"/><area shape="rect" id="node7" href="classlbann_1_1lbann__callback__debug.html#a801aebd4474b816b43834a65aa6f296c" title="lbann::lbann_callback\l_debug::on_backward_prop_begin" alt="" coords="213,249,432,290"/><area shape="rect" id="node8" href="classlbann_1_1lbann__callback__debug.html#ae72d078b5d95ce973b98b800193c671c" title="lbann::lbann_callback\l_debug::on_backward_prop_end" alt="" coords="218,314,427,355"/><area shape="rect" id="node9" href="classlbann_1_1lbann__callback__profiler.html#af78237a67eaacf2508f31ad72b8ff8a7" title="lbann::lbann_callback\l_profiler::get_color" alt="" coords="249,431,396,473"/><area shape="rect" id="node10" href="classlbann_1_1lbann__callback__profiler.html#aa5cf1f83fd9206c08acc7a4edb013b2d" title="lbann::lbann_callback\l_profiler::on_forward\l_prop_begin" alt="" coords="484,384,631,440"/><area shape="rect" id="node11" href="classlbann_1_1lbann__callback__profiler.html#a2cf970aae20e6518c75d3593dd41f924" title="lbann::lbann_callback\l_profiler::on_backward\l_prop_begin" alt="" coords="481,473,634,529"/><area shape="rect" id="node12" href="classlbann_1_1lbann__callback__profiler.html#a7943d66b5a5bfe3d07045a008537651b" title="lbann::lbann_callback\l_profiler::on_forward\l_prop_end" alt="" coords="249,548,396,604"/><area shape="rect" id="node13" href="classlbann_1_1lbann__callback__profiler.html#af514a9aed96ca731e87d3c65ecb693d7" title="lbann::lbann_callback\l_profiler::on_backward\l_prop_end" alt="" coords="246,628,399,684"/><area shape="rect" id="node3" href="classlbann_1_1target__layer__distributed__minibatch.html#ab241e32c6b99419ca8ca4f934cee8b41" title="lbann::target_layer\l_distributed_minibatch\l::setup_data" alt="" coords="481,5,633,61"/><area shape="rect" id="node4" href="classlbann_1_1target__layer__partitioned__minibatch.html#a765ddabb22477da9810aa9eb3c374319" title="lbann::target_layer\l_partitioned_minibatch\l::setup_data" alt="" coords="481,85,633,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a52b76376a530210e37665afb7d55540c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1model.html">model</a>* lbann::Layer::get_neural_network_model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the neural network model of this layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00181">181</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                                 {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a52b76376a530210e37665afb7d55540c_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a52b76376a530210e37665afb7d55540c_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a52b76376a530210e37665afb7d55540c_icgraph" id="classlbann_1_1Layer_a52b76376a530210e37665afb7d55540c_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1batch__normalization.html#ab515e25ae0e7e4e3349d82d0ad1d9b88" title="lbann::batch_normalization\l::setup_data" alt="" coords="217,5,394,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26db6bb902f60c213cb006a2fafc0667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;int&gt;&amp; lbann::Layer::get_neuron_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the dimensions of neuron tensor. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00131">131</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                                       {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a26db6bb902f60c213cb006a2fafc0667_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a26db6bb902f60c213cb006a2fafc0667_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a26db6bb902f60c213cb006a2fafc0667_icgraph" id="classlbann_1_1Layer_a26db6bb902f60c213cb006a2fafc0667_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1reconstruction__layer.html#aa97e3fe29a20b5ba4e4c974545df6a2c" title="lbann::reconstruction\l_layer::setup_dims" alt="" coords="254,5,397,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae09dec06726bdb73c3524c4896aaf5b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::get_num_neuron_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of dimensions in neuron tensor. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00127">127</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                         {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ae09dec06726bdb73c3524c4896aaf5b4_icgraph.png" border="0" usemap="#classlbann_1_1Layer_ae09dec06726bdb73c3524c4896aaf5b4_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ae09dec06726bdb73c3524c4896aaf5b4_icgraph" id="classlbann_1_1Layer_ae09dec06726bdb73c3524c4896aaf5b4_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1reconstruction__layer.html#aa97e3fe29a20b5ba4e4c974545df6a2c" title="lbann::reconstruction\l_layer::setup_dims" alt="" coords="206,5,349,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c592a6fb8b3e0951344a3802f39d92a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::get_num_neurons </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of neurons. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00123">123</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                     {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a3c592a6fb8b3e0951344a3802f39d92a_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a3c592a6fb8b3e0951344a3802f39d92a_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a3c592a6fb8b3e0951344a3802f39d92a_icgraph" id="classlbann_1_1Layer_a3c592a6fb8b3e0951344a3802f39d92a_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1reconstruction__layer.html#aa97e3fe29a20b5ba4e4c974545df6a2c" title="lbann::reconstruction\l_layer::setup_dims" alt="" coords="223,5,366,46"/><area shape="rect" id="node3" href="classlbann_1_1batch__normalization.html#ab515e25ae0e7e4e3349d82d0ad1d9b88" title="lbann::batch_normalization\l::setup_data" alt="" coords="206,70,383,111"/><area shape="rect" id="node4" href="classlbann_1_1sequential__model.html#aa8c82036ab32a3caf35811ff887bb64b" title="lbann::sequential_model\l::num_previous_neurons" alt="" coords="213,135,377,177"/><area shape="rect" id="node5" href="proto__common_8cpp.html#ad7e0b249b3481b7555c2991a4a04b41a" title="get_prev_neurons_and\l_index" alt="" coords="218,201,371,242"/><area shape="rect" id="node6" href="proto__common_8hpp.html#ae2a457f2c139d20adceaaac13cf3bb9b" title="add_layers" alt="" coords="432,208,517,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a823730fb451b04b44b786a32f0149b0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::get_num_prev_neuron_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of dimensions in neuron tensor from previous layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00115">115</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                              {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34d337afce3ff00bd9bb63e6b25ba885"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::get_num_prev_neurons </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of neurons from previous layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00111">111</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                          {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9dbf2d54061cdd56782f0c61398da8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;int&gt;&amp; lbann::Layer::get_prev_neuron_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the dimensions of neuron tensor from previous layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00119">119</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                                            {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ac13af6f5ee8316d64c550bef919ee0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual El::Matrix&lt;El::Int&gt;* lbann::Layer::get_sample_indices_per_mb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1io__layer.html#a7676a4d913da6c5ffa7956287485ef6b">lbann::io_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00188">188</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; };</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a0ac13af6f5ee8316d64c550bef919ee0_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a0ac13af6f5ee8316d64c550bef919ee0_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a0ac13af6f5ee8316d64c550bef919ee0_icgraph" id="classlbann_1_1Layer_a0ac13af6f5ee8316d64c550bef919ee0_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__dump__minibatch__sample__indices.html#a34d4564309168b3ab0b2e3092e2f9355" title="lbann::lbann_callback\l_dump_minibatch_sample\l_indices::dump_to_file" alt="" coords="221,49,395,105"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__dump__minibatch__sample__indices.html#a302cdf7f6ee240b241f735ef13c6f850" title="lbann::lbann_callback\l_dump_minibatch_sample\l_indices::on_forward_prop_end" alt="" coords="443,5,645,61"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__dump__minibatch__sample__indices.html#ac699f8b22eb59ac5926ace40a94273f2" title="lbann::lbann_callback\l_dump_minibatch_sample\l_indices::on_evaluate_forward\l_prop_end" alt="" coords="445,86,643,157"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f08fe144a625a9560c8c6984d256672"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::initialize_distributed_matrices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ac9335d75d817fc2d5cf171da9b7e22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::loadFromCheckpoint </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1softmax__layer.html#a4eecb21e84d96f7a10fdfd3f2b230e7e">lbann::softmax_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1target__layer.html#a141ad37ff20ce7d40057a9ff75f42707">lbann::target_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00503">503</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                                                          {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// TODO: implement reader for other matrix distributions</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">//readDist(fd, filename, (DistMat&amp;) *m_weights, bytes);</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Need to catch return value from function</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// m_optimizer-&gt;loadFromCheckpoint(fd, filename, bytes);</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a7ac9335d75d817fc2d5cf171da9b7e22_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a7ac9335d75d817fc2d5cf171da9b7e22_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a7ac9335d75d817fc2d5cf171da9b7e22_icgraph" id="classlbann_1_1Layer_a7ac9335d75d817fc2d5cf171da9b7e22_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1softmax__layer.html#a4eecb21e84d96f7a10fdfd3f2b230e7e" title="lbann::softmax_layer\l::loadFromCheckpoint" alt="" coords="275,5,426,46"/><area shape="rect" id="node3" href="classlbann_1_1target__layer.html#a141ad37ff20ce7d40057a9ff75f42707" title="lbann::target_layer\l::loadFromCheckpoint" alt="" coords="275,70,426,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd2524835a05a2d88c92e546e15a80a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::loadFromCheckpointShared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1persist.html">persist</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1io__layer.html#a2c62c0b4e30f80c3edaf39e6530ccb49">lbann::io_layer</a>, <a class="el" href="classlbann_1_1learning.html#a4534b4a5a60d9ab378d8754b7840845f">lbann::learning</a>, <a class="el" href="classlbann_1_1softmax__layer.html#adb67f7ebd18103085eb7d32554dfc83c">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer.html#a89e57f2343d4f56e8ab9386681202fdd">lbann::target_layer</a>, and <a class="el" href="classlbann_1_1input__layer.html#a91087f322b8c06520418bb00beb6c04b">lbann::input_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00516">516</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                               {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_acd2524835a05a2d88c92e546e15a80a9_icgraph.png" border="0" usemap="#classlbann_1_1Layer_acd2524835a05a2d88c92e546e15a80a9_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_acd2524835a05a2d88c92e546e15a80a9_icgraph" id="classlbann_1_1Layer_acd2524835a05a2d88c92e546e15a80a9_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1softmax__layer.html#adb67f7ebd18103085eb7d32554dfc83c" title="lbann::softmax_layer\l::loadFromCheckpointShared" alt="" coords="275,5,466,46"/><area shape="rect" id="node3" href="classlbann_1_1learning.html#a4534b4a5a60d9ab378d8754b7840845f" title="lbann::learning::loadFrom\lCheckpointShared" alt="" coords="287,70,455,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ae0e6015dd427c63236a07f8cbd3878"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lbann::Layer::loadFromFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1learning.html#a08426a886b6be92327efefec91bd566a">lbann::learning</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00191">191</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">true</span>; };</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a1ae0e6015dd427c63236a07f8cbd3878_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a1ae0e6015dd427c63236a07f8cbd3878_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a1ae0e6015dd427c63236a07f8cbd3878_icgraph" id="classlbann_1_1Layer_a1ae0e6015dd427c63236a07f8cbd3878_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1learning.html#ad249dd5cddf5155ae12bd138b4bc0366" title="lbann::learning::saveToFile" alt="" coords="235,5,413,32"/><area shape="rect" id="node3" href="classlbann_1_1learning.html#a08426a886b6be92327efefec91bd566a" title="lbann::learning::loadFromFile" alt="" coords="229,56,419,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a00d8acde68fda2f38c4a39ef8c89234a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp; lbann::Layer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00143">143</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                          {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// No cuDNN support yet.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;cannot copy layers with cuDNN enabled&quot;</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a> = other.m_index;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a> = other.m_comm;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> = other.m_num_neurons;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a> = other.m_num_neuron_dims;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a> = other.m_neuron_dims;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a> = other.m_num_prev_neurons;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a> = other.m_num_prev_neuron_dims;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a> = other.m_prev_neuron_dims;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a> = other.m_execution_mode;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a> = other.m_neural_network_model;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> = other.<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a> = other.<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a> = other.m_using_gpus;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a> = other.m_cudnn;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a> = other.m_mini_batch_size;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a> = other.m_effective_mbsize;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a> = other.fp_time;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">fp_compute_time</a> = other.fp_compute_time;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a> = other.bp_time;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">bp_compute_time</a> = other.bp_compute_time;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a> = other.update_time;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// Free allocated memory.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a> = other.m_prev_error_signal-&gt;Copy();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a> = other.m_error_signal-&gt;Copy();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a> = other.m_prev_error_signal_v-&gt;Copy();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a> = other.m_error_signal_v-&gt;Copy();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a> = other.m_activations-&gt;Copy();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a> = other.m_prev_activations-&gt;Copy();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a> = other.m_activations_v-&gt;Copy();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a> = other.m_prev_activations_v-&gt;Copy();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a19ead6e739e08170ef49c11f84eb638c"><div class="ttname"><a href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">lbann::Layer::fp_compute_time</a></div><div class="ttdeci">double fp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00325">layer.hpp:325</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abd6c1fa01659749b22de59baf8259b84"><div class="ttname"><a href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">lbann::Layer::update_time</a></div><div class="ttdeci">double update_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00331">layer.hpp:331</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a1d34e7741b22b74330738e2cf8f774a9"><div class="ttname"><a href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">lbann::Layer::m_effective_mbsize</a></div><div class="ttdeci">int m_effective_mbsize</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00320">layer.hpp:320</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acbf8aa63927a205c28f971e91c24c89f"><div class="ttname"><a href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">lbann::Layer::m_prev_activations</a></div><div class="ttdeci">ElMat * m_prev_activations</div><div class="ttdoc">Local view or copy of the activations from the &quot;previous&quot; layer ((# previous layer&#39;s neurons) x min...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00227">layer.hpp:227</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a18f90fa1ec6d7fb2288a40ada0105d11"><div class="ttname"><a href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">lbann::Layer::bp_compute_time</a></div><div class="ttdeci">double bp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00329">layer.hpp:329</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acf38e5b69ae1a0538d676f91a00ceac1"><div class="ttname"><a href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">lbann::Layer::m_next_layer</a></div><div class="ttdeci">const Layer * m_next_layer</div><div class="ttdoc">Pointer to next layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00222">layer.hpp:222</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00211">layer.hpp:211</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a81d6e3e65adcfee83e953b63ff5e9121"><div class="ttname"><a href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">lbann::Layer::m_prev_error_signal</a></div><div class="ttdeci">ElMat * m_prev_error_signal</div><div class="ttdoc">Local copy of the error signal from &quot;previous&quot; layer ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00213">layer.hpp:213</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a2fccbe7596578869ee0317c3d2542f35"><div class="ttname"><a href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">lbann::Layer::m_error_signal_v</a></div><div class="ttdeci">ElMat * m_error_signal_v</div><div class="ttdoc">View of active columns in error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00225">layer.hpp:225</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abaa9acb195346090fffcd64013295479"><div class="ttname"><a href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">lbann::Layer::bp_time</a></div><div class="ttdeci">double bp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00327">layer.hpp:327</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a94ee7bf7544942bc8cf208b565349c66"><div class="ttname"><a href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">lbann::Layer::fp_time</a></div><div class="ttdeci">double fp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00323">layer.hpp:323</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a00d8acde68fda2f38c4a39ef8c89234a_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a00d8acde68fda2f38c4a39ef8c89234a_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a00d8acde68fda2f38c4a39ef8c89234a_icgraph" id="classlbann_1_1Layer_a00d8acde68fda2f38c4a39ef8c89234a_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1learning.html#a0a84db7ba4ca325d7f4fc5f7713142e6" title="lbann::learning::operator=" alt="" coords="211,45,381,72"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#ae92c4059e1c6ac6cf5064769d7d21c61" title="lbann::convolution\l_layer::operator=" alt="" coords="442,5,569,46"/><area shape="rect" id="node4" href="classlbann_1_1fully__connected__layer.html#ab06d01021d4e89cd2f4f64c330e7cc31" title="lbann::fully_connected\l_layer::operator=" alt="" coords="429,70,581,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a0f8e32e2b17953f87652f855ccfbf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::reset_counters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset layer stat counters. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00150">150</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a> = 0.0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">fp_compute_time</a> = 0.0;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a> = 0.0;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">bp_compute_time</a> = 0.0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a> = 0.0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a19ead6e739e08170ef49c11f84eb638c"><div class="ttname"><a href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">lbann::Layer::fp_compute_time</a></div><div class="ttdeci">double fp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00325">layer.hpp:325</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abd6c1fa01659749b22de59baf8259b84"><div class="ttname"><a href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">lbann::Layer::update_time</a></div><div class="ttdeci">double update_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00331">layer.hpp:331</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a18f90fa1ec6d7fb2288a40ada0105d11"><div class="ttname"><a href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">lbann::Layer::bp_compute_time</a></div><div class="ttdeci">double bp_compute_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00329">layer.hpp:329</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abaa9acb195346090fffcd64013295479"><div class="ttname"><a href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">lbann::Layer::bp_time</a></div><div class="ttdeci">double bp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00327">layer.hpp:327</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a94ee7bf7544942bc8cf208b565349c66"><div class="ttname"><a href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">lbann::Layer::fp_time</a></div><div class="ttdeci">double fp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00323">layer.hpp:323</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a0a0f8e32e2b17953f87652f855ccfbf9_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a0a0f8e32e2b17953f87652f855ccfbf9_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a0a0f8e32e2b17953f87652f855ccfbf9_icgraph" id="classlbann_1_1Layer_a0a0f8e32e2b17953f87652f855ccfbf9_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a852a2187015f25204a358aafaf561dc8" title="lbann::Layer::Layer" alt="" coords="200,5,333,32"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a7f3f26e2ae0497f9a00fd6bc56b50543" title="lbann::Layer::summarize\l_stats" alt="" coords="184,57,349,98"/><area shape="rect" id="node4" href="classlbann_1_1reconstruction__layer.html#a06f4d6bd0353343507fb3e2bb7400749" title="lbann::reconstruction\l_layer::summarize_stats" alt="" coords="397,23,563,65"/><area shape="rect" id="node5" href="classlbann_1_1target__layer.html#ab7390ac945aad671b0765772434bd06b" title="lbann::target_layer\l::summarize_stats" alt="" coords="415,89,545,130"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af3fee4a1a65d7c478165f65ebab6127d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::saveToCheckpoint </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1softmax__layer.html#addb00f767b77c59bf0ab5a91de1f84fb">lbann::softmax_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1target__layer.html#ac9ed1e3c8d35631968bef1a9f1889e48">lbann::target_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00495">495</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                                                        {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">//writeDist(fd, filename, *m_weights, bytes);</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// Need to catch return value from function</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// m_optimizer-&gt;saveToCheckpoint(fd, filename, bytes);</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_af3fee4a1a65d7c478165f65ebab6127d_icgraph.png" border="0" usemap="#classlbann_1_1Layer_af3fee4a1a65d7c478165f65ebab6127d_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_af3fee4a1a65d7c478165f65ebab6127d_icgraph" id="classlbann_1_1Layer_af3fee4a1a65d7c478165f65ebab6127d_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1softmax__layer.html#addb00f767b77c59bf0ab5a91de1f84fb" title="lbann::softmax_layer\l::saveToCheckpoint" alt="" coords="265,5,407,46"/><area shape="rect" id="node3" href="classlbann_1_1target__layer.html#ac9ed1e3c8d35631968bef1a9f1889e48" title="lbann::target_layer\l::saveToCheckpoint" alt="" coords="267,70,405,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3821799295d5c30c5f47fd61880b9cf4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::saveToCheckpointShared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1persist.html">persist</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1io__layer.html#ae59b49fad28d273f72035f227fa846af">lbann::io_layer</a>, <a class="el" href="classlbann_1_1learning.html#aa6b1d48c2fede6c9d575054de88f8454">lbann::learning</a>, <a class="el" href="classlbann_1_1softmax__layer.html#ac09976efcc9bd147e8cfda4ac74d7ac1">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer.html#a18a25cbfe594cc6ee0c4e433435852d7">lbann::target_layer</a>, and <a class="el" href="classlbann_1_1input__layer.html#ac224c4cc4be919f48ef39c61d65ca03f">lbann::input_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00512">512</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                             {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a3821799295d5c30c5f47fd61880b9cf4_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a3821799295d5c30c5f47fd61880b9cf4_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a3821799295d5c30c5f47fd61880b9cf4_icgraph" id="classlbann_1_1Layer_a3821799295d5c30c5f47fd61880b9cf4_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1softmax__layer.html#ac09976efcc9bd147e8cfda4ac74d7ac1" title="lbann::softmax_layer\l::saveToCheckpointShared" alt="" coords="286,5,466,46"/><area shape="rect" id="node3" href="classlbann_1_1learning.html#aa6b1d48c2fede6c9d575054de88f8454" title="lbann::learning::saveToCheckpoint\lShared" alt="" coords="265,70,487,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13eafbc8040160268f0782959014cd94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lbann::Layer::saveToFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1learning.html#ad249dd5cddf5155ae12bd138b4bc0366">lbann::learning</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00190">190</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">true</span>; };</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae30c658914f6d85fa228267f1246febf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::set_effective_minibatch_size </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the effective size of a mini-batch to size. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00172">172</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                      {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a> = size;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a1d34e7741b22b74330738e2cf8f774a9"><div class="ttname"><a href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">lbann::Layer::m_effective_mbsize</a></div><div class="ttdeci">int m_effective_mbsize</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00320">layer.hpp:320</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ae30c658914f6d85fa228267f1246febf_icgraph.png" border="0" usemap="#classlbann_1_1Layer_ae30c658914f6d85fa228267f1246febf_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ae30c658914f6d85fa228267f1246febf_icgraph" id="classlbann_1_1Layer_ae30c658914f6d85fa228267f1246febf_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a935881e25a98b4ffad1985dc04c19572" title="lbann::Layer::fp_set\l_std_matrix_view" alt="" coords="230,103,367,145"/><area shape="rect" id="node3" href="classlbann_1_1softmax__layer.html#a2f966102d6d3e1231beccfb61967263f" title="lbann::softmax_layer\l::fp_set_std_matrix_view" alt="" coords="420,5,588,46"/><area shape="rect" id="node4" href="classlbann_1_1target__layer.html#a0de2e0aaa3763c82f67f24cc26e32711" title="lbann::target_layer\l::fp_set_std_matrix_view" alt="" coords="420,70,588,111"/><area shape="rect" id="node6" href="classlbann_1_1learning.html#a8620f7370a6f13dbf3978b6328e319fb" title="lbann::learning::fp\l_set_std_matrix_view" alt="" coords="429,135,579,177"/><area shape="rect" id="node7" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5" title="lbann::Layer::forward_prop" alt="" coords="416,201,592,228"/><area shape="rect" id="node5" href="classlbann_1_1reconstruction__layer.html#a70059f3bbc6453bf37518e7081e18a57" title="lbann::reconstruction\l_layer::fp_set_std_matrix_view" alt="" coords="640,70,843,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a6f588f9588200f8dedb670b3142652"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::set_execution_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the execution mode. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00139">139</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                      {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a> = mode;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00211">layer.hpp:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeeb8de566903c69eb695cca8d46aa514"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::set_index </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the layer index. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00107">107</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                               {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a> = i;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_aeeb8de566903c69eb695cca8d46aa514_icgraph.png" border="0" usemap="#classlbann_1_1Layer_aeeb8de566903c69eb695cca8d46aa514_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_aeeb8de566903c69eb695cca8d46aa514_icgraph" id="classlbann_1_1Layer_aeeb8de566903c69eb695cca8d46aa514_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1sequential__model.html#a671ff7d40f7aac97a4d9441a104b7a99" title="Add layer to sequential model. " alt="" coords="211,5,402,32"/><area shape="rect" id="node3" href="proto__common_8hpp.html#ae2a457f2c139d20adceaaac13cf3bb9b" title="add_layers" alt="" coords="451,5,536,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab10731b838313aa7259fa62d5d229a76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::set_neural_network_model </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *const&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the neural network model of this layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00185">185</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                                       {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a> = m;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a8f5e339cda98356c68063ea3845a94d2"><div class="ttname"><a href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">lbann::Layer::m_neural_network_model</a></div><div class="ttdeci">model * m_neural_network_model</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00219">layer.hpp:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af455f02e7d3111a3610bc3fb705f3292"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::setup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>prev_layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>next_layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is called on every layer to set up its prev/next layer pointers, dimensions, and allocate data. By default, it calls the setup_dims, setup_data, setup_views, and setup_gpu (if needed) methods. </p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00363">363</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                                                  {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac54fc73f5d751fe61238dbd7940d391a">setup_pointers</a>(prev_layer, next_layer);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746">setup_dims</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81">setup_data</a>();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5">setup_views</a>();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863">setup_gpu</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_ac54fc73f5d751fe61238dbd7940d391a"><div class="ttname"><a href="classlbann_1_1Layer.html#ac54fc73f5d751fe61238dbd7940d391a">lbann::Layer::setup_pointers</a></div><div class="ttdeci">virtual void setup_pointers(const Layer *prev_layer, const Layer *next_layer)</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00373">layer.cpp:373</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a705cdeb600e57a076a24f6be1c31f5a5"><div class="ttname"><a href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5">lbann::Layer::setup_views</a></div><div class="ttdeci">virtual void setup_views()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00273">layer.hpp:273</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a36aa22ef90ce4de65abe729d38490863"><div class="ttname"><a href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863">lbann::Layer::setup_gpu</a></div><div class="ttdeci">virtual void setup_gpu()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00423">layer.cpp:423</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a90fce1b06c1f2abb480e18cfe08a9746"><div class="ttname"><a href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746">lbann::Layer::setup_dims</a></div><div class="ttdeci">virtual void setup_dims()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00379">layer.cpp:379</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a50a89f8a68762c677d48efe384676e81"><div class="ttname"><a href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81">lbann::Layer::setup_data</a></div><div class="ttdeci">virtual void setup_data()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00399">layer.cpp:399</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_af455f02e7d3111a3610bc3fb705f3292_cgraph.png" border="0" usemap="#classlbann_1_1Layer_af455f02e7d3111a3610bc3fb705f3292_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_af455f02e7d3111a3610bc3fb705f3292_cgraph" id="classlbann_1_1Layer_af455f02e7d3111a3610bc3fb705f3292_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#ac54fc73f5d751fe61238dbd7940d391a" title="lbann::Layer::setup\l_pointers" alt="" coords="204,5,337,46"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746" title="lbann::Layer::setup_dims" alt="" coords="187,71,355,97"/><area shape="rect" id="node5" href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81" title="lbann::Layer::setup_data" alt="" coords="188,121,353,148"/><area shape="rect" id="node6" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5" title="lbann::Layer::setup\l_views" alt="" coords="204,173,337,214"/><area shape="rect" id="node7" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863" title="lbann::Layer::setup_gpu" alt="" coords="190,239,351,265"/><area shape="rect" id="node4" href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6" title="lbann::Layer::fp_output_dims" alt="" coords="403,71,594,97"/><area shape="rect" id="node8" href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd" title="lbann::Layer::get_data\l_layout" alt="" coords="423,166,574,207"/><area shape="rect" id="node9" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175" title="lbann::lbann_comm::\lget_procs_per_model" alt="" coords="425,231,572,273"/><area shape="rect" id="node10" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760" title="lbann::Layer::using_gpus" alt="" coords="415,297,582,324"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50a89f8a68762c677d48efe384676e81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::setup_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer should override to call its parent and set up the layer's data (e.g. weights). This base method sets up the activations and error signal matrices. This is always called after setup_dims. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#acca43020e655454470244b57f11156fa">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#ae059dab403ac5de006b408669fc2ca24">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#ab515e25ae0e7e4e3349d82d0ad1d9b88">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#aaf22b479b411fe3fae7cc6e4a667e928">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__distributed__minibatch.html#af883c005161129cada9e9fe61fe81505">lbann::input_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer.html#a97731e2d01ad10b3b37d57d40e99e034">lbann::target_layer</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#ab241e32c6b99419ca8ca4f934cee8b41">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__partitioned__minibatch.html#a8ddb5abe2b6fa88233fe43170944d8a5">lbann::input_layer_partitioned_minibatch&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#a765ddabb22477da9810aa9eb3c374319">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00399">399</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                       {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// Initialize matrices</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> == 0) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_layer: &quot;</span> + std::to_string(<a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>) +</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                          <span class="stringliteral">&quot; num_neurons is 0&quot;</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a> == 0) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_layer: &quot;</span> + std::to_string(<a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>) +</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                          <span class="stringliteral">&quot; mini_batch_size is 0&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a> &gt; 0) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>-&gt;Resize(<a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a>, <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> &gt; 0) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>-&gt;Resize(<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a>, <a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Pin host memory if needed for GPU memory transfers</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  pin_data();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a50a89f8a68762c677d48efe384676e81_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a50a89f8a68762c677d48efe384676e81_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a50a89f8a68762c677d48efe384676e81_icgraph" id="classlbann_1_1Layer_a50a89f8a68762c677d48efe384676e81_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1softmax__layer.html#aaf22b479b411fe3fae7cc6e4a667e928" title="lbann::softmax_layer\l::setup_data" alt="" coords="237,5,379,46"/><area shape="rect" id="node3" href="classlbann_1_1input__layer__distributed__minibatch.html#af883c005161129cada9e9fe61fe81505" title="lbann::input_layer\l_distributed_minibatch\l::setup_data" alt="" coords="232,69,384,125"/><area shape="rect" id="node4" href="classlbann_1_1input__layer__partitioned__minibatch.html#a8ddb5abe2b6fa88233fe43170944d8a5" title="lbann::input_layer\l_partitioned_minibatch\l::setup_data" alt="" coords="232,149,384,205"/><area shape="rect" id="node5" href="classlbann_1_1target__layer.html#a97731e2d01ad10b3b37d57d40e99e034" title="lbann::target_layer\l::setup_data" alt="" coords="243,229,373,270"/><area shape="rect" id="node8" href="classlbann_1_1convolution__layer.html#acca43020e655454470244b57f11156fa" title="lbann::convolution\l_layer::setup_data" alt="" coords="243,294,373,335"/><area shape="rect" id="node9" href="classlbann_1_1fully__connected__layer.html#ae059dab403ac5de006b408669fc2ca24" title="lbann::fully_connected\l_layer::setup_data" alt="" coords="232,359,384,401"/><area shape="rect" id="node10" href="classlbann_1_1batch__normalization.html#ab515e25ae0e7e4e3349d82d0ad1d9b88" title="lbann::batch_normalization\l::setup_data" alt="" coords="219,425,397,466"/><area shape="rect" id="node11" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="241,491,375,517"/><area shape="rect" id="node6" href="classlbann_1_1target__layer__distributed__minibatch.html#ab241e32c6b99419ca8ca4f934cee8b41" title="lbann::target_layer\l_distributed_minibatch\l::setup_data" alt="" coords="445,181,597,237"/><area shape="rect" id="node7" href="classlbann_1_1target__layer__partitioned__minibatch.html#a765ddabb22477da9810aa9eb3c374319" title="lbann::target_layer\l_partitioned_minibatch\l::setup_data" alt="" coords="445,261,597,317"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a90fce1b06c1f2abb480e18cfe08a9746"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::setup_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer should override this to call its parent and set up the layer's m_num_neurons and m_neuron_dims. This base method sets up m_num_prev_neurons and related methods. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#a156721b2cbf972932d317d3c6e0d62d3">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#a062963f46e639ff415d62fd39e798c78">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#a461175c93cb90882125bb494ba1c5271">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#aa97e3fe29a20b5ba4e4c974545df6a2c">lbann::reconstruction_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer.html#adf6ad69a74e097cfbd02d0a75ee1d5c1">lbann::target_layer</a>, and <a class="el" href="classlbann_1_1input__layer.html#a5507a2d6b7e8e2f1c187fe64e739c465">lbann::input_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00379">379</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                       {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// Get dimensions of previous neuron tensor</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> != NULL) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a> = <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6">fp_output_dims</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.assign(1, 0);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a> = <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.size();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a> = std::accumulate(<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.begin(),</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                       <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.end(),</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                       1,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                       std::multiplies&lt;int&gt;());</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// Set neuron tensor dimensions equal to previous neuron tensor</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> = <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a> = <a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a> = <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9eb525b60e6fc0613f09f54648bc27b6"><div class="ttname"><a href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6">lbann::Layer::fp_output_dims</a></div><div class="ttdeci">virtual vector&lt; int &gt; fp_output_dims(const Layer *next_layer=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00718">layer.cpp:718</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_cgraph" id="classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6" title="lbann::Layer::fp_output_dims" alt="" coords="222,5,413,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_icgraph" id="classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1input__layer.html#a5507a2d6b7e8e2f1c187fe64e739c465" title="lbann::input_layer\l::setup_dims" alt="" coords="235,5,359,46"/><area shape="rect" id="node3" href="classlbann_1_1target__layer.html#adf6ad69a74e097cfbd02d0a75ee1d5c1" title="lbann::target_layer\l::setup_dims" alt="" coords="233,70,362,111"/><area shape="rect" id="node5" href="classlbann_1_1convolution__layer.html#a156721b2cbf972932d317d3c6e0d62d3" title="lbann::convolution\l_layer::setup_dims" alt="" coords="231,135,363,177"/><area shape="rect" id="node6" href="classlbann_1_1fully__connected__layer.html#a062963f46e639ff415d62fd39e798c78" title="lbann::fully_connected\l_layer::setup_dims" alt="" coords="221,201,373,242"/><area shape="rect" id="node7" href="classlbann_1_1pooling__layer.html#a461175c93cb90882125bb494ba1c5271" title="lbann::pooling_layer\l::setup_dims" alt="" coords="229,266,366,307"/><area shape="rect" id="node8" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="231,332,364,359"/><area shape="rect" id="node4" href="classlbann_1_1reconstruction__layer.html#aa97e3fe29a20b5ba4e4c974545df6a2c" title="lbann::reconstruction\l_layer::setup_dims" alt="" coords="422,70,565,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36aa22ef90ce4de65abe729d38490863"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::setup_gpu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer using GPU should override this to call its parent and set up the layer's GPU data (e.g. weights). This base method sets up the activations and error signal matrices. This is always called after setup_data. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#aef1ce8742619dddb3371e6c5cc64af4c">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1pooling__layer.html#aacfb8108c1a8ad39edafff1406ed9458">lbann::pooling_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1local__response__normalization__layer.html#a3df95733ab76629a76518175c5b692ab">lbann::local_response_normalization_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1relu__layer.html#a8c305ba4dc7f19b4d64102e83e50ea86">lbann::relu_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00423">423</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                      {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">#ifndef __LIB_CUDNN</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;Layer: cuDNN not detected&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// Throw error is data layout is not data parallel</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// TODO: Design a more general interface</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd">get_data_layout</a>() != <a class="code" href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638">data_layout::DATA_PARALLEL</a>) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;Layer: GPUs are currently only supported for data parallel layers&quot;</span>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// Split mini-batch amongst GPUs</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> num_gpus = <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_num_gpus();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> num_processes = <a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">get_procs_per_model</a>();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> local_mini_batch_size = (<a class="code" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a> + num_processes - 1) / num_processes;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  m_mini_batch_size_per_gpu = (local_mini_batch_size + num_gpus - 1) / num_gpus;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// Initialize descriptors</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  CHECK_CUDNN(cudnnCreateTensorDescriptor(&amp;m_prev_neurons_cudnn_desc));</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  CHECK_CUDNN(cudnnCreateTensorDescriptor(&amp;m_neurons_cudnn_desc));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// Set input tensor descriptor</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  std::vector&lt;int&gt; input_dims = <a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  input_dims.insert(input_dims.begin(), m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  std::vector&lt;int&gt; input_strides(input_dims.size());</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  input_strides[input_strides.size()-1]  = 1;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=input_strides.size()-2; i&gt;=0; --i) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    input_strides[i] = input_strides[i+1] * input_dims[i+1];</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  CHECK_CUDNN(cudnnSetTensorNdDescriptor(m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                         <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_cudnn_data_type(),</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                         input_dims.size(),</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                         input_dims.data(),</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                         input_strides.data()));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// Set output tensor descriptor</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  std::vector&lt;int&gt; output_dims = <a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  output_dims.insert(output_dims.begin(), m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  std::vector&lt;int&gt; output_strides(output_dims.size());</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  output_strides[output_strides.size()-1]  = 1;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=output_strides.size()-2; i&gt;=0; --i) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    output_strides[i] = output_strides[i+1] * output_dims[i+1];</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  CHECK_CUDNN(cudnnSetTensorNdDescriptor(m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                         <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_cudnn_data_type(),</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                         output_dims.size(),</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                                         output_dims.data(),</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                         output_strides.data()));</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// Allocate GPU memory</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(m_activations_d,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                            <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a>,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                            m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(m_error_signal_d,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                            <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a>,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                            m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> == NULL || !<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a>()) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(m_prev_activations_d,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                              <a class="code" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a>,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                              m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> == NULL || !<a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a>-&gt;<a class="code" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a>()) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(m_prev_error_signal_d,</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                              <a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a>,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                              m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#endif // __LIB_CUDNN</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlbann_1_1Layer_html_acee56be91337bbd78bc4371a8159b760"><div class="ttname"><a href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">lbann::Layer::using_gpus</a></div><div class="ttdeci">bool using_gpus() const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00176">layer.hpp:176</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="base_8hpp_html_a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638"><div class="ttname"><a href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638">data_layout::DATA_PARALLEL</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5dfb66e81fc085997402a5e2241316bd"><div class="ttname"><a href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd">lbann::Layer::get_data_layout</a></div><div class="ttdeci">virtual data_layout get_data_layout() const =0</div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9e8618c7af666db28f01e7e1450cda57"><div class="ttname"><a href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">int m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00318">layer.hpp:318</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acf38e5b69ae1a0538d676f91a00ceac1"><div class="ttname"><a href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">lbann::Layer::m_next_layer</a></div><div class="ttdeci">const Layer * m_next_layer</div><div class="ttdoc">Pointer to next layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00222">layer.hpp:222</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad67668baa49b8713f3c74816d1aeb175"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">lbann::lbann_comm::get_procs_per_model</a></div><div class="ttdeci">int get_procs_per_model() const </div><div class="ttdef"><b>Definition:</b> <a href="comm_8hpp_source.html#l00112">comm.hpp:112</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac7b30f4e28d58204bfcbb76886f9136d"><div class="ttname"><a href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">lbann::Layer::m_num_prev_neurons</a></div><div class="ttdeci">int m_num_prev_neurons</div><div class="ttdoc">Number of neurons in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00207">layer.hpp:207</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_cgraph" id="classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd" title="lbann::Layer::get_data\l_layout" alt="" coords="225,5,375,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175" title="lbann::lbann_comm::\lget_procs_per_model" alt="" coords="227,70,373,111"/><area shape="rect" id="node4" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760" title="lbann::Layer::using_gpus" alt="" coords="217,136,383,163"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_icgraph" id="classlbann_1_1Layer_a36aa22ef90ce4de65abe729d38490863_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1relu__layer.html#a8c305ba4dc7f19b4d64102e83e50ea86" title="lbann::relu_layer::\lsetup_gpu" alt="" coords="228,5,353,46"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#aef1ce8742619dddb3371e6c5cc64af4c" title="Initialize GPU objects. " alt="" coords="227,70,354,111"/><area shape="rect" id="node4" href="classlbann_1_1local__response__normalization__layer.html#a3df95733ab76629a76518175c5b692ab" title="Initialize GPU objects. " alt="" coords="217,135,365,191"/><area shape="rect" id="node5" href="classlbann_1_1pooling__layer.html#aacfb8108c1a8ad39edafff1406ed9458" title="Initialize GPU objects. " alt="" coords="222,214,359,255"/><area shape="rect" id="node6" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="224,280,357,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac54fc73f5d751fe61238dbd7940d391a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::setup_pointers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>prev_layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>next_layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is called by setup to actually set up prev/next layer pointers. This is public because models also use this to adjust pointers as needed. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1branch__layer.html#ae34afa5f2a4a5ce8636cfa4fd16cf27e">lbann::branch_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1sum__layer.html#a5756117eba89ca1d23c89af623997443">lbann::sum_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00373">373</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                                           {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// Set adjacent layers</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a> = prev_layer;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a> = next_layer;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a3eba0e6629a2205291c3443a956a7c1a"><div class="ttname"><a href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">lbann::Layer::m_prev_layer</a></div><div class="ttdeci">const Layer * m_prev_layer</div><div class="ttdoc">Pointer to previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00221">layer.hpp:221</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_acf38e5b69ae1a0538d676f91a00ceac1"><div class="ttname"><a href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">lbann::Layer::m_next_layer</a></div><div class="ttdeci">const Layer * m_next_layer</div><div class="ttdoc">Pointer to next layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00222">layer.hpp:222</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ac54fc73f5d751fe61238dbd7940d391a_icgraph.png" border="0" usemap="#classlbann_1_1Layer_ac54fc73f5d751fe61238dbd7940d391a_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ac54fc73f5d751fe61238dbd7940d391a_icgraph" id="classlbann_1_1Layer_ac54fc73f5d751fe61238dbd7940d391a_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1branch__layer.html#ae34afa5f2a4a5ce8636cfa4fd16cf27e" title="lbann::branch_layer\l::setup_pointers" alt="" coords="201,5,335,46"/><area shape="rect" id="node3" href="classlbann_1_1sum__layer.html#a5756117eba89ca1d23c89af623997443" title="lbann::sum_layer::setup\l_pointers" alt="" coords="187,70,349,111"/><area shape="rect" id="node4" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="201,136,335,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a705cdeb600e57a076a24f6be1c31f5a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::Layer::setup_views </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer should override to call its parent and set up any views of the layer's data. This is always called after setup_data. </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389">lbann::convolution_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1fully__connected__layer.html#a9df470c0cd47e4f35b8bc6f831f92fd7">lbann::fully_connected_layer&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00273">273</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a705cdeb600e57a076a24f6be1c31f5a5_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a705cdeb600e57a076a24f6be1c31f5a5_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a705cdeb600e57a076a24f6be1c31f5a5_icgraph" id="classlbann_1_1Layer_a705cdeb600e57a076a24f6be1c31f5a5_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389" title="lbann::convolution\l_layer::setup_views" alt="" coords="193,70,332,111"/><area shape="rect" id="node5" href="classlbann_1_1fully__connected__layer.html#a9df470c0cd47e4f35b8bc6f831f92fd7" title="lbann::fully_connected\l_layer::setup_views" alt="" coords="187,135,339,177"/><area shape="rect" id="node8" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="196,201,329,228"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#aaa407129cf1df628908abbc5fdb6cbfc" title="lbann::convolution\l_layer::convolution_layer" alt="" coords="399,5,566,46"/><area shape="rect" id="node4" href="classlbann_1_1convolution__layer.html#ae92c4059e1c6ac6cf5064769d7d21c61" title="lbann::convolution\l_layer::operator=" alt="" coords="419,70,546,111"/><area shape="rect" id="node6" href="classlbann_1_1fully__connected__layer.html#a377e44ab7eccb1aec467be5667bef6fe" title="lbann::fully_connected\l_layer::fully_connected_layer" alt="" coords="387,135,578,177"/><area shape="rect" id="node7" href="classlbann_1_1fully__connected__layer.html#ab06d01021d4e89cd2f4f64c330e7cc31" title="lbann::fully_connected\l_layer::operator=" alt="" coords="407,201,559,242"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af7e50932bb60d4cab3b21ab3fb0707ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::summarize_matrices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;&#160;</td>
          <td class="paramname"><em>summarizer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1learning.html#ab874a3a28c20aebc87b794e7c6e5e875">lbann::learning</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00348">348</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                                                  {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  std::string prefix = <span class="stringliteral">&quot;layer&quot;</span> + std::to_string(static_cast&lt;long long&gt;(<a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>)) +</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="stringliteral">&quot;/activations/&quot;</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  summarizer.reduce_mean(prefix + <span class="stringliteral">&quot;mean&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>, step);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  summarizer.reduce_min(prefix + <span class="stringliteral">&quot;min&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>, step);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  summarizer.reduce_max(prefix + <span class="stringliteral">&quot;max&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>, step);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  summarizer.reduce_stdev(prefix + <span class="stringliteral">&quot;stdev&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a>, step);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  prefix = <span class="stringliteral">&quot;layer&quot;</span> + std::to_string(static_cast&lt;long long&gt;(<a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>)) +</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="stringliteral">&quot;/error_signal/&quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  summarizer.reduce_mean(prefix + <span class="stringliteral">&quot;mean&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>, step);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  summarizer.reduce_min(prefix + <span class="stringliteral">&quot;min&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>, step);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  summarizer.reduce_max(prefix + <span class="stringliteral">&quot;max&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>, step);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  summarizer.reduce_stdev(prefix + <span class="stringliteral">&quot;stdev&quot;</span>, *<a class="code" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a>, step);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a7a28e5b795fcd852dea62e57d7a6f97e"><div class="ttname"><a href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">lbann::Layer::m_activations</a></div><div class="ttdeci">ElMat * m_activations</div><div class="ttdoc">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) ...</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00216">layer.hpp:216</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a43ae6cca8efd036e6f496d3b4f5c1bf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">lbann::Layer::m_error_signal</a></div><div class="ttdeci">ElMat * m_error_signal</div><div class="ttdoc">Error signal to &quot;next&quot; layer (i.e. deltas) ((# neurons) x mini-batch size) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00224">layer.hpp:224</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_cgraph.png" border="0" usemap="#classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_cgraph" id="classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__summary.html#ae057705ddd840068bd5a1182a34a4ae7" title="lbann::lbann_summary\l::reduce_mean" alt="" coords="219,5,373,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__summary.html#aa466d6b290afd2ae819fa1aa7d592673" title="lbann::lbann_summary\l::reduce_min" alt="" coords="219,70,373,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__summary.html#aa458036662d4b32d71aaeb8f825ed084" title="lbann::lbann_summary\l::reduce_max" alt="" coords="219,135,373,177"/><area shape="rect" id="node5" href="classlbann_1_1lbann__summary.html#a4896f87c5c9542b11b24afbb7e951485" title="lbann::lbann_summary\l::reduce_stdev" alt="" coords="219,201,373,242"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_icgraph.png" border="0" usemap="#classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_icgraph" id="classlbann_1_1Layer_af7e50932bb60d4cab3b21ab3fb0707ea_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1learning.html#ab874a3a28c20aebc87b794e7c6e5e875" title="lbann::learning::summarize\l_matrices" alt="" coords="219,5,397,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f3f26e2ae0497f9a00fd6bc56b50543"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::Layer::summarize_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;&#160;</td>
          <td class="paramname"><em>summarizer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classlbann_1_1target__layer.html#ab7390ac945aad671b0765772434bd06b">lbann::target_layer</a>.</p>

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00340">340</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                                               {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  std::string prefix = <span class="stringliteral">&quot;layer&quot;</span> + std::to_string(static_cast&lt;long long&gt;(<a class="code" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a>)) + <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  summarizer.reduce_scalar(prefix + <span class="stringliteral">&quot;fp_time&quot;</span>, <a class="code" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a>, step);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  summarizer.reduce_scalar(prefix + <span class="stringliteral">&quot;bp_time&quot;</span>, <a class="code" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a>, step);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  summarizer.reduce_scalar(prefix + <span class="stringliteral">&quot;update_time&quot;</span>, <a class="code" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a>, step);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9">reset_counters</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a0a0f8e32e2b17953f87652f855ccfbf9"><div class="ttname"><a href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9">lbann::Layer::reset_counters</a></div><div class="ttdeci">virtual void reset_counters()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00150">layer.hpp:150</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abd6c1fa01659749b22de59baf8259b84"><div class="ttname"><a href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">lbann::Layer::update_time</a></div><div class="ttdeci">double update_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00331">layer.hpp:331</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a09c7d2b97bd211099528f5b3c33c31e3"><div class="ttname"><a href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">lbann::Layer::m_index</a></div><div class="ttdeci">int m_index</div><div class="ttdoc">Layer index (start with 0) </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00200">layer.hpp:200</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abaa9acb195346090fffcd64013295479"><div class="ttname"><a href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">lbann::Layer::bp_time</a></div><div class="ttdeci">double bp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00327">layer.hpp:327</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a94ee7bf7544942bc8cf208b565349c66"><div class="ttname"><a href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">lbann::Layer::fp_time</a></div><div class="ttdeci">double fp_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00323">layer.hpp:323</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_cgraph.png" border="0" usemap="#classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_cgraph" id="classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__summary.html#a3e0b9aae1f80403a195567fd25ea2525" title="lbann::lbann_summary\l::reduce_scalar" alt="" coords="219,5,373,46"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9" title="lbann::Layer::reset\l_counters" alt="" coords="231,70,361,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_icgraph" id="classlbann_1_1Layer_a7f3f26e2ae0497f9a00fd6bc56b50543_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1reconstruction__layer.html#a06f4d6bd0353343507fb3e2bb7400749" title="lbann::reconstruction\l_layer::summarize_stats" alt="" coords="219,5,384,46"/><area shape="rect" id="node3" href="classlbann_1_1target__layer.html#ab7390ac945aad671b0765772434bd06b" title="lbann::target_layer\l::summarize_stats" alt="" coords="236,70,367,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae4a050e51e3a9bec431cf8b7a5660f2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8cpp_source.html#l00331">331</a> of file <a class="el" href="layer_8cpp_source.html">layer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                   {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordtype">bool</span> layer_done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// Apply any updates.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordtype">double</span> update_compute_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  layer_done = <a class="code" href="classlbann_1_1Layer.html#a70e08fc96a612f67ade6ba3809536d85">update_compute</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - update_compute_start;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">return</span> layer_done;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_abd6c1fa01659749b22de59baf8259b84"><div class="ttname"><a href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">lbann::Layer::update_time</a></div><div class="ttdeci">double update_time</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00331">layer.hpp:331</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a70e08fc96a612f67ade6ba3809536d85"><div class="ttname"><a href="classlbann_1_1Layer.html#a70e08fc96a612f67ade6ba3809536d85">lbann::Layer::update_compute</a></div><div class="ttdeci">virtual bool update_compute()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00279">layer.hpp:279</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="timer_8hpp_source.html#l00037">timer.hpp:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_ae4a050e51e3a9bec431cf8b7a5660f2c_cgraph.png" border="0" usemap="#classlbann_1_1Layer_ae4a050e51e3a9bec431cf8b7a5660f2c_cgraph" alt=""/></div>
<map name="classlbann_1_1Layer_ae4a050e51e3a9bec431cf8b7a5660f2c_cgraph" id="classlbann_1_1Layer_ae4a050e51e3a9bec431cf8b7a5660f2c_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="210,5,321,32"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a70e08fc96a612f67ade6ba3809536d85" title="lbann::Layer::update\l_compute" alt="" coords="195,57,335,98"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a70e08fc96a612f67ade6ba3809536d85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lbann::Layer::update_compute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform the layers work / main function for the update step </p>

<p>Reimplemented in <a class="el" href="classlbann_1_1convolution__layer.html#a3ebeeabc1f24d3aba169ee69aaad0717">lbann::convolution_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1batch__normalization.html#ada966e3ec503f6ef8361c4cd0aa423fb">lbann::batch_normalization&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1fully__connected__layer.html#a0e5eebd760f4e3762e15af2f0de2ff92">lbann::fully_connected_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1softmax__layer.html#a0c0c03f57b0339ac49c172f69993d60f">lbann::softmax_layer&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__distributed__minibatch.html#ad935e46a85d12fda7184b76074335593">lbann::target_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1target__layer__partitioned__minibatch.html#aaac73489273aec56cfad2f29e53f90a2">lbann::target_layer_partitioned_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1input__layer__distributed__minibatch.html#aefe5da98b59a9d979bd3e7dcc9375a90">lbann::input_layer_distributed_minibatch&lt; T_layout &gt;</a>, <a class="el" href="classlbann_1_1reconstruction__layer.html#a7a1f42117e06d67d545b8fe30a8059a3">lbann::reconstruction_layer&lt; T_layout &gt;</a>, and <a class="el" href="classlbann_1_1input__layer__partitioned__minibatch.html#a98411fb24c6b4d262ac1212af18bd94b">lbann::input_layer_partitioned_minibatch&lt; T_layout &gt;</a>.</p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00279">279</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_a70e08fc96a612f67ade6ba3809536d85_icgraph.png" border="0" usemap="#classlbann_1_1Layer_a70e08fc96a612f67ade6ba3809536d85_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_a70e08fc96a612f67ade6ba3809536d85_icgraph" id="classlbann_1_1Layer_a70e08fc96a612f67ade6ba3809536d85_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#ae4a050e51e3a9bec431cf8b7a5660f2c" title="lbann::Layer::update" alt="" coords="195,12,335,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acee56be91337bbd78bc4371a8159b760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::using_gpus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00176">176</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                          {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1Layer_acee56be91337bbd78bc4371a8159b760_icgraph.png" border="0" usemap="#classlbann_1_1Layer_acee56be91337bbd78bc4371a8159b760_icgraph" alt=""/></div>
<map name="classlbann_1_1Layer_acee56be91337bbd78bc4371a8159b760_icgraph" id="classlbann_1_1Layer_acee56be91337bbd78bc4371a8159b760_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5" title="lbann::Layer::forward_prop" alt="" coords="221,48,397,75"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a0a502d9218d7dbbfd10ebebb6f917033" title="lbann::Layer::back_prop" alt="" coords="229,99,390,125"/><area shape="rect" id="node4" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863" title="lbann::Layer::setup_gpu" alt="" coords="229,149,390,176"/><area shape="rect" id="node5" href="classlbann_1_1relu__layer.html#a8c305ba4dc7f19b4d64102e83e50ea86" title="lbann::relu_layer::\lsetup_gpu" alt="" coords="457,5,583,46"/><area shape="rect" id="node6" href="classlbann_1_1convolution__layer.html#aef1ce8742619dddb3371e6c5cc64af4c" title="Initialize GPU objects. " alt="" coords="457,70,583,111"/><area shape="rect" id="node7" href="classlbann_1_1local__response__normalization__layer.html#a3df95733ab76629a76518175c5b692ab" title="Initialize GPU objects. " alt="" coords="446,135,594,191"/><area shape="rect" id="node8" href="classlbann_1_1pooling__layer.html#aacfb8108c1a8ad39edafff1406ed9458" title="Initialize GPU objects. " alt="" coords="451,214,589,255"/><area shape="rect" id="node9" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292" title="lbann::Layer::setup" alt="" coords="453,280,587,307"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a18f90fa1ec6d7fb2288a40ada0105d11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::Layer::bp_compute_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time spent in the backward propagation computation. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00329">329</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abaa9acb195346090fffcd64013295479"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::Layer::bp_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time spent in backward propagation. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00327">327</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a19ead6e739e08170ef49c11f84eb638c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::Layer::fp_compute_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time spent in the forward propagation computation. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00325">325</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a94ee7bf7544942bc8cf208b565349c66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::Layer::fp_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time spent in forward propagation. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00323">323</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7a28e5b795fcd852dea62e57d7a6f97e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_activations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size) </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00216">216</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a871b103aedbd95b5205c24b66ef74dfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_activations_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>View of active columns in activations matrix. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00217">217</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5de05c52f22e0bbd7c703bec3ad4dbf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a>* lbann::Layer::m_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00202">202</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a08dbb94239e3b8c96329786c57c72e21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcudnn_1_1cudnn__manager.html">cudnn::cudnn_manager</a>* lbann::Layer::m_cudnn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>cuDNN manager </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00285">285</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1d34e7741b22b74330738e2cf8f774a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_effective_mbsize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>"Effective" mini-batch size for backward propagation, etc.. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00320">320</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a43ae6cca8efd036e6f496d3b4f5c1bf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_error_signal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Error signal to "next" layer (i.e. deltas) ((# neurons) x mini-batch size) </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00224">224</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2fccbe7596578869ee0317c3d2542f35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_error_signal_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>View of active columns in error signal matrix. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00225">225</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af8b115cb89d6e8081de3f148a8ad2ef7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a> lbann::Layer::m_execution_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00211">211</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a09c7d2b97bd211099528f5b3c33c31e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlbann_1_1Layer.html">Layer</a> index (start with 0) </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00200">200</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9e8618c7af666db28f01e7e1450cda57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_mini_batch_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Size of the local mini-batch. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00318">318</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8f5e339cda98356c68063ea3845a94d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1model.html">model</a>* lbann::Layer::m_neural_network_model</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00219">219</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abb34bb8031f57a483e2e327a5f229f48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; lbann::Layer::m_neuron_dims</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Neuron tensor dimensions. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00206">206</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acf38e5b69ae1a0538d676f91a00ceac1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlbann_1_1Layer.html">Layer</a>* lbann::Layer::m_next_layer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to next layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00222">222</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adfd6178d21498c9095cd947ae1eb2d6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_num_neuron_dims</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of dimensions in neuron tensor. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00205">205</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6b5ebc8a7d9329d8a773ed787e7b41d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_num_neurons</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of neurons. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00204">204</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adc052afb38f170e839db00d3c8151d1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_num_prev_neuron_dims</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of dimensions in previous layer's neuron tensor. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00208">208</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac7b30f4e28d58204bfcbb76886f9136d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::Layer::m_num_prev_neurons</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of neurons in previous layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00207">207</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acbf8aa63927a205c28f971e91c24c89f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_prev_activations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Local view or copy of the activations from the "previous" layer ((# previous layer's neurons) x mini-batch size) </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00227">227</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac590e0f3831d1c7b204275c89375ee14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_prev_activations_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>View of active columns in previous activations matrix. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00228">228</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a81d6e3e65adcfee83e953b63ff5e9121"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_prev_error_signal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Local copy of the error signal from "previous" layer ((# neurons) x mini-batch size) </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00213">213</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3f1ab0c18e78cd82af4cf24b73ec96bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* lbann::Layer::m_prev_error_signal_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>View of active columns in previous error signal matrix. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00214">214</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3eba0e6629a2205291c3443a956a7c1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlbann_1_1Layer.html">Layer</a>* lbann::Layer::m_prev_layer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to previous layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00221">221</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae204d1a2a79606eaa117273857ff62a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; lbann::Layer::m_prev_neuron_dims</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Neuron tensor dimensions in previous layer. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00209">209</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af7881cb5eff5207c15fa835d65462e8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::Layer::m_using_gpus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Current layer is using GPUs. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00282">282</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abd6c1fa01659749b22de59baf8259b84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::Layer::update_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time spent in updates. </p>

<p>Definition at line <a class="el" href="layer_8hpp_source.html#l00331">331</a> of file <a class="el" href="layer_8hpp_source.html">layer.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/LLNL/lbann/include/lbann/layers/<a class="el" href="layer_8hpp_source.html">layer.hpp</a></li>
<li>/home/travis/build/LLNL/lbann/src/layers/<a class="el" href="layer_8cpp_source.html">layer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1Layer.html">Layer</a></li>
    <li class="footer">Generated on Fri Jul 14 2017 21:44:16 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
