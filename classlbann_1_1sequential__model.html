<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LBANN: lbann::sequential_model Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
  <div class="navpath"><a class="el" href="namespacelbann.html">lbann</a>::<a class="el" href="classlbann_1_1sequential__model.html">sequential_model</a>
  </div>
<div class="contents">
<h1>lbann::sequential_model Class Reference</h1><!-- doxytag: class="lbann::sequential_model" --><!-- doxytag: inherits="lbann::model" -->
<p><code>#include &lt;<a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::sequential_model:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1sequential__model__inherit__graph.png" border="0" usemap="#lbann_1_1sequential__model_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1sequential__model_inherit__map" id="lbann_1_1sequential__model_inherit__map">
<area shape="rect" id="node5" href="classlbann_1_1AutoEncoder.html" title="lbann::AutoEncoder" alt="" coords="28,160,164,189"/><area shape="rect" id="node9" href="classlbann_1_1deep__neural__network.html" title="lbann::deep_neural_network" alt="" coords="188,160,372,189"/><area shape="rect" id="node11" href="classlbann_1_1stacked__autoencoder.html" title="lbann::stacked_autoencoder" alt="" coords="396,160,580,189"/><area shape="rect" id="node2" href="classlbann_1_1model.html" title="lbann::model" alt="" coords="232,5,328,35"/><area shape="rect" id="node7" href="classlbann_1_1StackedAutoencoder.html" title="lbann::StackedAutoencoder" alt="" coords="5,237,187,267"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::sequential_model:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1sequential__model__coll__graph.png" border="0" usemap="#lbann_1_1sequential__model_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1sequential__model_coll__map" id="lbann_1_1sequential__model_coll__map">
<area shape="rect" id="node2" href="classlbann_1_1model.html" title="lbann::model" alt="" coords="24,101,120,131"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html" title="lbann::lbann_comm" alt="" coords="5,5,139,35"/><area shape="rect" id="node6" href="classlbann_1_1Optimizer__factory.html" title="lbann::Optimizer_factory" alt="" coords="144,101,307,131"/><area shape="rect" id="node8" href="classlbann_1_1layer__factory.html" title="lbann::layer_factory" alt="" coords="331,101,467,131"/><area shape="rect" id="node10" href="classlbann_1_1base__factory.html" title="lbann::base_factory\&lt; Layer \&gt;" alt="" coords="303,5,495,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classlbann_1_1sequential__model-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#ac091ba088a70b86c127870b2bdb83d17">sequential_model</a> (const <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1model.html#ae5a400e2f0a044c33383975298719cc2">comm</a>, <a class="el" href="classlbann_1_1layer__factory.html">layer_factory</a> *<a class="el" href="classlbann_1_1sequential__model.html#a539722d26abf5a9b6cd748da8e9fa930">layer_fac</a>, <a class="el" href="classlbann_1_1Optimizer__factory.html">Optimizer_factory</a> *optimizer_factory)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ac091ba088a70b86c127870b2bdb83d17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a05ec812bf7db0dc1b29b61aeb197c587">~sequential_model</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#a05ec812bf7db0dc1b29b61aeb197c587"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a10e9245e9c58c4b3c3c365f0b65e92b8">save_to_file</a> (const std::string file_dir)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save <a class="el" href="classlbann_1_1model.html">model</a> to file.  <a href="#a10e9245e9c58c4b3c3c365f0b65e92b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a7b841c06d54724caecbd2eee309af1c3">load_from_file</a> (const std::string file_dir)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load <a class="el" href="classlbann_1_1model.html">model</a> from file.  <a href="#a7b841c06d54724caecbd2eee309af1c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#aa249267bd3e129b480c4615f51bfaed5">save_to_checkpoint</a> (int fd, const char *filename, uint64_t *bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save <a class="el" href="classlbann_1_1model.html">model</a> to checkpoint.  <a href="#aa249267bd3e129b480c4615f51bfaed5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a66da0af31609146827c238fca77e194d">load_from_checkpoint</a> (int fd, const char *filename, uint64_t *bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load <a class="el" href="classlbann_1_1model.html">model</a> from checkpoint.  <a href="#a66da0af31609146827c238fca77e194d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#adb00301ca3ee08ce6882469382e8f54c">save_to_checkpoint_shared</a> (const char *dir, uint64_t *bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a763961718a00350e968c2d0dce86df01">load_from_checkpoint_shared</a> (const char *dir, uint64_t *bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a1deb978ea87dd81f042b5189e4255910">get_mini_batch_size</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get mini-batch size.  <a href="#a1deb978ea87dd81f042b5189e4255910"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="classlbann_1_1Layer.html">Layer</a> * &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#ae096b68c497140d00c534fa12176a1de">get_layers</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get list of layers.  <a href="#ae096b68c497140d00c534fa12176a1de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#aa7d372ff4bc1d1041eae423e837677c5">set_layers</a> (vector&lt; <a class="el" href="classlbann_1_1Layer.html">Layer</a> * &gt; &amp;layers)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set layers.  <a href="#aa7d372ff4bc1d1041eae423e837677c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a553795d7e56f9b8f24dd59634be4958c">add</a> (const std::string layer_name, int layer_dim, <a class="el" href="namespacelbann.html#ab00e153fabca7ab166e4d79d47c05c76">activation_type</a> activation=activation_type::RELU, <a class="el" href="lbann__base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a> init=weight_initialization::glorot_uniform, std::vector&lt; <a class="el" href="classlbann_1_1regularizer.html">regularizer</a> * &gt; regularizers={})</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add layer to sequential <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#a553795d7e56f9b8f24dd59634be4958c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a2341499470419ffae075506df7983c93">add</a> (<a class="el" href="classlbann_1_1Layer.html">Layer</a> *new_layer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add layer to sequential <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#a2341499470419ffae075506df7983c93"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a65505f140bd9ffa43af0ead3b911ae52">remove</a> (int index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove layer from sequential <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#a65505f140bd9ffa43af0ead3b911ae52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#ae992c83737819d406e1311ebe24e07f0">insert</a> (int index, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *new_layer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert layer in sequential <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#ae992c83737819d406e1311ebe24e07f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a8aa4ddbd6efa79896749838e442b6168">swap</a> (int index, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *new_layer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Replace layer in sequential <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#a8aa4ddbd6efa79896749838e442b6168"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#aae08481ed20694da7bd096d091cb75c9">setup</a> (size_t start_index=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup sequential <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#aae08481ed20694da7bd096d091cb75c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#afa3b9ca110b10aac19b7f1748f6c6291">train</a> (int num_epochs, int evaluation_frequency=0)=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Train <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#afa3b9ca110b10aac19b7f1748f6c6291"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a8710ee13e79231e2d2eee6bfe0bbd1ac">train_mini_batch</a> (long *num_samples, long *num_errors)=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Training step on one mini-batch.  <a href="#a8710ee13e79231e2d2eee6bfe0bbd1ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a19c6bc751d8ee95c5e19359fc1986f1b">evaluate</a> (<a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a> mode)=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Evaluate <a class="el" href="classlbann_1_1model.html">model</a>.  <a href="#a19c6bc751d8ee95c5e19359fc1986f1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#aef3753de28f5bf5621660010b3773f13">evaluate_mini_batch</a> (long *num_samples, long *num_errors)=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Evaluation step on one mini-batch.  <a href="#aef3753de28f5bf5621660010b3773f13"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#ad4f27748b8cdf0da723f39b3aba9ef2d">m_mini_batch_size</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mini-batch size.  <a href="#ad4f27748b8cdf0da723f39b3aba9ef2d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classlbann_1_1Layer.html">Layer</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a">m_layers</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of layers.  <a href="#a33d0763e07a97def5a6b9b57a6db4c9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1layer__factory.html">layer_factory</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a539722d26abf5a9b6cd748da8e9fa930">layer_fac</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classlbann_1_1Layer.html">Layer</a> factory.  <a href="#a539722d26abf5a9b6cd748da8e9fa930"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1Optimizer__factory.html">Optimizer_factory</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1sequential__model.html#a592e67ddb0dc61bffcca628765effe7d">optimizer_fac</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classlbann_1_1Optimizer.html">Optimizer</a> factory.  <a href="#a592e67ddb0dc61bffcca628765effe7d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00042">42</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac091ba088a70b86c127870b2bdb83d17"></a><!-- doxytag: member="lbann::sequential_model::sequential_model" ref="ac091ba088a70b86c127870b2bdb83d17" args="(const uint mini_batch_size, lbann_comm *comm, layer_factory *layer_fac, Optimizer_factory *optimizer_factory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::sequential_model::sequential_model </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>mini_batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&nbsp;</td>
          <td class="paramname"> <em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1layer__factory.html">layer_factory</a> *&nbsp;</td>
          <td class="paramname"> <em>layer_fac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1Optimizer__factory.html">Optimizer_factory</a> *&nbsp;</td>
          <td class="paramname"> <em>optimizer_factory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00049">49</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00053"></a>00053   : <a class="code" href="classlbann_1_1model.html#a69bd36790b84528ce7f56fa582340c61">model</a>(<a class="code" href="classlbann_1_1model.html#ae5a400e2f0a044c33383975298719cc2">comm</a>),
<a name="l00054"></a>00054     <a class="code" href="classlbann_1_1sequential__model.html#ad4f27748b8cdf0da723f39b3aba9ef2d" title="Mini-batch size.">m_mini_batch_size</a>(mini_batch_size),
<a name="l00055"></a>00055     <a class="code" href="classlbann_1_1sequential__model.html#a539722d26abf5a9b6cd748da8e9fa930" title="Layer factory.">layer_fac</a>(_layer_fac),
<a name="l00056"></a>00056     <a class="code" href="classlbann_1_1sequential__model.html#a592e67ddb0dc61bffcca628765effe7d" title="Optimizer factory.">optimizer_fac</a>(_optimizer_fac) {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a05ec812bf7db0dc1b29b61aeb197c587"></a><!-- doxytag: member="lbann::sequential_model::~sequential_model" ref="a05ec812bf7db0dc1b29b61aeb197c587" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::sequential_model::~sequential_model </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00058">58</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059 {
<a name="l00060"></a>00060   <span class="comment">// Free layers</span>
<a name="l00061"></a>00061   <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = 0; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); ++l) {
<a name="l00062"></a>00062     <span class="keyword">delete</span> <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l];
<a name="l00063"></a>00063   }
<a name="l00064"></a>00064 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2341499470419ffae075506df7983c93"></a><!-- doxytag: member="lbann::sequential_model::add" ref="a2341499470419ffae075506df7983c93" args="(Layer *new_layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> lbann::sequential_model::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1Layer.html">Layer</a> *&nbsp;</td>
          <td class="paramname"> <em>new_layer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add layer to sequential <a class="el" href="classlbann_1_1model.html">model</a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000025">Todo:</a></b></dt><dd>Consider removing this function. The destructor deallocates all layers, so we might run into problems if a layer is deallocated externally. </dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00464">464</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00465"></a>00465 {
<a name="l00466"></a>00466   <span class="keyword">const</span> <a class="code" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> layer_index = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size();
<a name="l00467"></a>00467   new_layer-&gt;Index = layer_index;
<a name="l00468"></a>00468   <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.push_back(new_layer);
<a name="l00469"></a>00469   <span class="keywordflow">return</span> layer_index;
<a name="l00470"></a>00470 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a553795d7e56f9b8f24dd59634be4958c"></a><!-- doxytag: member="lbann::sequential_model::add" ref="a553795d7e56f9b8f24dd59634be4958c" args="(const std::string layer_name, int layer_dim, activation_type activation=activation_type::RELU, weight_initialization init=weight_initialization::glorot_uniform, std::vector&lt; regularizer * &gt; regularizers={})" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> lbann::sequential_model::add </td>
          <td>(</td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>layer_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>layer_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelbann.html#ab00e153fabca7ab166e4d79d47c05c76">activation_type</a>&nbsp;</td>
          <td class="paramname"> <em>activation</em> = <code>activation_type::RELU</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a>&nbsp;</td>
          <td class="paramname"> <em>init</em> = <code>weight_initialization::glorot_uniform</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add layer to sequential <a class="el" href="classlbann_1_1model.html">model</a>. </p>

</div>
</div>
<a class="anchor" id="a19c6bc751d8ee95c5e19359fc1986f1b"></a><!-- doxytag: member="lbann::sequential_model::evaluate" ref="a19c6bc751d8ee95c5e19359fc1986f1b" args="(execution_mode mode)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> lbann::sequential_model::evaluate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Evaluate <a class="el" href="classlbann_1_1model.html">model</a>. </p>

<p>Implemented in <a class="el" href="classlbann_1_1deep__neural__network.html#aef85264066a54190aebf4e54bf8f84d6">lbann::deep_neural_network</a>, and <a class="el" href="classlbann_1_1stacked__autoencoder.html#a68985db72ce33d2b25b1235aab39dac2">lbann::stacked_autoencoder</a>.</p>

</div>
</div>
<a class="anchor" id="aef3753de28f5bf5621660010b3773f13"></a><!-- doxytag: member="lbann::sequential_model::evaluate_mini_batch" ref="aef3753de28f5bf5621660010b3773f13" args="(long *num_samples, long *num_errors)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lbann::sequential_model::evaluate_mini_batch </td>
          <td>(</td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>num_errors</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Evaluation step on one mini-batch. </p>

<p>Implemented in <a class="el" href="classlbann_1_1deep__neural__network.html#a2f605dcfca05559597c94740bff6ccbf">lbann::deep_neural_network</a>, and <a class="el" href="classlbann_1_1stacked__autoencoder.html#a56786c4b95e9eda1a7a27a18c4a353eb">lbann::stacked_autoencoder</a>.</p>

</div>
</div>
<a class="anchor" id="ae096b68c497140d00c534fa12176a1de"></a><!-- doxytag: member="lbann::sequential_model::get_layers" ref="ae096b68c497140d00c534fa12176a1de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="classlbann_1_1Layer.html">Layer</a>*&gt;&amp; lbann::sequential_model::get_layers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get list of layers. </p>

<p>Implements <a class="el" href="classlbann_1_1model.html#a45e75790d328ac2a85aac59faf35094a">lbann::model</a>.</p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00077">77</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077 { <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1deb978ea87dd81f042b5189e4255910"></a><!-- doxytag: member="lbann::sequential_model::get_mini_batch_size" ref="a1deb978ea87dd81f042b5189e4255910" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::sequential_model::get_mini_batch_size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get mini-batch size. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00075">75</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00075"></a>00075 { <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1sequential__model.html#ad4f27748b8cdf0da723f39b3aba9ef2d" title="Mini-batch size.">m_mini_batch_size</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae992c83737819d406e1311ebe24e07f0"></a><!-- doxytag: member="lbann::sequential_model::insert" ref="ae992c83737819d406e1311ebe24e07f0" args="(int index, Layer *new_layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::sequential_model::insert </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1Layer.html">Layer</a> *&nbsp;</td>
          <td class="paramname"> <em>new_layer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert layer in sequential <a class="el" href="classlbann_1_1model.html">model</a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000027">Todo:</a></b></dt><dd><p class="startdd">This will mess up layer indices. </p>
<p class="enddd">Consider removing this function. The destructor deallocates all layers, so we might run into problems if a layer is deallocated externally. </p>
</dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00478">478</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00479"></a>00479 {
<a name="l00480"></a>00480   <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.insert(<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.begin()+index, new_layer);
<a name="l00481"></a>00481 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a66da0af31609146827c238fca77e194d"></a><!-- doxytag: member="lbann::sequential_model::load_from_checkpoint" ref="a66da0af31609146827c238fca77e194d" args="(int fd, const char *filename, uint64_t *bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::sequential_model::load_from_checkpoint </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load <a class="el" href="classlbann_1_1model.html">model</a> from checkpoint. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>This is old and likely broken </dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00303">303</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00304"></a>00304 {
<a name="l00305"></a>00305     <span class="comment">// read number of layers</span>
<a name="l00306"></a>00306     <span class="keywordtype">int</span> file_layers;
<a name="l00307"></a>00307     <span class="keywordtype">int</span> read_rc = read(fd, &amp;file_layers, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00308"></a>00308     <span class="keywordflow">if</span> (read_rc != <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) {
<a name="l00309"></a>00309         fprintf(stderr, <span class="stringliteral">&quot;ERROR: Failed to read number of layers from file `%s&apos; (%d: %s) @ %s:%d\n&quot;</span>,
<a name="l00310"></a>00310                 filename, errno, strerror(errno), __FILE__, __LINE__
<a name="l00311"></a>00311         );
<a name="l00312"></a>00312         fflush(stderr);
<a name="l00313"></a>00313     }
<a name="l00314"></a>00314     *bytes += read_rc;
<a name="l00315"></a>00315 
<a name="l00316"></a>00316     <span class="keywordflow">if</span> (file_layers != <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size()) {
<a name="l00317"></a>00317         <span class="comment">// error!</span>
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = 1; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); l++)
<a name="l00321"></a>00321         <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;loadFromCheckpoint(fd, filename, bytes))
<a name="l00322"></a>00322             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00325"></a>00325 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a763961718a00350e968c2d0dce86df01"></a><!-- doxytag: member="lbann::sequential_model::load_from_checkpoint_shared" ref="a763961718a00350e968c2d0dce86df01" args="(const char *dir, uint64_t *bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::sequential_model::load_from_checkpoint_shared </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>This is old and likely broken </dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00367">367</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00368"></a>00368 {
<a name="l00369"></a>00369     <span class="comment">// get our rank</span>
<a name="l00370"></a>00370     <span class="keywordtype">int</span> rank;
<a name="l00371"></a>00371     MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);
<a name="l00372"></a>00372 
<a name="l00373"></a>00373     <span class="comment">// have rank 0 read the network file</span>
<a name="l00374"></a>00374     <span class="keywordtype">int</span> file_layers = -1;
<a name="l00375"></a>00375     <span class="keywordflow">if</span> (rank == 0) {
<a name="l00376"></a>00376         <span class="comment">// define filename for training state</span>
<a name="l00377"></a>00377         <span class="keywordtype">char</span> filename[1024];
<a name="l00378"></a>00378         sprintf(filename, <span class="stringliteral">&quot;%s/network&quot;</span>, dir);
<a name="l00379"></a>00379 
<a name="l00380"></a>00380         <span class="comment">// open the file for writing</span>
<a name="l00381"></a>00381         <span class="keywordtype">int</span> fd = <a class="code" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532">lbann::openread</a>(filename);
<a name="l00382"></a>00382         <span class="keywordflow">if</span> (fd != -1) {
<a name="l00383"></a>00383             <span class="comment">// read number of layers</span>
<a name="l00384"></a>00384             <span class="keywordtype">int</span> read_rc = read(fd, &amp;file_layers, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00385"></a>00385             <span class="keywordflow">if</span> (read_rc != <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) {
<a name="l00386"></a>00386                 fprintf(stderr, <span class="stringliteral">&quot;ERROR: Failed to read number of layers from file `%s&apos; (%d: %s) @ %s:%d\n&quot;</span>,
<a name="l00387"></a>00387                         filename, errno, strerror(errno), __FILE__, __LINE__
<a name="l00388"></a>00388                 );
<a name="l00389"></a>00389                 fflush(stderr);
<a name="l00390"></a>00390             }
<a name="l00391"></a>00391             *bytes += read_rc;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393             <span class="comment">// close our file</span>
<a name="l00394"></a>00394             <a class="code" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8">lbann::closeread</a>(fd, filename);
<a name="l00395"></a>00395         }
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397     MPI_Bcast(&amp;file_layers, 1, MPI_INT, 0, MPI_COMM_WORLD);
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     <span class="keywordflow">if</span> (file_layers != <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size()) {
<a name="l00400"></a>00400         <span class="comment">// error!</span>
<a name="l00401"></a>00401     }
<a name="l00402"></a>00402 
<a name="l00403"></a>00403     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = 1; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); l++)
<a name="l00404"></a>00404         <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;loadFromCheckpointShared(dir, bytes))
<a name="l00405"></a>00405             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00408"></a>00408 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1sequential__model_a763961718a00350e968c2d0dce86df01_cgraph.png" border="0" usemap="#classlbann_1_1sequential__model_a763961718a00350e968c2d0dce86df01_cgraph_map" alt=""></div>
<map name="classlbann_1_1sequential__model_a763961718a00350e968c2d0dce86df01_cgraph_map" id="classlbann_1_1sequential__model_a763961718a00350e968c2d0dce86df01_cgraph">
<area shape="rect" id="node3" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="397,5,515,35"/><area shape="rect" id="node5" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="399,59,513,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b841c06d54724caecbd2eee309af1c3"></a><!-- doxytag: member="lbann::sequential_model::load_from_file" ref="a7b841c06d54724caecbd2eee309af1c3" args="(const std::string file_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::sequential_model::load_from_file </td>
          <td>(</td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>file_dir</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load <a class="el" href="classlbann_1_1model.html">model</a> from file. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>This is old and likely broken </dd></dl>

</div>
</div>
<a class="anchor" id="a65505f140bd9ffa43af0ead3b911ae52"></a><!-- doxytag: member="lbann::sequential_model::remove" ref="a65505f140bd9ffa43af0ead3b911ae52" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::sequential_model::remove </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove layer from sequential <a class="el" href="classlbann_1_1model.html">model</a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000026">Todo:</a></b></dt><dd>This will mess up layer indices </dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00472">472</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00473"></a>00473 {
<a name="l00474"></a>00474   <span class="keyword">delete</span> <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[index];
<a name="l00475"></a>00475   <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.erase(<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.begin()+index);
<a name="l00476"></a>00476 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa249267bd3e129b480c4615f51bfaed5"></a><!-- doxytag: member="lbann::sequential_model::save_to_checkpoint" ref="aa249267bd3e129b480c4615f51bfaed5" args="(int fd, const char *filename, uint64_t *bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::sequential_model::save_to_checkpoint </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Save <a class="el" href="classlbann_1_1model.html">model</a> to checkpoint. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>This is old and likely broken </dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00282">282</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00283"></a>00283 {
<a name="l00284"></a>00284     <span class="comment">// write number of layers (we&apos;ll check this on read)</span>
<a name="l00285"></a>00285     <span class="keywordtype">int</span> layers = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size();
<a name="l00286"></a>00286     <span class="keywordtype">int</span> write_rc = write(fd, &amp;layers, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00287"></a>00287     <span class="keywordflow">if</span> (write_rc != <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) {
<a name="l00288"></a>00288         fprintf(stderr, <span class="stringliteral">&quot;ERROR: Failed to write number of layers to file `%s&apos; (%d: %s) @ %s:%d\n&quot;</span>,
<a name="l00289"></a>00289                 filename, errno, strerror(errno), __FILE__, __LINE__
<a name="l00290"></a>00290         );
<a name="l00291"></a>00291         fflush(stderr);
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293     *bytes += write_rc;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295     <span class="comment">// write out details for each layer</span>
<a name="l00296"></a>00296     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = 1; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); l++)
<a name="l00297"></a>00297         <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;saveToCheckpoint(fd, filename, bytes))
<a name="l00298"></a>00298             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00299"></a>00299 
<a name="l00300"></a>00300     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00301"></a>00301 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adb00301ca3ee08ce6882469382e8f54c"></a><!-- doxytag: member="lbann::sequential_model::save_to_checkpoint_shared" ref="adb00301ca3ee08ce6882469382e8f54c" args="(const char *dir, uint64_t *bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::sequential_model::save_to_checkpoint_shared </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000023">Todo:</a></b></dt><dd>This is old and likely broken </dd></dl>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00327">327</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00328"></a>00328 {
<a name="l00329"></a>00329     <span class="comment">// write a single header describing layers and sizes?</span>
<a name="l00330"></a>00330 
<a name="l00331"></a>00331     <span class="comment">// get our rank</span>
<a name="l00332"></a>00332     <span class="keywordtype">int</span> rank;
<a name="l00333"></a>00333     MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);
<a name="l00334"></a>00334 
<a name="l00335"></a>00335     <span class="comment">// have rank 0 write the network file</span>
<a name="l00336"></a>00336     <span class="keywordflow">if</span> (rank == 0) {
<a name="l00337"></a>00337         <span class="comment">// define filename for training state</span>
<a name="l00338"></a>00338         <span class="keywordtype">char</span> filename[1024];
<a name="l00339"></a>00339         sprintf(filename, <span class="stringliteral">&quot;%s/network&quot;</span>, dir);
<a name="l00340"></a>00340 
<a name="l00341"></a>00341         <span class="comment">// open the file for writing</span>
<a name="l00342"></a>00342         <span class="keywordtype">int</span> fd = <a class="code" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a">lbann::openwrite</a>(filename);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         <span class="comment">// write number of layers (we&apos;ll check this on read)</span>
<a name="l00345"></a>00345         <span class="keywordtype">int</span> layers = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size();
<a name="l00346"></a>00346         <span class="keywordtype">int</span> write_rc = write(fd, &amp;layers, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00347"></a>00347         <span class="keywordflow">if</span> (write_rc != <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) {
<a name="l00348"></a>00348             fprintf(stderr, <span class="stringliteral">&quot;ERROR: Failed to write number of layers to file `%s&apos; (%d: %s) @ %s:%d\n&quot;</span>,
<a name="l00349"></a>00349                     filename, errno, strerror(errno), __FILE__, __LINE__
<a name="l00350"></a>00350             );
<a name="l00351"></a>00351             fflush(stderr);
<a name="l00352"></a>00352         }
<a name="l00353"></a>00353         *bytes += write_rc;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355         <span class="comment">// close our file</span>
<a name="l00356"></a>00356         <a class="code" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5">lbann::closewrite</a>(fd, filename);
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358 
<a name="l00359"></a>00359     <span class="comment">// write out details for each layer</span>
<a name="l00360"></a>00360     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = 1; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); l++)
<a name="l00361"></a>00361         <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;saveToCheckpointShared(dir, bytes))
<a name="l00362"></a>00362             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00363"></a>00363 
<a name="l00364"></a>00364     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00365"></a>00365 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1sequential__model_adb00301ca3ee08ce6882469382e8f54c_cgraph.png" border="0" usemap="#classlbann_1_1sequential__model_adb00301ca3ee08ce6882469382e8f54c_cgraph_map" alt=""></div>
<map name="classlbann_1_1sequential__model_adb00301ca3ee08ce6882469382e8f54c_cgraph_map" id="classlbann_1_1sequential__model_adb00301ca3ee08ce6882469382e8f54c_cgraph">
<area shape="rect" id="node3" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="387,5,507,35"/><area shape="rect" id="node5" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="388,59,505,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10e9245e9c58c4b3c3c365f0b65e92b8"></a><!-- doxytag: member="lbann::sequential_model::save_to_file" ref="a10e9245e9c58c4b3c3c365f0b65e92b8" args="(const std::string file_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::sequential_model::save_to_file </td>
          <td>(</td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>file_dir</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Save <a class="el" href="classlbann_1_1model.html">model</a> to file. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>This is old and likely broken </dd></dl>

</div>
</div>
<a class="anchor" id="aa7d372ff4bc1d1041eae423e837677c5"></a><!-- doxytag: member="lbann::sequential_model::set_layers" ref="aa7d372ff4bc1d1041eae423e837677c5" args="(vector&lt; Layer * &gt; &amp;layers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::sequential_model::set_layers </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="classlbann_1_1Layer.html">Layer</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>layers</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set layers. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00080">80</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 {<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a> = layers;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae08481ed20694da7bd096d091cb75c9"></a><!-- doxytag: member="lbann::sequential_model::setup" ref="aae08481ed20694da7bd096d091cb75c9" args="(size_t start_index=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::sequential_model::setup </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>start_index</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup sequential <a class="el" href="classlbann_1_1model.html">model</a>. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00517">517</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00518"></a>00518 {
<a name="l00519"></a>00519   <span class="comment">// Setup each layer</span>
<a name="l00520"></a>00520   <span class="keywordtype">int</span> prev_layer_dim, fp_index,bp_index;
<a name="l00521"></a>00521   <span class="keywordflow">if</span>(start_index &gt; 0) {
<a name="l00522"></a>00522     prev_layer_dim = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[start_index-1]-&gt;NumNeurons;
<a name="l00523"></a>00523     fp_index = start_index;
<a name="l00524"></a>00524     bp_index = start_index-1;
<a name="l00525"></a>00525   }<span class="keywordflow">else</span> {
<a name="l00526"></a>00526     prev_layer_dim = -1;
<a name="l00527"></a>00527     fp_index = 1;
<a name="l00528"></a>00528     bp_index = 0;
<a name="l00529"></a>00529   }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531   <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = start_index; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); ++l) {
<a name="l00532"></a>00532     <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1model.html#ae5a400e2f0a044c33383975298719cc2">comm</a>-&gt;am_model_master()) {
<a name="l00533"></a>00533       cout &lt;&lt; <span class="stringliteral">&quot;Setting up a layer with input &quot;</span> &lt;&lt; prev_layer_dim &lt;&lt; <span class="stringliteral">&quot; and index &quot;</span> &lt;&lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;Index &lt;&lt; endl;
<a name="l00534"></a>00534     }
<a name="l00535"></a>00535     <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;setup(prev_layer_dim);
<a name="l00536"></a>00536     prev_layer_dim = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;NumNeurons;
<a name="l00537"></a>00537   }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539   <span class="comment">// Establish the forward pass input pointers</span>
<a name="l00540"></a>00540   <span class="comment">// Note: the first layer doesn&apos;t require input</span>
<a name="l00541"></a>00541   <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> l = fp_index; l &lt; <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size(); ++l) {
<a name="l00542"></a>00542     <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1model.html#ae5a400e2f0a044c33383975298719cc2">comm</a>-&gt;am_model_master()) {
<a name="l00543"></a>00543       <span class="comment">//cout &lt;&lt; &quot;Setting up a fp input of layer &quot; &lt;&lt; l &lt;&lt; &quot;as layer &quot; &lt;&lt; l-1 &lt;&lt; endl;</span>
<a name="l00544"></a>00544     }
<a name="l00545"></a>00545     <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;setup_fp_input(<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l-1]-&gt;fp_output());
<a name="l00546"></a>00546   }
<a name="l00547"></a>00547 
<a name="l00548"></a>00548   <span class="comment">// Establish the backward pass input pointers</span>
<a name="l00549"></a>00549   <span class="comment">// Note: the last layer doens&apos;t require input</span>
<a name="l00550"></a>00550   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>.size()-2; l &gt;= bp_index; --l) {
<a name="l00551"></a>00551     <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1model.html#ae5a400e2f0a044c33383975298719cc2">comm</a>-&gt;am_model_master()) {
<a name="l00552"></a>00552       <span class="comment">//cout &lt;&lt; &quot;Setting up a bp input of layer &quot; &lt;&lt; l &lt;&lt; &quot;as layer &quot; &lt;&lt; l+1 &lt;&lt; endl;</span>
<a name="l00553"></a>00553     }
<a name="l00554"></a>00554     <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l]-&gt;setup_bp_input(<a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[l+1]-&gt;bp_output());
<a name="l00555"></a>00555   }
<a name="l00556"></a>00556 
<a name="l00557"></a>00557   <span class="comment">// Set up callbacks</span>
<a name="l00558"></a>00558   <a class="code" href="classlbann_1_1model.html#af61c38d8d5ce7dad5a74dcf459758dea">setup_callbacks</a>();
<a name="l00559"></a>00559 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1sequential__model_aae08481ed20694da7bd096d091cb75c9_cgraph.png" border="0" usemap="#classlbann_1_1sequential__model_aae08481ed20694da7bd096d091cb75c9_cgraph_map" alt=""></div>
<map name="classlbann_1_1sequential__model_aae08481ed20694da7bd096d091cb75c9_cgraph_map" id="classlbann_1_1sequential__model_aae08481ed20694da7bd096d091cb75c9_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1model.html#af61c38d8d5ce7dad5a74dcf459758dea" title="lbann::model::setup_callbacks" alt="" coords="257,5,455,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8aa4ddbd6efa79896749838e442b6168"></a><!-- doxytag: member="lbann::sequential_model::swap" ref="a8aa4ddbd6efa79896749838e442b6168" args="(int index, Layer *new_layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a> * lbann::sequential_model::swap </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1Layer.html">Layer</a> *&nbsp;</td>
          <td class="paramname"> <em>new_layer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Replace layer in sequential <a class="el" href="classlbann_1_1model.html">model</a>. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8cpp_source.html#l00483">483</a> of file <a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00483"></a>00483                                                                    {
<a name="l00484"></a>00484   Layer* tmp = <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[index];
<a name="l00485"></a>00485   <a class="code" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a" title="List of layers.">m_layers</a>[index] = new_layer;
<a name="l00486"></a>00486   <span class="keywordflow">return</span> tmp;
<a name="l00487"></a>00487 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afa3b9ca110b10aac19b7f1748f6c6291"></a><!-- doxytag: member="lbann::sequential_model::train" ref="afa3b9ca110b10aac19b7f1748f6c6291" args="(int num_epochs, int evaluation_frequency=0)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lbann::sequential_model::train </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_epochs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>evaluation_frequency</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Train <a class="el" href="classlbann_1_1model.html">model</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num_epochs</em>&nbsp;</td><td>Number of epochs to train </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>evaluation_frequency</em>&nbsp;</td><td>How often to evaluate <a class="el" href="classlbann_1_1model.html">model</a> on validation set. A value less than 1 will disable evaluation. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classlbann_1_1deep__neural__network.html#a34b3396b7645276c067ecdd118a5a00c">lbann::deep_neural_network</a>, and <a class="el" href="classlbann_1_1stacked__autoencoder.html#ab0be82f2e4cf447e2bbc13d498518f9b">lbann::stacked_autoencoder</a>.</p>

</div>
</div>
<a class="anchor" id="a8710ee13e79231e2d2eee6bfe0bbd1ac"></a><!-- doxytag: member="lbann::sequential_model::train_mini_batch" ref="a8710ee13e79231e2d2eee6bfe0bbd1ac" args="(long *num_samples, long *num_errors)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lbann::sequential_model::train_mini_batch </td>
          <td>(</td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>num_errors</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Training step on one mini-batch. </p>

<p>Implemented in <a class="el" href="classlbann_1_1deep__neural__network.html#a916507e6237f8e6cf9ada28800357124">lbann::deep_neural_network</a>, and <a class="el" href="classlbann_1_1stacked__autoencoder.html#a06ecea50f852b4e493b714b9e2bcdea4">lbann::stacked_autoencoder</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a539722d26abf5a9b6cd748da8e9fa930"></a><!-- doxytag: member="lbann::sequential_model::layer_fac" ref="a539722d26abf5a9b6cd748da8e9fa930" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1layer__factory.html">layer_factory</a>* <a class="el" href="classlbann_1_1sequential__model.html#a539722d26abf5a9b6cd748da8e9fa930">lbann::sequential_model::layer_fac</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classlbann_1_1Layer.html">Layer</a> factory. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00137">137</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a33d0763e07a97def5a6b9b57a6db4c9a"></a><!-- doxytag: member="lbann::sequential_model::m_layers" ref="a33d0763e07a97def5a6b9b57a6db4c9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classlbann_1_1Layer.html">Layer</a>*&gt; <a class="el" href="classlbann_1_1sequential__model.html#a33d0763e07a97def5a6b9b57a6db4c9a">lbann::sequential_model::m_layers</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of layers. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00135">135</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad4f27748b8cdf0da723f39b3aba9ef2d"></a><!-- doxytag: member="lbann::sequential_model::m_mini_batch_size" ref="ad4f27748b8cdf0da723f39b3aba9ef2d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classlbann_1_1sequential__model.html#ad4f27748b8cdf0da723f39b3aba9ef2d">lbann::sequential_model::m_mini_batch_size</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mini-batch size. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00133">133</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a592e67ddb0dc61bffcca628765effe7d"></a><!-- doxytag: member="lbann::sequential_model::optimizer_fac" ref="a592e67ddb0dc61bffcca628765effe7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1Optimizer__factory.html">Optimizer_factory</a>* <a class="el" href="classlbann_1_1sequential__model.html#a592e67ddb0dc61bffcca628765effe7d">lbann::sequential_model::optimizer_fac</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classlbann_1_1Optimizer.html">Optimizer</a> factory. </p>

<p>Definition at line <a class="el" href="lbann__model__sequential_8hpp_source.html#l00139">139</a> of file <a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/lbann/models/<a class="el" href="lbann__model__sequential_8hpp_source.html">lbann_model_sequential.hpp</a></li>
<li>src/models/<a class="el" href="lbann__model__sequential_8cpp_source.html">lbann_model_sequential.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 21 Sep 2016 for LBANN by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
