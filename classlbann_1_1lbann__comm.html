<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LBANN: lbann::lbann_comm Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">e5c62cf-ci235140355</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1lbann__comm.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classlbann_1_1lbann__comm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::lbann_comm Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f9eb5d1e219d3dcab9b14f790b30e26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a9f9eb5d1e219d3dcab9b14f790b30e26">lbann_comm</a> (int <a class="el" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a>=0)</td></tr>
<tr class="separator:a9f9eb5d1e219d3dcab9b14f790b30e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17b1093313c5e4223f9036798f9e12f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#af17b1093313c5e4223f9036798f9e12f">~lbann_comm</a> ()</td></tr>
<tr class="separator:af17b1093313c5e4223f9036798f9e12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c201108eb6b5a1e23021db29cef655b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">get_model_rank</a> () const </td></tr>
<tr class="separator:a6c201108eb6b5a1e23021db29cef655b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206bafe522a0962c450f4fc69d030656"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">get_rank_in_model</a> () const </td></tr>
<tr class="separator:a206bafe522a0962c450f4fc69d030656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615265cd20ffb4863089bb94e4c82fe7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7">get_rank_in_world</a> () const </td></tr>
<tr class="separator:a615265cd20ffb4863089bb94e4c82fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676b64be1b9429b85e8dac09728ba490"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a> (int <a class="el" href="classlbann_1_1model.html">model</a>, int rank) const </td></tr>
<tr class="separator:a676b64be1b9429b85e8dac09728ba490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61b35af881db9671f3d71ddbf1ced3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f">get_model_master</a> () const </td></tr>
<tr class="separator:ad61b35af881db9671f3d71ddbf1ced3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae7d094141d0da3bcacd542605f3e42d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aae7d094141d0da3bcacd542605f3e42d">get_intermodel_master</a> () const </td></tr>
<tr class="separator:aae7d094141d0da3bcacd542605f3e42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1bcd6a5e38ad3a7e86171435642bc9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ac1bcd6a5e38ad3a7e86171435642bc9f">get_world_master</a> () const </td></tr>
<tr class="separator:ac1bcd6a5e38ad3a7e86171435642bc9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a31f9df1860358ef0ef68d9e165cac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac">am_model_master</a> () const </td></tr>
<tr class="separator:a06a31f9df1860358ef0ef68d9e165cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb87fdc17095efd8e4dcb343357a6ba5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#adb87fdc17095efd8e4dcb343357a6ba5">am_world_master</a> () const </td></tr>
<tr class="separator:adb87fdc17095efd8e4dcb343357a6ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483bf8a72d44a0e83da45f3d47bd20d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a4c600bf682fbf8018385607476e4bd13">Grid</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a> ()</td></tr>
<tr class="separator:a483bf8a72d44a0e83da45f3d47bd20d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54842b679a3756cf79b43baf46caf637"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a> () const </td></tr>
<tr class="separator:a54842b679a3756cf79b43baf46caf637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67668baa49b8713f3c74816d1aeb175"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">get_procs_per_model</a> () const </td></tr>
<tr class="separator:ad67668baa49b8713f3c74816d1aeb175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845c62c2a55ef3eb4416deb3e8c5cd1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a845c62c2a55ef3eb4416deb3e8c5cd1a">get_procs_per_node</a> () const </td></tr>
<tr class="separator:a845c62c2a55ef3eb4416deb3e8c5cd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339bc17f07a2e40663df8b5d8cf80bf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a339bc17f07a2e40663df8b5d8cf80bf6">get_rank_in_node</a> () const </td></tr>
<tr class="separator:a339bc17f07a2e40663df8b5d8cf80bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da0bf384fde9968ba1aef88398cc66b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a7da0bf384fde9968ba1aef88398cc66b">is_model_rank_on_node</a> (int rank) const </td></tr>
<tr class="separator:a7da0bf384fde9968ba1aef88398cc66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b36ba64db34f33cb135bc64c4623e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a68b36ba64db34f33cb135bc64c4623e0">intermodel_sum_matrix</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat)</td></tr>
<tr class="separator:a68b36ba64db34f33cb135bc64c4623e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150071cd17a82b56ccdee2bfe0c64d1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a150071cd17a82b56ccdee2bfe0c64d1a">intermodel_sum_matrix</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat)</td></tr>
<tr class="separator:a150071cd17a82b56ccdee2bfe0c64d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4989229db1ee858c5a2170a989653d0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4989229db1ee858c5a2170a989653d0b">intermodel_broadcast_matrix</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int root)</td></tr>
<tr class="separator:a4989229db1ee858c5a2170a989653d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2bbd3b02fb675ed8e2ef7fcbb18f63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a6f2bbd3b02fb675ed8e2ef7fcbb18f63">intermodel_broadcast_matrix</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int root)</td></tr>
<tr class="separator:a6f2bbd3b02fb675ed8e2ef7fcbb18f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158db6a85549d314be56806dcb442432"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a158db6a85549d314be56806dcb442432"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a158db6a85549d314be56806dcb442432">intermodel_broadcast</a> (int root, T val={})</td></tr>
<tr class="separator:a158db6a85549d314be56806dcb442432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929f44a9a9563ae9e4ffe7d44235a195"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a929f44a9a9563ae9e4ffe7d44235a195"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a929f44a9a9563ae9e4ffe7d44235a195">model_broadcast</a> (int root, T val={})</td></tr>
<tr class="separator:a929f44a9a9563ae9e4ffe7d44235a195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e52b099a9c814e7e10c6ec528ae1354"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7e52b099a9c814e7e10c6ec528ae1354"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a7e52b099a9c814e7e10c6ec528ae1354">intermodel_gather</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int root)</td></tr>
<tr class="separator:a7e52b099a9c814e7e10c6ec528ae1354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358784ec5f60c08a5ee0b480c1bc1efc"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a358784ec5f60c08a5ee0b480c1bc1efc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a358784ec5f60c08a5ee0b480c1bc1efc">intermodel_gather</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, std::vector&lt; T &gt; &amp;<a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>)</td></tr>
<tr class="separator:a358784ec5f60c08a5ee0b480c1bc1efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343e23a30883ef1897addfb6a0f2766f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a343e23a30883ef1897addfb6a0f2766f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a343e23a30883ef1897addfb6a0f2766f">intermodel_gather</a> (T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int count, int root)</td></tr>
<tr class="separator:a343e23a30883ef1897addfb6a0f2766f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325eabc32fab410a7a1dd089e653d24c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a325eabc32fab410a7a1dd089e653d24c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a325eabc32fab410a7a1dd089e653d24c">intermodel_gather</a> (T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int count, T *<a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>)</td></tr>
<tr class="separator:a325eabc32fab410a7a1dd089e653d24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62f250859b2f74508d6165914a06b59"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ac62f250859b2f74508d6165914a06b59"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ac62f250859b2f74508d6165914a06b59">intermodel_reduce</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int root, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:ac62f250859b2f74508d6165914a06b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76d281092d39368ac157d36945f3602"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab76d281092d39368ac157d36945f3602"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ab76d281092d39368ac157d36945f3602">intermodel_reduce</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:ab76d281092d39368ac157d36945f3602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f1a49d07b57bb36de71171d4d59b49"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a01f1a49d07b57bb36de71171d4d59b49"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a01f1a49d07b57bb36de71171d4d59b49">intermodel_allreduce</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:a01f1a49d07b57bb36de71171d4d59b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188beae3d95179409ab446e2f36bce96"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a188beae3d95179409ab446e2f36bce96"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a188beae3d95179409ab446e2f36bce96">model_reduce</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int root, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:a188beae3d95179409ab446e2f36bce96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f02d1ed26949f61b0cc5a552a0909d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab2f02d1ed26949f61b0cc5a552a0909d"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ab2f02d1ed26949f61b0cc5a552a0909d">model_reduce</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:ab2f02d1ed26949f61b0cc5a552a0909d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac12deb9c3a0ba5580f8584d209baba6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aac12deb9c3a0ba5580f8584d209baba6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aac12deb9c3a0ba5580f8584d209baba6">model_reduce</a> (T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int count, int root, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:aac12deb9c3a0ba5580f8584d209baba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a814ac3a49f07cb8e939f9acb34ac2a1d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a814ac3a49f07cb8e939f9acb34ac2a1d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a814ac3a49f07cb8e939f9acb34ac2a1d">model_reduce</a> (T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int count, T *<a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:a814ac3a49f07cb8e939f9acb34ac2a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2bc3d526045ba1b5fedcd442b58a8f9"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab2bc3d526045ba1b5fedcd442b58a8f9"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ab2bc3d526045ba1b5fedcd442b58a8f9">model_allreduce</a> (T <a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:ab2bc3d526045ba1b5fedcd442b58a8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd37bdaa3498455235f98b5e10b5e21"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1fd37bdaa3498455235f98b5e10b5e21"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1fd37bdaa3498455235f98b5e10b5e21">model_allreduce</a> (T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int count, T *<a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, mpi::Op op=mpi::SUM)</td></tr>
<tr class="separator:a1fd37bdaa3498455235f98b5e10b5e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44faf6c010f45067e2951350e9e52d37"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a44faf6c010f45067e2951350e9e52d37"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a44faf6c010f45067e2951350e9e52d37">wait</a> (mpi::Request&lt; T &gt; &amp;req)</td></tr>
<tr class="separator:a44faf6c010f45067e2951350e9e52d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5834e95e066313d9328b22e4a0ec8663"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a5834e95e066313d9328b22e4a0ec8663">intermodel_barrier</a> ()</td></tr>
<tr class="separator:a5834e95e066313d9328b22e4a0ec8663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6086ced12c3eefeea6e2a78eff286983"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a6086ced12c3eefeea6e2a78eff286983">model_barrier</a> ()</td></tr>
<tr class="separator:a6086ced12c3eefeea6e2a78eff286983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12af95f4826571efa03fb8520260daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae12af95f4826571efa03fb8520260daa">global_barrier</a> ()</td></tr>
<tr class="separator:ae12af95f4826571efa03fb8520260daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a086078b881e7250df140ac116adb1939"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a086078b881e7250df140ac116adb1939"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a> (const T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:a086078b881e7250df140ac116adb1939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ddcc441fa1073aff23797c3c923ef6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a12ddcc441fa1073aff23797c3c923ef6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a12ddcc441fa1073aff23797c3c923ef6">send</a> (const T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:a12ddcc441fa1073aff23797c3c923ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe61fbe179f33f90d313497a1f146cbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#afe61fbe179f33f90d313497a1f146cbb">send</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:afe61fbe179f33f90d313497a1f146cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f36c9c66f8134d319df614ec599230"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a79f36c9c66f8134d319df614ec599230">send</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:a79f36c9c66f8134d319df614ec599230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91c0587ae25a9824e6323002f59c040"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa91c0587ae25a9824e6323002f59c040">send</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:aa91c0587ae25a9824e6323002f59c040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8cff639b94813cb79963e2ce3d49da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1f8cff639b94813cb79963e2ce3d49da">send</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:a1f8cff639b94813cb79963e2ce3d49da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae891816f1eedb749136bd87418e29233"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae891816f1eedb749136bd87418e29233"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">nb_send</a> (const T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank, mpi::Request&lt; T &gt; &amp;req)</td></tr>
<tr class="separator:ae891816f1eedb749136bd87418e29233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1a6ec055df9d5ce339f2d5a19eae90"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1b1a6ec055df9d5ce339f2d5a19eae90"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1b1a6ec055df9d5ce339f2d5a19eae90">nb_send</a> (const T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>, mpi::Request&lt; T &gt; &amp;req)</td></tr>
<tr class="separator:a1b1a6ec055df9d5ce339f2d5a19eae90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a54887476e4250540389370bf9928d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4a54887476e4250540389370bf9928d7">nb_send</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:a4a54887476e4250540389370bf9928d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a100dc6a9220625f531f87d8a8e8bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4a100dc6a9220625f531f87d8a8e8bed">nb_send</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:a4a100dc6a9220625f531f87d8a8e8bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e920f0167eaf66a30b19706dec3ee1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae2e920f0167eaf66a30b19706dec3ee1">nb_send</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:ae2e920f0167eaf66a30b19706dec3ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffd8fc57e7ac7d44829370921b807aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a3ffd8fc57e7ac7d44829370921b807aa">nb_send</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:a3ffd8fc57e7ac7d44829370921b807aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8842cd4cea390f76d9146e1c4578de4"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af8842cd4cea390f76d9146e1c4578de4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a> (T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:af8842cd4cea390f76d9146e1c4578de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2f06772bdee76b4d736c1d7ab84329"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7f2f06772bdee76b4d736c1d7ab84329"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a7f2f06772bdee76b4d736c1d7ab84329">recv</a> (T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:a7f2f06772bdee76b4d736c1d7ab84329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ed8dd7b6f839b69bfb33f88728b18d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ac1ed8dd7b6f839b69bfb33f88728b18d">recv</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:ac1ed8dd7b6f839b69bfb33f88728b18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1376b4f3c0941e19ff23a8baf30eb63d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1376b4f3c0941e19ff23a8baf30eb63d">recv</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:a1376b4f3c0941e19ff23a8baf30eb63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b1ecfe900346c0996fb8066e4f76fe2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a6b1ecfe900346c0996fb8066e4f76fe2">recv</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:a6b1ecfe900346c0996fb8066e4f76fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018f0451e2a984d28b6a1f099cf9d421"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a018f0451e2a984d28b6a1f099cf9d421">recv</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:a018f0451e2a984d28b6a1f099cf9d421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96fe808a236d41ecd05c0cc2461dba0"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab96fe808a236d41ecd05c0cc2461dba0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ab96fe808a236d41ecd05c0cc2461dba0">recv</a> (T *data, int count)</td></tr>
<tr class="separator:ab96fe808a236d41ecd05c0cc2461dba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d0cca55711c9c9913f3d940c5bba4eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a3d0cca55711c9c9913f3d940c5bba4eb">recv</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat)</td></tr>
<tr class="separator:a3d0cca55711c9c9913f3d940c5bba4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc92b86b30287689870e018b062076f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#acc92b86b30287689870e018b062076f8">recv</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat)</td></tr>
<tr class="separator:acc92b86b30287689870e018b062076f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae39f9ea155914634015a83ab615735bf"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae39f9ea155914634015a83ab615735bf"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a> (T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank, mpi::Request&lt; T &gt; &amp;req)</td></tr>
<tr class="separator:ae39f9ea155914634015a83ab615735bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f98c30131a7035b9a22b030fb63ce03"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1f98c30131a7035b9a22b030fb63ce03"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1f98c30131a7035b9a22b030fb63ce03">nb_recv</a> (T *data, int count, int <a class="el" href="classlbann_1_1model.html">model</a>, mpi::Request&lt; T &gt; &amp;req)</td></tr>
<tr class="separator:a1f98c30131a7035b9a22b030fb63ce03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b87af429543ea047082fd41f1d5b6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae0b87af429543ea047082fd41f1d5b6f">nb_recv</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:ae0b87af429543ea047082fd41f1d5b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a34892cb572638f93857109e133e7d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a0a34892cb572638f93857109e133e7d1">nb_recv</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, int rank, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:a0a34892cb572638f93857109e133e7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8add27f064418b73579121b767530e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae8add27f064418b73579121b767530e9">nb_recv</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:ae8add27f064418b73579121b767530e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf84e37f94c1fd5d07ac4b7349523c24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aaf84e37f94c1fd5d07ac4b7349523c24">nb_recv</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, int <a class="el" href="classlbann_1_1model.html">model</a>, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:aaf84e37f94c1fd5d07ac4b7349523c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d1bab68a74afb29295e08f20146e15"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a78d1bab68a74afb29295e08f20146e15"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a78d1bab68a74afb29295e08f20146e15">nb_recv</a> (T *data, int count, mpi::Request&lt; T &gt; &amp;req)</td></tr>
<tr class="separator:a78d1bab68a74afb29295e08f20146e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87f14240312fa84c757fdf08e3c9298"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa87f14240312fa84c757fdf08e3c9298">nb_recv</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:aa87f14240312fa84c757fdf08e3c9298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf4c659265fa5e2c1a979c54a030ec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1bf4c659265fa5e2c1a979c54a030ec6">nb_recv</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;req)</td></tr>
<tr class="separator:a1bf4c659265fa5e2c1a979c54a030ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178261e3ecb101cf9add514845235eb3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a178261e3ecb101cf9add514845235eb3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a178261e3ecb101cf9add514845235eb3">sendrecv</a> (const T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int send_count, int send_model, int send_rank, T *<a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, int recv_count, int recv_model, int recv_rank)</td></tr>
<tr class="separator:a178261e3ecb101cf9add514845235eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f85e0c03f0f4f48a0ae466882bc4f3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af2f85e0c03f0f4f48a0ae466882bc4f3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#af2f85e0c03f0f4f48a0ae466882bc4f3">sendrecv</a> (const T *<a class="el" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, int send_count, int send_model, T *<a class="el" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, int recv_count, int recv_model)</td></tr>
<tr class="separator:af2f85e0c03f0f4f48a0ae466882bc4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1db618eb587ead21fb0420bf94bfd45"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aa1db618eb587ead21fb0420bf94bfd45"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa1db618eb587ead21fb0420bf94bfd45">get_count</a> (int <a class="el" href="classlbann_1_1model.html">model</a>, int rank)</td></tr>
<tr class="separator:aa1db618eb587ead21fb0420bf94bfd45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54544a1b1a691fa7b6314da5682f184c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a54544a1b1a691fa7b6314da5682f184c"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a54544a1b1a691fa7b6314da5682f184c">get_count</a> (int <a class="el" href="classlbann_1_1model.html">model</a>)</td></tr>
<tr class="separator:a54544a1b1a691fa7b6314da5682f184c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7f19e96c92f2e6a98ad2cb0daaa0d1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6b7f19e96c92f2e6a98ad2cb0daaa0d1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a6b7f19e96c92f2e6a98ad2cb0daaa0d1">broadcast</a> (T *data, int count, std::vector&lt; int &gt; &amp;dests, int root)</td></tr>
<tr class="separator:a6b7f19e96c92f2e6a98ad2cb0daaa0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf976a743a4d0718681c45340a975d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1cf976a743a4d0718681c45340a975d4">broadcast</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, std::vector&lt; int &gt; &amp;dests, int root)</td></tr>
<tr class="separator:a1cf976a743a4d0718681c45340a975d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec7f646ba99e1f23af5f756cd2d730b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a9ec7f646ba99e1f23af5f756cd2d730b">broadcast</a> (<a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;mat, std::vector&lt; int &gt; &amp;dests, int root)</td></tr>
<tr class="separator:a9ec7f646ba99e1f23af5f756cd2d730b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ece549c49a0569ac8fd9b56632fdd2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ad2ece549c49a0569ac8fd9b56632fdd2">get_num_model_barriers</a> () const </td></tr>
<tr class="separator:ad2ece549c49a0569ac8fd9b56632fdd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c5b4574e98f5718ab9bff9a9c3c2bb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a16c5b4574e98f5718ab9bff9a9c3c2bb">get_num_intermodel_barriers</a> () const </td></tr>
<tr class="separator:a16c5b4574e98f5718ab9bff9a9c3c2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4180e1e69474af10d5fb672404f3d845"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4180e1e69474af10d5fb672404f3d845">get_num_global_barriers</a> () const </td></tr>
<tr class="separator:a4180e1e69474af10d5fb672404f3d845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8644cbef030e9e6e66e50753ef76a884"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a8644cbef030e9e6e66e50753ef76a884">get_bytes_sent</a> () const </td></tr>
<tr class="separator:a8644cbef030e9e6e66e50753ef76a884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b89b6f22a0566ec9ece14bde5ee6a66"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a9b89b6f22a0566ec9ece14bde5ee6a66">get_bytes_received</a> () const </td></tr>
<tr class="separator:a9b89b6f22a0566ec9ece14bde5ee6a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae942d4e4d595f39a4bebafd6a9e3f67a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae942d4e4d595f39a4bebafd6a9e3f67a">get_ar_bytes_sent</a> () const </td></tr>
<tr class="separator:ae942d4e4d595f39a4bebafd6a9e3f67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0670e5aef9ad15351e6108558d09d1a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae0670e5aef9ad15351e6108558d09d1a">get_ar_bytes_received</a> () const </td></tr>
<tr class="separator:ae0670e5aef9ad15351e6108558d09d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa196b30f6f66cfe9f0712ab0bc8b3161"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa196b30f6f66cfe9f0712ab0bc8b3161">get_ar_rs_bytes_sent</a> () const </td></tr>
<tr class="separator:aa196b30f6f66cfe9f0712ab0bc8b3161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c40abbda1a6650ff77c3fbd8ba4e4d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a88c40abbda1a6650ff77c3fbd8ba4e4d">get_ar_rs_bytes_received</a> () const </td></tr>
<tr class="separator:a88c40abbda1a6650ff77c3fbd8ba4e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f7af6d0d083177f51d5f03517aad05"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#af6f7af6d0d083177f51d5f03517aad05">get_ar_ag_bytes_sent</a> () const </td></tr>
<tr class="separator:af6f7af6d0d083177f51d5f03517aad05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d010621e7b0c2ecb0bdc42f6ecdafd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a08d010621e7b0c2ecb0bdc42f6ecdafd">get_ar_ag_bytes_received</a> () const </td></tr>
<tr class="separator:a08d010621e7b0c2ecb0bdc42f6ecdafd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9792a36b37a858aea566d87885b5ab57"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a9792a36b37a858aea566d87885b5ab57">get_ar_time</a> () const </td></tr>
<tr class="separator:a9792a36b37a858aea566d87885b5ab57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab184bc98a171bd457cadd9d27ff2855a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ab184bc98a171bd457cadd9d27ff2855a">get_ar_rs_time</a> () const </td></tr>
<tr class="separator:ab184bc98a171bd457cadd9d27ff2855a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78bcb4afb5661548b473eaaf6bfaec0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae78bcb4afb5661548b473eaaf6bfaec0">get_ar_ag_time</a> () const </td></tr>
<tr class="separator:ae78bcb4afb5661548b473eaaf6bfaec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348fc1f345227b1b9ed1d5d6970142f7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a348fc1f345227b1b9ed1d5d6970142f7">get_ar_send_transform_time</a> () const </td></tr>
<tr class="separator:a348fc1f345227b1b9ed1d5d6970142f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b968159325ab0118982c2abe295c89d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a8b968159325ab0118982c2abe295c89d">get_ar_recv_transform_time</a> () const </td></tr>
<tr class="separator:a8b968159325ab0118982c2abe295c89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc23417b6f0f7da72dd7f91b89286dce"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#adc23417b6f0f7da72dd7f91b89286dce">get_ar_recv_apply_transform_time</a> () const </td></tr>
<tr class="separator:adc23417b6f0f7da72dd7f91b89286dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5ec2f049935dede8c13216461eeb1d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aba5ec2f049935dede8c13216461eeb1d">get_ar_send_time</a> () const </td></tr>
<tr class="separator:aba5ec2f049935dede8c13216461eeb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459f2889d5b59c7f75a908b1741065d9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a459f2889d5b59c7f75a908b1741065d9">get_ar_recv_time</a> () const </td></tr>
<tr class="separator:a459f2889d5b59c7f75a908b1741065d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f367960aeed86d2f68210b82810e8d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a10f367960aeed86d2f68210b82810e8d">get_ar_rs_send_time</a> () const </td></tr>
<tr class="separator:a10f367960aeed86d2f68210b82810e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c28e114ad88ca085ef3af6fa92c874a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a9c28e114ad88ca085ef3af6fa92c874a">get_ar_rs_recv_time</a> () const </td></tr>
<tr class="separator:a9c28e114ad88ca085ef3af6fa92c874a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c37177a9a38fd9323efda73491ae62"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a02c37177a9a38fd9323efda73491ae62">get_ar_ag_send_time</a> () const </td></tr>
<tr class="separator:a02c37177a9a38fd9323efda73491ae62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be74c78659ce20ae84932cf81e588f2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1be74c78659ce20ae84932cf81e588f2">get_ar_ag_recv_time</a> () const </td></tr>
<tr class="separator:a1be74c78659ce20ae84932cf81e588f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9afab1b8af03276e6e6347f8021ef5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#adb9afab1b8af03276e6e6347f8021ef5">reset_stats_counters</a> ()</td></tr>
<tr class="separator:adb9afab1b8af03276e6e6347f8021ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0295e685523eb7b15f73f0d1950da397"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a0295e685523eb7b15f73f0d1950da397">intermodel_allreduce</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int max_recv_count, std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_apply_transform, bool id_recv=<a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a>)</td></tr>
<tr class="separator:a0295e685523eb7b15f73f0d1950da397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc19e4d1440f6c2c94405d04f85e8fe0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#abc19e4d1440f6c2c94405d04f85e8fe0">recursive_doubling_allreduce_pow2</a> (mpi::Comm <a class="el" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int max_recv_count, std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_apply_transform, bool id_recv=<a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a>)</td></tr>
<tr class="separator:abc19e4d1440f6c2c94405d04f85e8fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1cc14ad0e6e3eeb863c25854574ec6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ad1cc14ad0e6e3eeb863c25854574ec6f">pe_ring_allreduce</a> (mpi::Comm <a class="el" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int max_recv_count, std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_apply_transform, bool id_recv=<a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a>)</td></tr>
<tr class="separator:ad1cc14ad0e6e3eeb863c25854574ec6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54baea7cbe3cb6fcfcfd6498e2d28780"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a54baea7cbe3cb6fcfcfd6498e2d28780">ring_allreduce</a> (mpi::Comm <a class="el" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int max_recv_count, std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_apply_transform, bool id_recv=<a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a>)</td></tr>
<tr class="separator:a54baea7cbe3cb6fcfcfd6498e2d28780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5761d6fd48871b5e6074962fa503db1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#af5761d6fd48871b5e6074962fa503db1">rabenseifner_allreduce</a> (mpi::Comm <a class="el" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat, int max_recv_count, std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_transform, std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt; recv_apply_transform, bool id_recv=<a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a>)</td></tr>
<tr class="separator:af5761d6fd48871b5e6074962fa503db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac29bae36ff22e846dcc984eb2ea8a4d"><td class="memItemLeft" align="right" valign="top">mpi::Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aac29bae36ff22e846dcc984eb2ea8a4d">get_intermodel_comm</a> () const </td></tr>
<tr class="separator:aac29bae36ff22e846dcc984eb2ea8a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4ba1b9a6b4eb986a348d85c2d80ca3eb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4ba1b9a6b4eb986a348d85c2d80ca3eb">is_sendable</a> (const <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;mat)</td></tr>
<tr class="separator:a4ba1b9a6b4eb986a348d85c2d80ca3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96bcc0bc8910272f4553cf0439a6e2f9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a96bcc0bc8910272f4553cf0439a6e2f9">is_sendable</a> (const <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;dist_mat)</td></tr>
<tr class="separator:a96bcc0bc8910272f4553cf0439a6e2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a07a25a3b0c46f15354fe6a69bcd292cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a07a25a3b0c46f15354fe6a69bcd292cb">create_group</a> (std::vector&lt; int &gt; &amp;ranks, mpi::Group &amp;g)</td></tr>
<tr class="separator:a07a25a3b0c46f15354fe6a69bcd292cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bc6b8683f04c2a3fc2f01fc734a946"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a44bc6b8683f04c2a3fc2f01fc734a946">setup_node_comm</a> ()</td></tr>
<tr class="separator:a44bc6b8683f04c2a3fc2f01fc734a946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae925ac5eaf2895717c709b252961b3bf"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a> (size_t size, size_t idx=0)</td></tr>
<tr class="separator:ae925ac5eaf2895717c709b252961b3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3a9eff49cac3746acd169889fda79893"><td class="memItemLeft" align="right" valign="top">mpi::Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a></td></tr>
<tr class="separator:a3a9eff49cac3746acd169889fda79893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4797dcdf39d18c4c8335dc012186a8b1"><td class="memItemLeft" align="right" valign="top">mpi::Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a></td></tr>
<tr class="separator:a4797dcdf39d18c4c8335dc012186a8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1f65663ca1d441f98f003b612eeb8c"><td class="memItemLeft" align="right" valign="top">mpi::Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a></td></tr>
<tr class="separator:a9f1f65663ca1d441f98f003b612eeb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fb31be115db3225b145f250a7778d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a4c600bf682fbf8018385607476e4bd13">Grid</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">grid</a></td></tr>
<tr class="separator:a29fb31be115db3225b145f250a7778d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256ff5a0bafb33f43784ffc8dd2d29cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a256ff5a0bafb33f43784ffc8dd2d29cf">num_models</a></td></tr>
<tr class="separator:a256ff5a0bafb33f43784ffc8dd2d29cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb55d127259d7ed9f07ccde6f4ebd8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a></td></tr>
<tr class="separator:a7cb55d127259d7ed9f07ccde6f4ebd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3f90a996dbba4cd1cca60596933ea3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">model_rank</a></td></tr>
<tr class="separator:a1f3f90a996dbba4cd1cca60596933ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcccd57c2b591eb7682e192e0a09033"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a></td></tr>
<tr class="separator:a0dcccd57c2b591eb7682e192e0a09033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffc59f0c1d97df2ca6845312c8c8b3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a2ffc59f0c1d97df2ca6845312c8c8b3e">procs_per_node</a></td></tr>
<tr class="separator:a2ffc59f0c1d97df2ca6845312c8c8b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5c8b008b5cac11702bf1f991c78ab0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#abb5c8b008b5cac11702bf1f991c78ab0">rank_in_node</a></td></tr>
<tr class="separator:abb5c8b008b5cac11702bf1f991c78ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2289ce67222485f0df95ce75af4a9a50"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">model_ranks_on_node</a></td></tr>
<tr class="separator:a2289ce67222485f0df95ce75af4a9a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fa8f1cc5a6a57cc0640cd81ce7f3ec"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; size_t, <br class="typebreak"/>
std::vector&lt; uint8_t * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a></td></tr>
<tr class="separator:a79fa8f1cc5a6a57cc0640cd81ce7f3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f15459eca2a06174a877ba0c23feb7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">num_model_barriers</a></td></tr>
<tr class="separator:aa4f15459eca2a06174a877ba0c23feb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d946ef5ea5d3b15351e78a2eed10fe"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">num_intermodel_barriers</a></td></tr>
<tr class="separator:a03d946ef5ea5d3b15351e78a2eed10fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f01e2f2d8220dc34cf39eb4a255cd7d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">num_global_barriers</a></td></tr>
<tr class="separator:a4f01e2f2d8220dc34cf39eb4a255cd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f146ae7337ece6266fd307944928e0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a></td></tr>
<tr class="separator:ad1f146ae7337ece6266fd307944928e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb99f57f7eafc0695bf28e6c26a8120f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a></td></tr>
<tr class="separator:afb99f57f7eafc0695bf28e6c26a8120f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa520c16eafde742b70daf60866afc6a8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a></td></tr>
<tr class="separator:aa520c16eafde742b70daf60866afc6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f3c53358bf9002b9fab41918b0c8c1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a></td></tr>
<tr class="separator:aa5f3c53358bf9002b9fab41918b0c8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74bcfb565c1bb6604f336c6d1b647cc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">ar_rs_bytes_sent</a></td></tr>
<tr class="separator:ac74bcfb565c1bb6604f336c6d1b647cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3e1db0f6d2345748132322b0555db7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">ar_rs_bytes_received</a></td></tr>
<tr class="separator:a2c3e1db0f6d2345748132322b0555db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cfe1264a83865360692c48d7869fe67"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a></td></tr>
<tr class="separator:a2cfe1264a83865360692c48d7869fe67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afded6f478dc5021d1edec306dc6c528c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a></td></tr>
<tr class="separator:afded6f478dc5021d1edec306dc6c528c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57d2fbeef85fd8a3c9f2a37ca7687c8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a></td></tr>
<tr class="separator:aa57d2fbeef85fd8a3c9f2a37ca7687c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85022d803e339eb14a15129a07876c2b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">ar_rs_time</a></td></tr>
<tr class="separator:a85022d803e339eb14a15129a07876c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48768342eb05c1c6cdaa52c3599b93c8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">ar_ag_time</a></td></tr>
<tr class="separator:a48768342eb05c1c6cdaa52c3599b93c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e3d35520a8f567579f9235e9808ba1c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a></td></tr>
<tr class="separator:a4e3d35520a8f567579f9235e9808ba1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb393f47d60eaa59bace80d2d3dd3bf2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a></td></tr>
<tr class="separator:adb393f47d60eaa59bace80d2d3dd3bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa642b0ae2321fa464b0092da527f6375"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a></td></tr>
<tr class="separator:aa642b0ae2321fa464b0092da527f6375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a664f47efb52d9936b72d34059d1ef"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a></td></tr>
<tr class="separator:a60a664f47efb52d9936b72d34059d1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9323938961c3524dc67f4b7b47e3ae"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a></td></tr>
<tr class="separator:a4c9323938961c3524dc67f4b7b47e3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaadab22d368e8004a9877828a3bc9e93"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">ar_rs_send_time</a></td></tr>
<tr class="separator:aaadab22d368e8004a9877828a3bc9e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefa0ee8b0a6b74072448e20d40f502d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">ar_rs_recv_time</a></td></tr>
<tr class="separator:adefa0ee8b0a6b74072448e20d40f502d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64cb0b86e9368c1d83370ba6cb0083ba"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a></td></tr>
<tr class="separator:a64cb0b86e9368c1d83370ba6cb0083ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1896c3ecd1d5b084497c6ed47c1c9bae"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a></td></tr>
<tr class="separator:a1896c3ecd1d5b084497c6ed47c1c9bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a5650eece94f78b913f47aa2274853366"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__comm.html#a5650eece94f78b913f47aa2274853366">PT2PT_TAG</a> = 42</td></tr>
<tr class="separator:a5650eece94f78b913f47aa2274853366"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manage communication. This supports separate models, each of which are split over potentially several processes. Every model is split over the same number of processes. The corresponding processes between models are on the "inter-model
communicator". You can also do point-to-point or broadcast communication to arbitrary sets of processes. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00049">49</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9f9eb5d1e219d3dcab9b14f790b30e26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::lbann_comm::lbann_comm </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>procs_per_model</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Init communicators for models each with procs_per_model processes, defaulting to every process in one model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00055">55</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                :</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a>(_procs_per_model), <a class="code" href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">num_model_barriers</a>(0),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">num_intermodel_barriers</a>(0), <a class="code" href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">num_global_barriers</a>(0), <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a>(0),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a>(0) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// Initialize parameters</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordtype">int</span> world_size = mpi::Size(mpi::COMM_WORLD);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> == 0) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> = world_size;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a256ff5a0bafb33f43784ffc8dd2d29cf">num_models</a> = world_size / <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">model_rank</a> = mpi::Rank(mpi::COMM_WORLD) / <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a> = mpi::Rank(mpi::COMM_WORLD) % <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// Check if parameters are valid</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> &gt; world_size) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    stringstream err;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    err &lt;&lt; __FILE__ &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; :: Not enough processes to create one model; procs_per_model: &quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        &lt;&lt; <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> &lt;&lt; <span class="stringliteral">&quot; is larger than world_size: &quot;</span> &lt;&lt; world_size;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(err.str());</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (world_size % <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> != 0) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    stringstream err;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    err &lt;&lt; __FILE__ &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __LINE__ </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; :: Procs per model does not divide total number of procs; procs_per_model: &quot;</span> </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        &lt;&lt; <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> &lt;&lt; <span class="stringliteral">&quot; total number of procs (world size): &quot;</span> &lt;&lt; world_size;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(err.str());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// Initialize model and intermodel communicators</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  mpi::Split(mpi::COMM_WORLD, <a class="code" href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">model_rank</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  mpi::Split(mpi::COMM_WORLD, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">model_rank</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// Initialize Elemental grid</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">grid</a> = <span class="keyword">new</span> <a class="code" href="lbann__base_8hpp.html#a4c600bf682fbf8018385607476e4bd13">Grid</a>(<a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Initialize node communicators</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a44bc6b8683f04c2a3fc2f01fc734a946">setup_node_comm</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a2ffc59f0c1d97df2ca6845312c8c8b3e">procs_per_node</a> = mpi::Size(<a class="code" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#abb5c8b008b5cac11702bf1f991c78ab0">rank_in_node</a> = mpi::Rank(<a class="code" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a256ff5a0bafb33f43784ffc8dd2d29cf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a256ff5a0bafb33f43784ffc8dd2d29cf">lbann::lbann_comm::num_models</a></div><div class="ttdeci">int num_models</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00554">lbann_comm.hpp:554</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a7cb55d127259d7ed9f07ccde6f4ebd8c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">lbann::lbann_comm::procs_per_model</a></div><div class="ttdeci">int procs_per_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00556">lbann_comm.hpp:556</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a4c600bf682fbf8018385607476e4bd13"><div class="ttname"><a href="lbann__base_8hpp.html#a4c600bf682fbf8018385607476e4bd13">Grid</a></div><div class="ttdeci">El::Grid Grid</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00041">lbann_base.hpp:41</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4f01e2f2d8220dc34cf39eb4a255cd7d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">lbann::lbann_comm::num_global_barriers</a></div><div class="ttdeci">size_t num_global_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00573">lbann_comm.hpp:573</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2ffc59f0c1d97df2ca6845312c8c8b3e"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2ffc59f0c1d97df2ca6845312c8c8b3e">lbann::lbann_comm::procs_per_node</a></div><div class="ttdeci">int procs_per_node</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00562">lbann_comm.hpp:562</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a29fb31be115db3225b145f250a7778d9"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">lbann::lbann_comm::grid</a></div><div class="ttdeci">Grid * grid</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00552">lbann_comm.hpp:552</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a44bc6b8683f04c2a3fc2f01fc734a946"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a44bc6b8683f04c2a3fc2f01fc734a946">lbann::lbann_comm::setup_node_comm</a></div><div class="ttdeci">void setup_node_comm()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00759">lbann_comm.cpp:759</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa4f15459eca2a06174a877ba0c23feb7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">lbann::lbann_comm::num_model_barriers</a></div><div class="ttdeci">size_t num_model_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00571">lbann_comm.hpp:571</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1f3f90a996dbba4cd1cca60596933ea3"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">lbann::lbann_comm::model_rank</a></div><div class="ttdeci">int model_rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00558">lbann_comm.hpp:558</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a03d946ef5ea5d3b15351e78a2eed10fe"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">lbann::lbann_comm::num_intermodel_barriers</a></div><div class="ttdeci">size_t num_intermodel_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00572">lbann_comm.hpp:572</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_abb5c8b008b5cac11702bf1f991c78ab0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#abb5c8b008b5cac11702bf1f991c78ab0">lbann::lbann_comm::rank_in_node</a></div><div class="ttdeci">int rank_in_node</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00564">lbann_comm.hpp:564</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a9f1f65663ca1d441f98f003b612eeb8c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">lbann::lbann_comm::node_comm</a></div><div class="ttdeci">mpi::Comm node_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00550">lbann_comm.hpp:550</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a9f9eb5d1e219d3dcab9b14f790b30e26_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a9f9eb5d1e219d3dcab9b14f790b30e26_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a9f9eb5d1e219d3dcab9b14f790b30e26_cgraph" id="classlbann_1_1lbann__comm_a9f9eb5d1e219d3dcab9b14f790b30e26_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__comm.html#a44bc6b8683f04c2a3fc2f01fc734a946" title="lbann::lbann_comm::\lsetup_node_comm" alt="" coords="198,5,341,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af17b1093313c5e4223f9036798f9e12f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::lbann_comm::~lbann_comm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00099">99</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                             {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">grid</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  mpi::Free(<a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  mpi::Free(<a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  mpi::Free(<a class="code" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; buf_vec : <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; buf : buf_vec.second) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keyword">delete</span>[] buf;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a29fb31be115db3225b145f250a7778d9"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">lbann::lbann_comm::grid</a></div><div class="ttdeci">Grid * grid</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00552">lbann_comm.hpp:552</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a79fa8f1cc5a6a57cc0640cd81ce7f3ec"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">lbann::lbann_comm::collective_bufs</a></div><div class="ttdeci">std::unordered_map&lt; size_t, std::vector&lt; uint8_t * &gt; &gt; collective_bufs</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00568">lbann_comm.hpp:568</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a9f1f65663ca1d441f98f003b612eeb8c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">lbann::lbann_comm::node_comm</a></div><div class="ttdeci">mpi::Comm node_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00550">lbann_comm.hpp:550</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a06a31f9df1860358ef0ef68d9e165cac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_comm::am_model_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if this process is the master process in its model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00076">76</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                        {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">get_rank_in_model</a>() == <a class="code" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f">get_model_master</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a206bafe522a0962c450f4fc69d030656"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">lbann::lbann_comm::get_rank_in_model</a></div><div class="ttdeci">int get_rank_in_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00062">lbann_comm.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad61b35af881db9671f3d71ddbf1ced3f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f">lbann::lbann_comm::get_model_master</a></div><div class="ttdeci">int get_model_master() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00070">lbann_comm.hpp:70</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a06a31f9df1860358ef0ef68d9e165cac_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a06a31f9df1860358ef0ef68d9e165cac_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a06a31f9df1860358ef0ef68d9e165cac_icgraph" id="classlbann_1_1lbann__comm_a06a31f9df1860358ef0ef68d9e165cac_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__early__stopping.html#ab1e8e8674750ff71cc9bcb4ac7102eaa" title="lbann::lbann_callback\l_early_stopping::on_validation_end" alt="" coords="198,5,423,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__learning__rate.html#ab4ef80742344cca2ea63489498942b0f" title="lbann::lbann_callback\l_learning_rate::on_epoch_end" alt="" coords="213,70,408,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__print.html#a8476b787abe4b035570b2ccc577a5062" title="lbann::lbann_callback\l_print::on_epoch_end" alt="" coords="237,135,384,177"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__print.html#a16c68b70cb9a24d8268a055d96c7bdad" title="lbann::lbann_callback\l_print::on_test_end" alt="" coords="237,201,384,242"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__timer.html#ac37653fa834c01c98ebb05cd03e08e3b" title="lbann::lbann_callback\l_timer::on_epoch_end" alt="" coords="235,266,386,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb87fdc17095efd8e4dcb343357a6ba5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_comm::am_world_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if this process is the world master process. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00080">80</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                        {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7">get_rank_in_world</a>() == <a class="code" href="classlbann_1_1lbann__comm.html#ac1bcd6a5e38ad3a7e86171435642bc9f">get_world_master</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a615265cd20ffb4863089bb94e4c82fe7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7">lbann::lbann_comm::get_rank_in_world</a></div><div class="ttdeci">int get_rank_in_world() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00064">lbann_comm.hpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ac1bcd6a5e38ad3a7e86171435642bc9f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ac1bcd6a5e38ad3a7e86171435642bc9f">lbann::lbann_comm::get_world_master</a></div><div class="ttdeci">int get_world_master() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00074">lbann_comm.hpp:74</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_adb87fdc17095efd8e4dcb343357a6ba5_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_adb87fdc17095efd8e4dcb343357a6ba5_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_adb87fdc17095efd8e4dcb343357a6ba5_icgraph" id="classlbann_1_1lbann__comm_adb87fdc17095efd8e4dcb343357a6ba5_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__print.html#a20f47078a52afa81039c68d12fe29dc1" title="lbann::lbann_callback\l_print::setup" alt="" coords="216,5,363,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__print.html#ac0425adca2bb81a02cd1f3d67cadbae0" title="lbann::lbann_callback\l_print::on_epoch_begin" alt="" coords="211,70,367,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__print.html#a8476b787abe4b035570b2ccc577a5062" title="lbann::lbann_callback\l_print::on_epoch_end" alt="" coords="216,135,363,177"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__print.html#a16c68b70cb9a24d8268a055d96c7bdad" title="lbann::lbann_callback\l_print::on_test_end" alt="" coords="216,201,363,242"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__save__images.html#a82367af43521153dd4449ac028bb8393" title="lbann::lbann_callback\l_save_images::save_image" alt="" coords="197,266,381,307"/><area shape="rect" id="node8" href="classlbann_1_1lbann__callback__timer.html#ac37653fa834c01c98ebb05cd03e08e3b" title="lbann::lbann_callback\l_timer::on_epoch_end" alt="" coords="214,331,365,373"/><area shape="rect" id="node9" href="classlbann_1_1DataReader.html#a6ca8592b2271ceaac8cb1e29dbecbb82" title="lbann::DataReader::\lcalculate_multi_model\l_data_distribution" alt="" coords="214,396,365,452"/><area shape="rect" id="node10" href="lbann__proto__common_8hpp.html#ab6478b69ca9d23685a050a929809aae9" title="init_callbacks" alt="" coords="239,476,340,503"/><area shape="rect" id="node7" href="classlbann_1_1lbann__callback__save__images.html#a53218aeb5da183b483311b1c37cf3e1a" title="lbann::lbann_callback\l_save_images::on_phase_end" alt="" coords="430,266,629,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6b7f19e96c92f2e6a98ad2cb0daaa0d1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::broadcast </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>dests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Broadcast data to the ranks in dests, beginning from root. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>Can probably optimize this. </dd></dl>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00359">359</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                                                        {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      mpi::Group bcast_group;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      mpi::Comm bcast_comm;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      std::vector&lt;int&gt; ranks;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      ranks.push_back(root);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      ranks.insert(ranks.end(), dests.begin(), dests.end());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a07a25a3b0c46f15354fe6a69bcd292cb">create_group</a>(ranks, bcast_group);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// Elemental doesn&#39;t expose this, so we have to reach into its internals.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="comment">// This lets us create a communicator without involving all of COMM_WORLD.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">// Use a tag of 0; should not matter unless we&#39;re multi-threaded.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      MPI_Comm_create_group(mpi::COMM_WORLD.<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, bcast_group.group, 0,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                            &amp;(bcast_comm.comm));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordtype">int</span> translated_root = mpi::Translate(mpi::COMM_WORLD, root, bcast_comm);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      mpi::Broadcast(data, count, translated_root, bcast_comm);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      mpi::Free(bcast_comm);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      mpi::Free(bcast_group);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a07a25a3b0c46f15354fe6a69bcd292cb"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a07a25a3b0c46f15354fe6a69bcd292cb">lbann::lbann_comm::create_group</a></div><div class="ttdeci">void create_group(std::vector&lt; int &gt; &amp;ranks, mpi::Group &amp;g)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00599">lbann_comm.hpp:599</a></div></div>
<div class="ttc" id="lbann__file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__file__io_8cpp_source.html#l00044">lbann_file_io.cpp:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1cf976a743a4d0718681c45340a975d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::broadcast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>dests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00226">226</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                                   {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a6b7f19e96c92f2e6a98ad2cb0daaa0d1">broadcast</a>(mat.Buffer(), mat.Height() * mat.Width(), dests, root);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a6b7f19e96c92f2e6a98ad2cb0daaa0d1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a6b7f19e96c92f2e6a98ad2cb0daaa0d1">lbann::lbann_comm::broadcast</a></div><div class="ttdeci">void broadcast(T *data, int count, std::vector&lt; int &gt; &amp;dests, int root)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00359">lbann_comm.hpp:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ec7f646ba99e1f23af5f756cd2d730b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::broadcast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>dests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00231">231</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                                                   {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a6b7f19e96c92f2e6a98ad2cb0daaa0d1">broadcast</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), dests, root);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a6b7f19e96c92f2e6a98ad2cb0daaa0d1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a6b7f19e96c92f2e6a98ad2cb0daaa0d1">lbann::lbann_comm::broadcast</a></div><div class="ttdeci">void broadcast(T *data, int count, std::vector&lt; int &gt; &amp;dests, int root)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00359">lbann_comm.hpp:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07a25a3b0c46f15354fe6a69bcd292cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::create_group </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>ranks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Group &amp;&#160;</td>
          <td class="paramname"><em>g</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new group from a list of ranks. (Needs to be freed.) </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00599">599</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                                                 {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      mpi::Group world_group;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      mpi::CommGroup(mpi::COMM_WORLD, world_group);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      mpi::Incl(world_group, (<span class="keywordtype">int</span>) ranks.size(), ranks.data(), g);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a08d010621e7b0c2ecb0bdc42f6ecdafd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_ar_ag_bytes_received </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes received in allreduce allgathers. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00401">401</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afded6f478dc5021d1edec306dc6c528c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">lbann::lbann_comm::ar_ag_bytes_received</a></div><div class="ttdeci">size_t ar_ag_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00582">lbann_comm.hpp:582</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a08d010621e7b0c2ecb0bdc42f6ecdafd_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a08d010621e7b0c2ecb0bdc42f6ecdafd_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a08d010621e7b0c2ecb0bdc42f6ecdafd_icgraph" id="classlbann_1_1lbann__comm_a08d010621e7b0c2ecb0bdc42f6ecdafd_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="230,4,394,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6f7af6d0d083177f51d5f03517aad05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_ar_ag_bytes_sent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes sent in allreduce allgathers. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00399">399</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2cfe1264a83865360692c48d7869fe67"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">lbann::lbann_comm::ar_ag_bytes_sent</a></div><div class="ttdeci">size_t ar_ag_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00581">lbann_comm.hpp:581</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_af6f7af6d0d083177f51d5f03517aad05_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_af6f7af6d0d083177f51d5f03517aad05_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_af6f7af6d0d083177f51d5f03517aad05_icgraph" id="classlbann_1_1lbann__comm_af6f7af6d0d083177f51d5f03517aad05_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="206,4,370,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1be74c78659ce20ae84932cf81e588f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_ag_recv_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent receiving in allreduce allgathers. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00425">425</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1896c3ecd1d5b084497c6ed47c1c9bae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">lbann::lbann_comm::ar_ag_recv_time</a></div><div class="ttdeci">double ar_ag_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00594">lbann_comm.hpp:594</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02c37177a9a38fd9323efda73491ae62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_ag_send_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent sending in allreduce allgathers. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00423">423</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a64cb0b86e9368c1d83370ba6cb0083ba"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">lbann::lbann_comm::ar_ag_send_time</a></div><div class="ttdeci">double ar_ag_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00593">lbann_comm.hpp:593</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae78bcb4afb5661548b473eaaf6bfaec0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_ag_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent in allreduce allgathers. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00407">407</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">ar_ag_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a48768342eb05c1c6cdaa52c3599b93c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">lbann::lbann_comm::ar_ag_time</a></div><div class="ttdeci">double ar_ag_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00585">lbann_comm.hpp:585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0670e5aef9ad15351e6108558d09d1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_ar_bytes_received </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes received in allreduces. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00393">393</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_ae0670e5aef9ad15351e6108558d09d1a_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_ae0670e5aef9ad15351e6108558d09d1a_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_ae0670e5aef9ad15351e6108558d09d1a_icgraph" id="classlbann_1_1lbann__comm_ae0670e5aef9ad15351e6108558d09d1a_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="209,4,373,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae942d4e4d595f39a4bebafd6a9e3f67a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_ar_bytes_sent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes sent in allreduces. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00391">391</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_ae942d4e4d595f39a4bebafd6a9e3f67a_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_ae942d4e4d595f39a4bebafd6a9e3f67a_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_ae942d4e4d595f39a4bebafd6a9e3f67a_icgraph" id="classlbann_1_1lbann__comm_ae942d4e4d595f39a4bebafd6a9e3f67a_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="198,4,362,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc23417b6f0f7da72dd7f91b89286dce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_recv_apply_transform_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent in allreduce receive/apply transforms. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00413">413</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa642b0ae2321fa464b0092da527f6375"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">lbann::lbann_comm::ar_recv_apply_transform_time</a></div><div class="ttdeci">double ar_recv_apply_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00588">lbann_comm.hpp:588</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_adc23417b6f0f7da72dd7f91b89286dce_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_adc23417b6f0f7da72dd7f91b89286dce_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_adc23417b6f0f7da72dd7f91b89286dce_icgraph" id="classlbann_1_1lbann__comm_adc23417b6f0f7da72dd7f91b89286dce_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="278,4,442,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a459f2889d5b59c7f75a908b1741065d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_recv_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent receiving in allreduces. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00417">417</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4c9323938961c3524dc67f4b7b47e3ae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">lbann::lbann_comm::ar_recv_time</a></div><div class="ttdeci">double ar_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00590">lbann_comm.hpp:590</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b968159325ab0118982c2abe295c89d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_recv_transform_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent in allreduce receive transforms. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00411">411</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adb393f47d60eaa59bace80d2d3dd3bf2"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">lbann::lbann_comm::ar_recv_transform_time</a></div><div class="ttdeci">double ar_recv_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00587">lbann_comm.hpp:587</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a8b968159325ab0118982c2abe295c89d_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a8b968159325ab0118982c2abe295c89d_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a8b968159325ab0118982c2abe295c89d_icgraph" id="classlbann_1_1lbann__comm_a8b968159325ab0118982c2abe295c89d_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="238,4,402,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88c40abbda1a6650ff77c3fbd8ba4e4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_ar_rs_bytes_received </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes received in allreduce reduce-scatters. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00397">397</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">ar_rs_bytes_received</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2c3e1db0f6d2345748132322b0555db7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">lbann::lbann_comm::ar_rs_bytes_received</a></div><div class="ttdeci">size_t ar_rs_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00580">lbann_comm.hpp:580</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a88c40abbda1a6650ff77c3fbd8ba4e4d_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a88c40abbda1a6650ff77c3fbd8ba4e4d_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a88c40abbda1a6650ff77c3fbd8ba4e4d_icgraph" id="classlbann_1_1lbann__comm_a88c40abbda1a6650ff77c3fbd8ba4e4d_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="225,4,389,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa196b30f6f66cfe9f0712ab0bc8b3161"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_ar_rs_bytes_sent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes sent in allreduce reduce-scatters. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00395">395</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">ar_rs_bytes_sent</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ac74bcfb565c1bb6604f336c6d1b647cc"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">lbann::lbann_comm::ar_rs_bytes_sent</a></div><div class="ttdeci">size_t ar_rs_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00579">lbann_comm.hpp:579</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_aa196b30f6f66cfe9f0712ab0bc8b3161_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_aa196b30f6f66cfe9f0712ab0bc8b3161_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_aa196b30f6f66cfe9f0712ab0bc8b3161_icgraph" id="classlbann_1_1lbann__comm_aa196b30f6f66cfe9f0712ab0bc8b3161_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="201,4,365,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c28e114ad88ca085ef3af6fa92c874a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_rs_recv_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent receiving in allreduce reduce-scatters. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00421">421</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">ar_rs_recv_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adefa0ee8b0a6b74072448e20d40f502d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">lbann::lbann_comm::ar_rs_recv_time</a></div><div class="ttdeci">double ar_rs_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00592">lbann_comm.hpp:592</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10f367960aeed86d2f68210b82810e8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_rs_send_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent sending in allreduce reduce-scatters. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00419">419</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">ar_rs_send_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aaadab22d368e8004a9877828a3bc9e93"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">lbann::lbann_comm::ar_rs_send_time</a></div><div class="ttdeci">double ar_rs_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00591">lbann_comm.hpp:591</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab184bc98a171bd457cadd9d27ff2855a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_rs_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent in allreduce reduce-scatters. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00405">405</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">ar_rs_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a85022d803e339eb14a15129a07876c2b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">lbann::lbann_comm::ar_rs_time</a></div><div class="ttdeci">double ar_rs_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00584">lbann_comm.hpp:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba5ec2f049935dede8c13216461eeb1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_send_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent sending in allreduces. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00415">415</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a60a664f47efb52d9936b72d34059d1ef"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">lbann::lbann_comm::ar_send_time</a></div><div class="ttdeci">double ar_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00589">lbann_comm.hpp:589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a348fc1f345227b1b9ed1d5d6970142f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_send_transform_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent in allreduce send transforms. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00409">409</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4e3d35520a8f567579f9235e9808ba1c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">lbann::lbann_comm::ar_send_transform_time</a></div><div class="ttdeci">double ar_send_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00586">lbann_comm.hpp:586</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a348fc1f345227b1b9ed1d5d6970142f7_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a348fc1f345227b1b9ed1d5d6970142f7_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a348fc1f345227b1b9ed1d5d6970142f7_icgraph" id="classlbann_1_1lbann__comm_a348fc1f345227b1b9ed1d5d6970142f7_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="241,4,405,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9792a36b37a858aea566d87885b5ab57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::get_ar_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time spent in allreduces. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00403">403</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa57d2fbeef85fd8a3c9f2a37ca7687c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">lbann::lbann_comm::ar_time</a></div><div class="ttdeci">double ar_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00583">lbann_comm.hpp:583</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b89b6f22a0566ec9ece14bde5ee6a66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_bytes_received </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes received. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00389">389</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a9b89b6f22a0566ec9ece14bde5ee6a66_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a9b89b6f22a0566ec9ece14bde5ee6a66_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a9b89b6f22a0566ec9ece14bde5ee6a66_icgraph" id="classlbann_1_1lbann__comm_a9b89b6f22a0566ec9ece14bde5ee6a66_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__summary.html#abd8de0a455010c0fddede580263c9b91" title="lbann::lbann_callback\l_summary::on_batch_end" alt="" coords="198,5,370,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8644cbef030e9e6e66e50753ef76a884"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_bytes_sent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of bytes sent. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00387">387</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a8644cbef030e9e6e66e50753ef76a884_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a8644cbef030e9e6e66e50753ef76a884_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a8644cbef030e9e6e66e50753ef76a884_icgraph" id="classlbann_1_1lbann__comm_a8644cbef030e9e6e66e50753ef76a884_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__summary.html#abd8de0a455010c0fddede580263c9b91" title="lbann::lbann_callback\l_summary::on_batch_end" alt="" coords="198,5,370,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae925ac5eaf2895717c709b252961b3bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * lbann::lbann_comm::get_collective_buffer </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a buffer from collective_bufs, allocating it if needed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The size of the buffer (in bytes). </td></tr>
    <tr><td class="paramname">idx</td><td>The index of the buffer (default 0). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00798">798</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                                                       {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keyword">auto</span> buf_iter = <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>.find(size);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">if</span> (buf_iter == <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>.end()) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span> (idx != 0) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="comment">// TODO: Raise exception.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>.emplace(std::make_pair(size, std::vector&lt;uint8_t*&gt;()));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size].push_back(<span class="keyword">new</span> uint8_t[size]);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size][0];</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size].size() &gt; idx) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size][idx];</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size].size() != idx) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="comment">// TODO: Raise exception.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size].push_back(<span class="keyword">new</span> uint8_t[size]);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">collective_bufs</a>[size][idx];</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a79fa8f1cc5a6a57cc0640cd81ce7f3ec"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a79fa8f1cc5a6a57cc0640cd81ce7f3ec">lbann::lbann_comm::collective_bufs</a></div><div class="ttdeci">std::unordered_map&lt; size_t, std::vector&lt; uint8_t * &gt; &gt; collective_bufs</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00568">lbann_comm.hpp:568</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1db618eb587ead21fb0420bf94bfd45"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_count </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine the size (count) of an incoming message. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00346">346</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                                             {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      MPI_Status status;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      MPI_Probe(<a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>), MPI_ANY_TAG, MPI_COMM_WORLD, &amp;status);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">return</span> mpi::GetCount&lt;T&gt;(status);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a676b64be1b9429b85e8dac09728ba490"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">lbann::lbann_comm::get_world_rank</a></div><div class="ttdeci">int get_world_rank(int model, int rank) const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00066">lbann_comm.hpp:66</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a54544a1b1a691fa7b6314da5682f184c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_count </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00352">352</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{ <span class="keywordflow">return</span> get_count&lt;T&gt;(<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>); }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac29bae36ff22e846dcc984eb2ea8a4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpi::Comm lbann::lbann_comm::get_intermodel_comm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the intermodel communicator. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00542">542</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae7d094141d0da3bcacd542605f3e42d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_intermodel_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the rank of the inter-model master process. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00072">72</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{ <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_aae7d094141d0da3bcacd542605f3e42d_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_aae7d094141d0da3bcacd542605f3e42d_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_aae7d094141d0da3bcacd542605f3e42d_icgraph" id="classlbann_1_1lbann__comm_aae7d094141d0da3bcacd542605f3e42d_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__print.html#a8476b787abe4b035570b2ccc577a5062" title="lbann::lbann_callback\l_print::on_epoch_end" alt="" coords="211,5,357,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__print.html#a16c68b70cb9a24d8268a055d96c7bdad" title="lbann::lbann_callback\l_print::on_test_end" alt="" coords="211,70,357,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__timer.html#ac37653fa834c01c98ebb05cd03e08e3b" title="lbann::lbann_callback\l_timer::on_epoch_end" alt="" coords="209,135,359,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a483bf8a72d44a0e83da45f3d47bd20d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a4c600bf682fbf8018385607476e4bd13">Grid</a>&amp; lbann::lbann_comm::get_model_grid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a grid to use for this model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00084">84</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{ <span class="keywordflow">return</span> *<a class="code" href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">grid</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a29fb31be115db3225b145f250a7778d9"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a29fb31be115db3225b145f250a7778d9">lbann::lbann_comm::grid</a></div><div class="ttdeci">Grid * grid</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00552">lbann_comm.hpp:552</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4_icgraph" id="classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa35307f86d664e0fd3cc98a645f1589d" title="lbann::distributed\l_minibatch_parallel\l_io::distributed_minibatch\l_parallel_io" alt="" coords="204,5,375,75"/><area shape="rect" id="node3" href="classlbann_1_1convolutional__layer.html#a209510f0137b788c7364df0039627bf2" title="Constructor. " alt="" coords="201,99,377,141"/><area shape="rect" id="node4" href="classlbann_1_1adagrad.html#a90644f13d0a46e0f52122037f363aaa0" title="Set parameters to optimize and initialize optimizer. " alt="" coords="216,165,363,192"/><area shape="rect" id="node5" href="classlbann_1_1adam.html#a2a87df826b6108f5e77fce45ae73c55f" title="Set parameters to optimize and initialize optimizer. " alt="" coords="223,216,356,243"/><area shape="rect" id="node6" href="classlbann_1_1rmsprop.html#a0a62ec54e0d435ffb4d77f2ac9b70322" title="Set parameters to optimize and initialize optimizer. " alt="" coords="215,267,363,293"/><area shape="rect" id="node7" href="classlbann_1_1sgd.html#ae8f4798cfd459109ea9ecbc1f000bb65" title="Set parameters to optimize and initialize optimizer. " alt="" coords="228,317,351,344"/><area shape="rect" id="node8" href="classlbann_1_1batch__normalization.html#aa6ccc60854176d1daa51ac5f8b6e4d01" title="lbann::batch_normalization\l::initialize_model_parallel\l_distribution" alt="" coords="201,368,378,424"/><area shape="rect" id="node10" href="classlbann_1_1batch__normalization.html#a2c798d41403efc36d8325339191262eb" title="lbann::batch_normalization\l::initialize_data_parallel\l_distribution" alt="" coords="201,448,378,504"/><area shape="rect" id="node11" href="classlbann_1_1dropout.html#adac8d66b5add45bd1dcea08c109ef68e" title="Matrices should be in MC,MR distributions. " alt="" coords="198,527,381,569"/><area shape="rect" id="node13" href="classlbann_1_1dropout.html#a9d871f6dd815b3883b472c40858e11c1" title="Weight matrices should be in Star,Star and data matrices Star,VC distributions. " alt="" coords="203,593,375,634"/><area shape="rect" id="node9" href="classlbann_1_1batch__normalization.html#a9afe6eee02452cba784b8e807cc88cc0" title="lbann::batch_normalization\l::batch_normalization" alt="" coords="430,415,607,457"/><area shape="rect" id="node12" href="classlbann_1_1dropout.html#a475a5f62e79fddc530dcf9982ace918a" title="lbann::dropout::dropout" alt="" coords="441,567,596,593"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad61b35af881db9671f3d71ddbf1ced3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_model_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the rank of the master process in this model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00070">70</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{ <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c201108eb6b5a1e23021db29cef655b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_model_rank </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get which model this process is in. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00060">60</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">model_rank</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1f3f90a996dbba4cd1cca60596933ea3"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1f3f90a996dbba4cd1cca60596933ea3">lbann::lbann_comm::model_rank</a></div><div class="ttdeci">int model_rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00558">lbann_comm.hpp:558</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a6c201108eb6b5a1e23021db29cef655b_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a6c201108eb6b5a1e23021db29cef655b_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a6c201108eb6b5a1e23021db29cef655b_icgraph" id="classlbann_1_1lbann__comm_a6c201108eb6b5a1e23021db29cef655b_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__debug.html#a713b963c090ce555e6dd09145aba3b54" title="lbann::lbann_callback\l_debug::on_forward_prop_begin" alt="" coords="207,5,414,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__debug.html#ad15678b19d7bfd25a3bae6fb240655b6" title="lbann::lbann_callback\l_debug::on_forward_prop_end" alt="" coords="213,70,409,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__debug.html#a801aebd4474b816b43834a65aa6f296c" title="lbann::lbann_callback\l_debug::on_backward_prop_begin" alt="" coords="201,135,420,177"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__debug.html#ae72d078b5d95ce973b98b800193c671c" title="lbann::lbann_callback\l_debug::on_backward_prop_end" alt="" coords="206,201,415,242"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__debug.html#a6e6a59d03698ccfffb8528bb7b4087ad" title="lbann::lbann_callback\l_debug::on_batch_evaluate_begin" alt="" coords="201,266,420,307"/><area shape="rect" id="node7" href="classlbann_1_1lbann__callback__debug.html#adbc71c2af2c97d14dda2120b8ba6191e" title="lbann::lbann_callback\l_debug::on_batch_evaluate_end" alt="" coords="206,331,415,373"/><area shape="rect" id="node8" href="classlbann_1_1lbann__callback__debug.html#aa72952524fb4b559b334ecd7c9906cac" title="lbann::lbann_callback\l_debug::on_evaluate_forward\l_prop_begin" alt="" coords="215,396,407,452"/><area shape="rect" id="node9" href="classlbann_1_1lbann__callback__debug.html#a4edca180930053d7a24708022d134149" title="lbann::lbann_callback\l_debug::on_evaluate_forward\l_prop_end" alt="" coords="215,476,407,532"/><area shape="rect" id="node10" href="classlbann_1_1lbann__callback__dump__activations.html#a5de46093614d9372daef3716e75c5265" title="lbann::lbann_callback\l_dump_activations::on\l_forward_prop_end" alt="" coords="234,556,387,612"/><area shape="rect" id="node11" href="classlbann_1_1lbann__callback__dump__gradients.html#a781f771d7ebfc80310d316869bd74f71" title="lbann::lbann_callback\l_dump_gradients::on_backward\l_prop_end" alt="" coords="207,636,414,692"/><area shape="rect" id="node12" href="classlbann_1_1lbann__callback__dump__weights.html#a214d46826f6b64b321b34321451e9ab4" title="lbann::lbann_callback\l_dump_weights::on_epoch_end" alt="" coords="208,715,413,757"/><area shape="rect" id="node13" href="classlbann_1_1lbann__callback__early__stopping.html#ab1e8e8674750ff71cc9bcb4ac7102eaa" title="lbann::lbann_callback\l_early_stopping::on_validation_end" alt="" coords="198,781,423,822"/><area shape="rect" id="node14" href="classlbann_1_1lbann__callback__io.html#ae6e0e8850a2c7fb1a49f955d08e1680f" title="lbann::lbann_callback\l_io::on_epoch_end" alt="" coords="237,846,384,887"/><area shape="rect" id="node15" href="classlbann_1_1lbann__callback__io.html#a94c8f73dcab680c4e30005bd8ec043cc" title="lbann::lbann_callback\l_io::on_test_end" alt="" coords="237,911,384,953"/><area shape="rect" id="node16" href="classlbann_1_1lbann__callback__learning__rate.html#ab4ef80742344cca2ea63489498942b0f" title="lbann::lbann_callback\l_learning_rate::on_epoch_end" alt="" coords="213,977,408,1018"/><area shape="rect" id="node17" href="classlbann_1_1DataReader.html#a6ca8592b2271ceaac8cb1e29dbecbb82" title="lbann::DataReader::\lcalculate_multi_model\l_data_distribution" alt="" coords="235,1041,386,1097"/><area shape="rect" id="node18" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#a9d6dd762450b834f5c10d1abfdb54bff" title="lbann::input_layer\l_distributed_minibatch\l_parallel_io::setup" alt="" coords="235,1121,387,1177"/><area shape="rect" id="node19" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ae3d33d5cbe949783e2ef489bc771a721" title="lbann::target_layer\l_distributed_minibatch\l_parallel_io::setup" alt="" coords="235,1201,387,1257"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4180e1e69474af10d5fb672404f3d845"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_num_global_barriers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of global barriers performed. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00385">385</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">num_global_barriers</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4f01e2f2d8220dc34cf39eb4a255cd7d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">lbann::lbann_comm::num_global_barriers</a></div><div class="ttdeci">size_t num_global_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00573">lbann_comm.hpp:573</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a4180e1e69474af10d5fb672404f3d845_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a4180e1e69474af10d5fb672404f3d845_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a4180e1e69474af10d5fb672404f3d845_icgraph" id="classlbann_1_1lbann__comm_a4180e1e69474af10d5fb672404f3d845_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__summary.html#abd8de0a455010c0fddede580263c9b91" title="lbann::lbann_callback\l_summary::on_batch_end" alt="" coords="217,5,389,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a16c5b4574e98f5718ab9bff9a9c3c2bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_num_intermodel_barriers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of inter-model barriers performed. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00383">383</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">num_intermodel_barriers</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a03d946ef5ea5d3b15351e78a2eed10fe"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">lbann::lbann_comm::num_intermodel_barriers</a></div><div class="ttdeci">size_t num_intermodel_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00572">lbann_comm.hpp:572</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a16c5b4574e98f5718ab9bff9a9c3c2bb_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a16c5b4574e98f5718ab9bff9a9c3c2bb_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a16c5b4574e98f5718ab9bff9a9c3c2bb_icgraph" id="classlbann_1_1lbann__comm_a16c5b4574e98f5718ab9bff9a9c3c2bb_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__summary.html#abd8de0a455010c0fddede580263c9b91" title="lbann::lbann_callback\l_summary::on_batch_end" alt="" coords="243,5,415,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad2ece549c49a0569ac8fd9b56632fdd2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::get_num_model_barriers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of model barriers performed. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00381">381</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">num_model_barriers</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa4f15459eca2a06174a877ba0c23feb7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">lbann::lbann_comm::num_model_barriers</a></div><div class="ttdeci">size_t num_model_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00571">lbann_comm.hpp:571</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_ad2ece549c49a0569ac8fd9b56632fdd2_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_ad2ece549c49a0569ac8fd9b56632fdd2_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_ad2ece549c49a0569ac8fd9b56632fdd2_icgraph" id="classlbann_1_1lbann__comm_ad2ece549c49a0569ac8fd9b56632fdd2_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__summary.html#abd8de0a455010c0fddede580263c9b91" title="lbann::lbann_callback\l_summary::on_batch_end" alt="" coords="219,5,391,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a54842b679a3756cf79b43baf46caf637"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_num_models </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the total number of models. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00086">86</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a256ff5a0bafb33f43784ffc8dd2d29cf">num_models</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a256ff5a0bafb33f43784ffc8dd2d29cf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a256ff5a0bafb33f43784ffc8dd2d29cf">lbann::lbann_comm::num_models</a></div><div class="ttdeci">int num_models</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00554">lbann_comm.hpp:554</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a54842b679a3756cf79b43baf46caf637_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a54842b679a3756cf79b43baf46caf637_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a54842b679a3756cf79b43baf46caf637_icgraph" id="classlbann_1_1lbann__comm_a54842b679a3756cf79b43baf46caf637_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#a1cc160d368f1dd5bd30f1504c0df8003" title="lbann::lbann_callback\l_imcomm::setup" alt="" coords="209,5,356,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__imcomm.html#a9e409109c25b6173bc57108281e7aeb5" title="lbann::lbann_callback\l_imcomm::on_epoch_end" alt="" coords="197,70,368,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="201,135,365,191"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__print.html#a8476b787abe4b035570b2ccc577a5062" title="lbann::lbann_callback\l_print::on_epoch_end" alt="" coords="209,214,356,255"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__print.html#a16c68b70cb9a24d8268a055d96c7bdad" title="lbann::lbann_callback\l_print::on_test_end" alt="" coords="209,279,356,321"/><area shape="rect" id="node7" href="classlbann_1_1lbann__callback__timer.html#ac37653fa834c01c98ebb05cd03e08e3b" title="lbann::lbann_callback\l_timer::on_epoch_end" alt="" coords="207,345,358,386"/><area shape="rect" id="node8" href="classlbann_1_1DataReader.html#a6ca8592b2271ceaac8cb1e29dbecbb82" title="lbann::DataReader::\lcalculate_multi_model\l_data_distribution" alt="" coords="207,409,358,465"/><area shape="rect" id="node9" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa35307f86d664e0fd3cc98a645f1589d" title="lbann::distributed\l_minibatch_parallel\l_io::distributed_minibatch\l_parallel_io" alt="" coords="197,490,368,561"/><area shape="rect" id="node10" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#a9d6dd762450b834f5c10d1abfdb54bff" title="lbann::input_layer\l_distributed_minibatch\l_parallel_io::setup" alt="" coords="207,585,359,641"/><area shape="rect" id="node11" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ae3d33d5cbe949783e2ef489bc771a721" title="lbann::target_layer\l_distributed_minibatch\l_parallel_io::setup" alt="" coords="207,665,359,721"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad67668baa49b8713f3c74816d1aeb175"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_procs_per_model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00088">88</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a7cb55d127259d7ed9f07ccde6f4ebd8c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">lbann::lbann_comm::procs_per_model</a></div><div class="ttdeci">int procs_per_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00556">lbann_comm.hpp:556</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_ad67668baa49b8713f3c74816d1aeb175_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_ad67668baa49b8713f3c74816d1aeb175_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_ad67668baa49b8713f3c74816d1aeb175_icgraph" id="classlbann_1_1lbann__comm_ad67668baa49b8713f3c74816d1aeb175_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolutional__layer.html#a209510f0137b788c7364df0039627bf2" title="Constructor. " alt="" coords="200,74,376,115"/><area shape="rect" id="node3" href="lbann__layer__local__response__normalization_8cpp.html#a8ac156a3f6c715574f4868ef49dd6667" title="m_num_channels" alt="" coords="226,140,350,167"/><area shape="rect" id="node4" href="classlbann_1_1local__response__normalization__layer.html#ac44b798abbec68fcbb87cc11dc5ceb53" title="lbann::local_response\l_normalization_layer\l::setup" alt="" coords="425,5,573,61"/><area shape="rect" id="node5" href="classlbann_1_1local__response__normalization__layer.html#a09b8afc4b25a6d0de1c7bb2bfbdedb2e" title="Initialize GPU objects. " alt="" coords="425,85,573,141"/><area shape="rect" id="node6" href="classlbann_1_1local__response__normalization__layer.html#a52c3c797bc06e43a251423ccf330aada" title="CPU implementation of forward propagation linearity. " alt="" coords="425,165,573,221"/><area shape="rect" id="node7" href="classlbann_1_1local__response__normalization__layer.html#a0b6ff893cd58e40603907391fd362d9a" title="CPU implementation of backward propagation linearity. " alt="" coords="425,245,573,301"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a845c62c2a55ef3eb4416deb3e8c5cd1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_procs_per_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of processes in a compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00090">90</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a2ffc59f0c1d97df2ca6845312c8c8b3e">procs_per_node</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2ffc59f0c1d97df2ca6845312c8c8b3e"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2ffc59f0c1d97df2ca6845312c8c8b3e">lbann::lbann_comm::procs_per_node</a></div><div class="ttdeci">int procs_per_node</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00562">lbann_comm.hpp:562</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a845c62c2a55ef3eb4416deb3e8c5cd1a_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a845c62c2a55ef3eb4416deb3e8c5cd1a_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a845c62c2a55ef3eb4416deb3e8c5cd1a_icgraph" id="classlbann_1_1lbann__comm_a845c62c2a55ef3eb4416deb3e8c5cd1a_icgraph">
<area shape="rect" id="node2" href="namespacelbann.html#aa7eae9c1a433564435e5464eabd29ea4" title="lbann::initialize" alt="" coords="198,12,306,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a206bafe522a0962c450f4fc69d030656"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_rank_in_model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the rank of this process in its model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00062">62</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a206bafe522a0962c450f4fc69d030656_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a206bafe522a0962c450f4fc69d030656_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a206bafe522a0962c450f4fc69d030656_icgraph" id="classlbann_1_1lbann__comm_a206bafe522a0962c450f4fc69d030656_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1distributed__minibatch__parallel__io.html#a1a1c8e6038e112145fa6eaf37e6cb3d4" title="Is this rank the current root node for the Elemental Distribution. " alt="" coords="240,5,373,61"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__debug.html#a713b963c090ce555e6dd09145aba3b54" title="lbann::lbann_callback\l_debug::on_forward_prop_begin" alt="" coords="203,85,410,126"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__debug.html#ad15678b19d7bfd25a3bae6fb240655b6" title="lbann::lbann_callback\l_debug::on_forward_prop_end" alt="" coords="209,150,405,191"/><area shape="rect" id="node5" href="classlbann_1_1lbann__callback__debug.html#a801aebd4474b816b43834a65aa6f296c" title="lbann::lbann_callback\l_debug::on_backward_prop_begin" alt="" coords="197,215,416,257"/><area shape="rect" id="node6" href="classlbann_1_1lbann__callback__debug.html#ae72d078b5d95ce973b98b800193c671c" title="lbann::lbann_callback\l_debug::on_backward_prop_end" alt="" coords="202,281,411,322"/><area shape="rect" id="node7" href="classlbann_1_1lbann__callback__debug.html#a6e6a59d03698ccfffb8528bb7b4087ad" title="lbann::lbann_callback\l_debug::on_batch_evaluate_begin" alt="" coords="197,346,416,387"/><area shape="rect" id="node8" href="classlbann_1_1lbann__callback__debug.html#adbc71c2af2c97d14dda2120b8ba6191e" title="lbann::lbann_callback\l_debug::on_batch_evaluate_end" alt="" coords="202,411,411,453"/><area shape="rect" id="node9" href="classlbann_1_1lbann__callback__debug.html#aa72952524fb4b559b334ecd7c9906cac" title="lbann::lbann_callback\l_debug::on_evaluate_forward\l_prop_begin" alt="" coords="211,476,403,532"/><area shape="rect" id="node10" href="classlbann_1_1lbann__callback__debug.html#a4edca180930053d7a24708022d134149" title="lbann::lbann_callback\l_debug::on_evaluate_forward\l_prop_end" alt="" coords="211,556,403,612"/><area shape="rect" id="node11" href="classlbann_1_1lbann__callback__io.html#ae6e0e8850a2c7fb1a49f955d08e1680f" title="lbann::lbann_callback\l_io::on_epoch_end" alt="" coords="233,635,380,677"/><area shape="rect" id="node12" href="classlbann_1_1lbann__callback__io.html#a94c8f73dcab680c4e30005bd8ec043cc" title="lbann::lbann_callback\l_io::on_test_end" alt="" coords="233,701,380,742"/><area shape="rect" id="node13" href="classlbann_1_1DataReader.html#a6ca8592b2271ceaac8cb1e29dbecbb82" title="lbann::DataReader::\lcalculate_multi_model\l_data_distribution" alt="" coords="231,765,382,821"/><area shape="rect" id="node14" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#a9d6dd762450b834f5c10d1abfdb54bff" title="lbann::input_layer\l_distributed_minibatch\l_parallel_io::setup" alt="" coords="231,845,383,901"/><area shape="rect" id="node15" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ae3d33d5cbe949783e2ef489bc771a721" title="lbann::target_layer\l_distributed_minibatch\l_parallel_io::setup" alt="" coords="231,925,383,981"/><area shape="rect" id="node16" href="namespacelbann.html#acef152f20e422b3aea1a3c1691a533ac" title="lbann::init_random" alt="" coords="243,1005,371,1032"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a339bc17f07a2e40663df8b5d8cf80bf6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_rank_in_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the rank of this process within its compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00092">92</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#abb5c8b008b5cac11702bf1f991c78ab0">rank_in_node</a>; }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_abb5c8b008b5cac11702bf1f991c78ab0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#abb5c8b008b5cac11702bf1f991c78ab0">lbann::lbann_comm::rank_in_node</a></div><div class="ttdeci">int rank_in_node</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00564">lbann_comm.hpp:564</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a339bc17f07a2e40663df8b5d8cf80bf6_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a339bc17f07a2e40663df8b5d8cf80bf6_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a339bc17f07a2e40663df8b5d8cf80bf6_icgraph" id="classlbann_1_1lbann__comm_a339bc17f07a2e40663df8b5d8cf80bf6_icgraph">
<area shape="rect" id="node2" href="namespacelbann.html#aa7eae9c1a433564435e5464eabd29ea4" title="lbann::initialize" alt="" coords="198,12,306,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a615265cd20ffb4863089bb94e4c82fe7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_rank_in_world </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get my rank in COMM_WORLD. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00064">64</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{ <span class="keywordflow">return</span> mpi::Rank(mpi::COMM_WORLD); }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a615265cd20ffb4863089bb94e4c82fe7_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a615265cd20ffb4863089bb94e4c82fe7_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a615265cd20ffb4863089bb94e4c82fe7_icgraph" id="classlbann_1_1lbann__comm_a615265cd20ffb4863089bb94e4c82fe7_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checknan.html#ab46f91a3180038c2c046f913ce7aec1c" title="lbann::lbann_callback\l_checknan::on_forward\l_prop_end" alt="" coords="207,5,364,61"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checknan.html#a1514fb88dcc39cb6d4ec533f99030650" title="lbann::lbann_callback\l_checknan::on_backward\l_prop_end" alt="" coords="200,85,371,141"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checknan.html#a13ad397133ac3c2f16733df00032c691" title="lbann::lbann_callback\l_checknan::on_batch_end" alt="" coords="198,165,373,206"/><area shape="rect" id="node5" href="namespacelbann.html#aa7eae9c1a433564435e5464eabd29ea4" title="lbann::initialize" alt="" coords="231,231,339,257"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac1bcd6a5e38ad3a7e86171435642bc9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_world_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the rank of the world master process. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00074">74</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{ <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a676b64be1b9429b85e8dac09728ba490"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::get_world_rank </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the COMM_WORLD rank of the rank'th processor in model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00066">66</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                         {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">procs_per_model</a> * <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a> + <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a7cb55d127259d7ed9f07ccde6f4ebd8c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a7cb55d127259d7ed9f07ccde6f4ebd8c">lbann::lbann_comm::procs_per_model</a></div><div class="ttdeci">int procs_per_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00556">lbann_comm.hpp:556</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae12af95f4826571efa03fb8520260daa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::global_barrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Barrier among all processes. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00169">169</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                     {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  ++<a class="code" href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">num_global_barriers</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  mpi::Barrier(mpi::COMM_WORLD);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4f01e2f2d8220dc34cf39eb4a255cd7d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">lbann::lbann_comm::num_global_barriers</a></div><div class="ttdeci">size_t num_global_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00573">lbann_comm.hpp:573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01f1a49d07b57bb36de71171d4d59b49"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T lbann::lbann_comm::intermodel_allreduce </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model all-reduce. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00183">183</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                                      {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      T val;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      mpi::AllReduce(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, &amp;val, 1, op, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * (<a class="code" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a>() - 1);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a54842b679a3756cf79b43baf46caf637"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">lbann::lbann_comm::get_num_models</a></div><div class="ttdeci">int get_num_models() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00086">lbann_comm.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a01f1a49d07b57bb36de71171d4d59b49_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a01f1a49d07b57bb36de71171d4d59b49_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a01f1a49d07b57bb36de71171d4d59b49_icgraph" id="classlbann_1_1lbann__comm_a01f1a49d07b57bb36de71171d4d59b49_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__quantizer.html#a3fe3493cb16b85bd4eaf251980408f1b" title="lbann::lbann_quantizer\l::intermodel_sum_adaptive\l_quantized_impl" alt="" coords="197,5,376,61"/><area shape="rect" id="node3" href="classlbann_1_1lbann__quantizer.html#a4b326de1ca5b7eba6415b6f42f83335b" title="lbann::lbann_quantizer\l::intermodel_sum_onebit\l_quantized" alt="" coords="205,85,369,141"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="425,45,589,101"/><area shape="rect" id="node5" href="classlbann_1_1lbann__quantizer.html#af24e00e26e157f102f3cef547de40ae1" title="lbann::lbann_quantizer\l::intermodel_sum_onebit\l_quantized" alt="" coords="425,125,589,181"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0295e685523eb7b15f73f0d1950da397"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_allreduce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt;&#160;</td>
          <td class="paramname"><em>send_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_apply_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>id_recv</em> = <code><a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do a custom allreduce on mat on the intermodel communicator. This selects the allreduce algorithm to use based on the size of mat. All counts/sizes are in bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat</td><td>The matrix to allreduce. </td></tr>
    <tr><td class="paramname">max_recv_count</td><td>An upper bound on the size of data that will be received in any step; this will be the size of receive buffers used in the allreduce. </td></tr>
    <tr><td class="paramname">send_transform</td><td>A function that takes a range of a matrix and applies atransformation to it. The return value is a pointer to a buffer containing the transformed data, which will be sent. The int param should be filled in with the count of how many elements are in the buffer. A boolean parameter indicates whether the matrix is constant between different calls to send_transform; if true, the function may be able to take advantage of this. </td></tr>
    <tr><td class="paramname">recv_transform</td><td>A function that takes a pointer to a buffer and a matrix and applies a transform to the buffer, storing the result in the matrix. The buffer will be data transformed with send_transform and received from another rank. The return value is the actual count of the received data (i.e. the count that the data was sent using). </td></tr>
    <tr><td class="paramname">recv_apply_transform</td><td>A function like recv_transform except that the transformed data should be combined (applied, reduced) with the current data in the matrix argument. </td></tr>
    <tr><td class="paramname">id_recv</td><td>An optimization flag that indicates that the recv_transform is the identity. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00236">236</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// If not a power-of-2, we can&#39;t use the recursive doubling.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nprocs = <a class="code" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (nprocs &amp; (nprocs - 1)) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1cc14ad0e6e3eeb863c25854574ec6f">pe_ring_allreduce</a>(<a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, mat, max_recv_count,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                      send_transform, recv_transform,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                      recv_apply_transform, id_recv);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// TODO: Don&#39;t hardcode this.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (mat.Height() &lt;= 64 &amp;&amp; mat.Width() &lt;= 64) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#abc19e4d1440f6c2c94405d04f85e8fe0">recursive_doubling_allreduce_pow2</a>(</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, mat, max_recv_count,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        send_transform, recv_apply_transform, id_recv);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1cc14ad0e6e3eeb863c25854574ec6f">pe_ring_allreduce</a>(<a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, mat, max_recv_count,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        send_transform, recv_transform,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        recv_apply_transform, id_recv);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1cc14ad0e6e3eeb863c25854574ec6f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1cc14ad0e6e3eeb863c25854574ec6f">lbann::lbann_comm::pe_ring_allreduce</a></div><div class="ttdeci">void pe_ring_allreduce(mpi::Comm comm, Mat &amp;mat, int max_recv_count, std::function&lt; uint8_t *(Mat &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, Mat &amp;)&gt; recv_transform, std::function&lt; int(uint8_t *, Mat &amp;)&gt; recv_apply_transform, bool id_recv=false)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00304">lbann_comm.cpp:304</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a54842b679a3756cf79b43baf46caf637"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">lbann::lbann_comm::get_num_models</a></div><div class="ttdeci">int get_num_models() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00086">lbann_comm.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_abc19e4d1440f6c2c94405d04f85e8fe0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#abc19e4d1440f6c2c94405d04f85e8fe0">lbann::lbann_comm::recursive_doubling_allreduce_pow2</a></div><div class="ttdeci">void recursive_doubling_allreduce_pow2(mpi::Comm comm, Mat &amp;mat, int max_recv_count, std::function&lt; uint8_t *(Mat &amp;, IR, IR, int &amp;, bool)&gt; send_transform, std::function&lt; int(uint8_t *, Mat &amp;)&gt; recv_apply_transform, bool id_recv=false)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00262">lbann_comm.cpp:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5834e95e066313d9328b22e4a0ec8663"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_barrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Barrier among the inter-model processes. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00159">159</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                         {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  ++<a class="code" href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">num_intermodel_barriers</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  mpi::Barrier(<a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a03d946ef5ea5d3b15351e78a2eed10fe"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">lbann::lbann_comm::num_intermodel_barriers</a></div><div class="ttdeci">size_t num_intermodel_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00572">lbann_comm.hpp:572</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a158db6a85549d314be56806dcb442432"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T lbann::lbann_comm::intermodel_broadcast </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>val</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Non-blocking intermodel_broadcast_matrix. Inter-model broadcast, returns the broadcast value. Root process specifies root and val, other processes just root. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00118">118</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                             {}) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      mpi::Broadcast(&amp;val, 1, root, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">get_rank_in_model</a>() == root) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a206bafe522a0962c450f4fc69d030656"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">lbann::lbann_comm::get_rank_in_model</a></div><div class="ttdeci">int get_rank_in_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00062">lbann_comm.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4989229db1ee858c5a2170a989653d0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_broadcast_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Non-blocking intermodel_sum_matrix. Broadcast mat over the inter-model communicator starting from root. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00139">139</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                                    {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  Broadcast(mat, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, root);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f2bbd3b02fb675ed8e2ef7fcbb18f63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_broadcast_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00143">143</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                                        {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  Broadcast(mat, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, root);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e52b099a9c814e7e10c6ec528ae1354"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_gather </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model gather (for non-root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00143">143</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                             {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      mpi::Gather(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, 1, (T*) <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, root, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a7e52b099a9c814e7e10c6ec528ae1354_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a7e52b099a9c814e7e10c6ec528ae1354_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a7e52b099a9c814e7e10c6ec528ae1354_icgraph" id="classlbann_1_1lbann__comm_a7e52b099a9c814e7e10c6ec528ae1354_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__print.html#a8476b787abe4b035570b2ccc577a5062" title="lbann::lbann_callback\l_print::on_epoch_end" alt="" coords="200,5,347,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__print.html#a16c68b70cb9a24d8268a055d96c7bdad" title="lbann::lbann_callback\l_print::on_test_end" alt="" coords="200,70,347,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__timer.html#ac37653fa834c01c98ebb05cd03e08e3b" title="lbann::lbann_callback\l_timer::on_epoch_end" alt="" coords="198,135,349,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a358784ec5f60c08a5ee0b480c1bc1efc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_gather </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>recv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model gather (for root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00149">149</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                                       {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      mpi::Gather(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, 1, <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>.data(), 1, <a class="code" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">get_model_rank</a>(),</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                  <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * (<a class="code" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a>() - 1);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a54842b679a3756cf79b43baf46caf637"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">lbann::lbann_comm::get_num_models</a></div><div class="ttdeci">int get_num_models() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00086">lbann_comm.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a6c201108eb6b5a1e23021db29cef655b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">lbann::lbann_comm::get_model_rank</a></div><div class="ttdeci">int get_model_rank() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00060">lbann_comm.hpp:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a343e23a30883ef1897addfb6a0f2766f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_gather </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model scalar-array gather (for non-root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00156">156</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                         {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      mpi::Gather(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, count, (T*) <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, root, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a325eabc32fab410a7a1dd089e653d24c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_gather </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model scalar-array gather (for root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00162">162</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                                        {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      mpi::Gather(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, count, <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, count, <a class="code" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">get_model_rank</a>(), <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * count * (<a class="code" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a>() - 1);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a54842b679a3756cf79b43baf46caf637"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">lbann::lbann_comm::get_num_models</a></div><div class="ttdeci">int get_num_models() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00086">lbann_comm.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a6c201108eb6b5a1e23021db29cef655b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">lbann::lbann_comm::get_model_rank</a></div><div class="ttdeci">int get_model_rank() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00060">lbann_comm.hpp:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac62f250859b2f74508d6165914a06b59"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_reduce </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model reduce (for non-root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00168">168</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                                                {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      mpi::Reduce(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, (T*) <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, op, root, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab76d281092d39368ac157d36945f3602"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T lbann::lbann_comm::intermodel_reduce </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inter-model reduce (for root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00174">174</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                   {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      T val;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      mpi::Reduce(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, &amp;val, 1, op, <a class="code" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">get_model_rank</a>(),</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                  <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * (<a class="code" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">get_num_models</a>() - 1);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a54842b679a3756cf79b43baf46caf637"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637">lbann::lbann_comm::get_num_models</a></div><div class="ttdeci">int get_num_models() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00086">lbann_comm.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a6c201108eb6b5a1e23021db29cef655b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b">lbann::lbann_comm::get_model_rank</a></div><div class="ttdeci">int get_model_rank() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00060">lbann_comm.hpp:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68b36ba64db34f33cb135bc64c4623e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_sum_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform a sum reduction of mat over the inter-model communicator. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00111">111</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                                    {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * mat.Height() * mat.Width();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  AllReduce(mat, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, mpi::SUM);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * mat.Height() * mat.Width();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00037">lbann_base.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0_icgraph" id="classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#a9e409109c25b6173bc57108281e7aeb5" title="lbann::lbann_callback\l_imcomm::on_epoch_end" alt="" coords="211,5,381,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="214,69,378,125"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a150071cd17a82b56ccdee2bfe0c64d1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::intermodel_sum_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00117">117</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                                        {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * mat.LocalHeight() * mat.LocalWidth();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  AllReduce(mat, <a class="code" href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">intermodel_comm</a>, mpi::SUM);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * mat.LocalHeight() * mat.LocalWidth();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4797dcdf39d18c4c8335dc012186a8b1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4797dcdf39d18c4c8335dc012186a8b1">lbann::lbann_comm::intermodel_comm</a></div><div class="ttdeci">mpi::Comm intermodel_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00548">lbann_comm.hpp:548</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00037">lbann_base.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7da0bf384fde9968ba1aef88398cc66b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_comm::is_model_rank_on_node </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if rank (in the model comm) is on this compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00094">94</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                                      {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">return</span> std::find(<a class="code" href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">model_ranks_on_node</a>.begin(),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                       <a class="code" href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">model_ranks_on_node</a>.end(),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                       <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>) != <a class="code" href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">model_ranks_on_node</a>.end();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2289ce67222485f0df95ce75af4a9a50"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">lbann::lbann_comm::model_ranks_on_node</a></div><div class="ttdeci">std::vector&lt; int &gt; model_ranks_on_node</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00566">lbann_comm.hpp:566</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ba1b9a6b4eb986a348d85c2d80ca3eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool lbann::lbann_comm::is_sendable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if mat can be transmitted. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00453">453</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                                   {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="comment">// This assumes we do not transmit mat with a datatype smaller than</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="comment">// DataType.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="comment">// MPI uses &quot;int&quot; as its count type; do calculations with larger ints.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordtype">size_t</span> count = (size_t) mat.Height() * (size_t) mat.Width();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> count &lt;= (size_t) std::numeric_limits&lt;int&gt;::max();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb_icgraph" id="classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#aeec1c710c3d53b5e43a4d4f67b0a21b2" title="lbann::Layer::check\l_setup" alt="" coords="197,5,333,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a96bcc0bc8910272f4553cf0439a6e2f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool lbann::lbann_comm::is_sendable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td>
          <td class="paramname"><em>dist_mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the local portion of dist_mat can be transmitted. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00461">461</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                          {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1lbann__comm.html#a4ba1b9a6b4eb986a348d85c2d80ca3eb">is_sendable</a>(dist_mat.LockedMatrix());</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4ba1b9a6b4eb986a348d85c2d80ca3eb"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4ba1b9a6b4eb986a348d85c2d80ca3eb">lbann::lbann_comm::is_sendable</a></div><div class="ttdeci">static bool is_sendable(const Mat &amp;mat)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00453">lbann_comm.hpp:453</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab2bc3d526045ba1b5fedcd442b58a8f9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T lbann::lbann_comm::model_allreduce </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Within-model all-reduce. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00218">218</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                 {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      T val;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      mpi::AllReduce(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, &amp;val, 1, op, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * (<a class="code" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">get_procs_per_model</a>() - 1);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad67668baa49b8713f3c74816d1aeb175"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">lbann::lbann_comm::get_procs_per_model</a></div><div class="ttdeci">int get_procs_per_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00088">lbann_comm.hpp:88</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fd37bdaa3498455235f98b5e10b5e21"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::model_allreduce </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Scalar array within-model all-reduce. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00227">227</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                                         {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += count * <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      mpi::AllReduce(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, count, op, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += count * <span class="keyword">sizeof</span>(T) * (<a class="code" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">get_procs_per_model</a>() - 1);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad67668baa49b8713f3c74816d1aeb175"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">lbann::lbann_comm::get_procs_per_model</a></div><div class="ttdeci">int get_procs_per_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00088">lbann_comm.hpp:88</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6086ced12c3eefeea6e2a78eff286983"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::model_barrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Barrier among processes in this model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00164">164</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                    {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  ++<a class="code" href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">num_model_barriers</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  mpi::Barrier(<a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa4f15459eca2a06174a877ba0c23feb7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">lbann::lbann_comm::num_model_barriers</a></div><div class="ttdeci">size_t num_model_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00571">lbann_comm.hpp:571</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a929f44a9a9563ae9e4ffe7d44235a195"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T lbann::lbann_comm::model_broadcast </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>val</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Within-model broadcast, returns the broadcast value. Root process specifies root and val, other processes just root. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00132">132</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                        {}) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      mpi::Broadcast(&amp;val, 1, root, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">get_rank_in_model</a>() == root) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a206bafe522a0962c450f4fc69d030656"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">lbann::lbann_comm::get_rank_in_model</a></div><div class="ttdeci">int get_rank_in_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00062">lbann_comm.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a188beae3d95179409ab446e2f36bce96"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::model_reduce </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Within-model reduce (for non-root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00192">192</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                                           {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      mpi::Reduce(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, (T*) <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, op, root, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab2f02d1ed26949f61b0cc5a552a0909d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T lbann::lbann_comm::model_reduce </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Within-model reduce (for root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00198">198</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                              {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      T val;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      mpi::Reduce(&amp;<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, &amp;val, 1, op, <a class="code" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">get_rank_in_model</a>(), <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * (<a class="code" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">get_procs_per_model</a>() - 1);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a206bafe522a0962c450f4fc69d030656"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">lbann::lbann_comm::get_rank_in_model</a></div><div class="ttdeci">int get_rank_in_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00062">lbann_comm.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad67668baa49b8713f3c74816d1aeb175"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">lbann::lbann_comm::get_procs_per_model</a></div><div class="ttdeci">int get_procs_per_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00088">lbann_comm.hpp:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac12deb9c3a0ba5580f8584d209baba6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::model_reduce </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Within-model scalar array reduce (for non-root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00206">206</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                                       {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      mpi::Reduce(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, (T*) <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, count, op, root, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a814ac3a49f07cb8e939f9acb34ac2a1d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::model_reduce </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Op&#160;</td>
          <td class="paramname"><em>op</em> = <code>mpi::SUM</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Within-model scalar array reduce (for root processes). </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00212">212</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                                      {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      mpi::Reduce(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, count, op, <a class="code" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">get_rank_in_model</a>(), <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * count * (<a class="code" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">get_procs_per_model</a>() - 1);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a206bafe522a0962c450f4fc69d030656"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656">lbann::lbann_comm::get_rank_in_model</a></div><div class="ttdeci">int get_rank_in_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00062">lbann_comm.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad67668baa49b8713f3c74816d1aeb175"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175">lbann::lbann_comm::get_procs_per_model</a></div><div class="ttdeci">int get_procs_per_model() const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00088">lbann_comm.hpp:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae39f9ea155914634015a83ab615735bf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Corresponding non-blocking receives. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00301">301</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                                           {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      mpi::IRecv(data, count, <a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>), mpi::COMM_WORLD,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                 req);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a676b64be1b9429b85e8dac09728ba490"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">lbann::lbann_comm::get_world_rank</a></div><div class="ttdeci">int get_world_rank(int model, int rank) const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00066">lbann_comm.hpp:66</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f98c30131a7035b9a22b030fb63ce03"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00307">307</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                                           {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(data, count, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, req);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0b87af429543ea047082fd41f1d5b6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00208">208</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                           {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(mat.Buffer(), mat.Height() * mat.Width(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>, req);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a34892cb572638f93857109e133e7d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00213">213</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                                           {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>, req);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8add27f064418b73579121b767530e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00313">313</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                                                 {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, req);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf84e37f94c1fd5d07ac4b7349523c24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00316">316</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                                     {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, req);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78d1bab68a74afb29295e08f20146e15"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00319">319</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                                                               {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      mpi::IRecv(data, count, mpi::ANY_SOURCE, mpi::COMM_WORLD, req);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa87f14240312fa84c757fdf08e3c9298"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00218">218</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                                 {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(mat.Buffer(), mat.Height() * mat.Width(), req);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1bf4c659265fa5e2c1a979c54a030ec6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00222">222</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                                                     {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">nb_recv</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), req);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae39f9ea155914634015a83ab615735bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae39f9ea155914634015a83ab615735bf">lbann::lbann_comm::nb_recv</a></div><div class="ttdeci">void nb_recv(T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00301">lbann_comm.hpp:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae891816f1eedb749136bd87418e29233"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_send </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Corresponding non-blocking sends. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00262">262</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                     {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      mpi::ISend(data, count, <a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>), mpi::COMM_WORLD, req);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a676b64be1b9429b85e8dac09728ba490"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">lbann::lbann_comm::get_world_rank</a></div><div class="ttdeci">int get_world_rank(int model, int rank) const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00066">lbann_comm.hpp:66</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b1a6ec055df9d5ce339f2d5a19eae90"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_send </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00267">267</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                           {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">nb_send</a>(data, count, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, req);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae891816f1eedb749136bd87418e29233"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">lbann::lbann_comm::nb_send</a></div><div class="ttdeci">void nb_send(const T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00262">lbann_comm.hpp:262</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a54887476e4250540389370bf9928d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00182">182</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                                           {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">nb_send</a>(mat.Buffer(), mat.Height() * mat.Width(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>, req);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae891816f1eedb749136bd87418e29233"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">lbann::lbann_comm::nb_send</a></div><div class="ttdeci">void nb_send(const T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00262">lbann_comm.hpp:262</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a100dc6a9220625f531f87d8a8e8bed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00187">187</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                           {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">nb_send</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>, req);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae891816f1eedb749136bd87418e29233"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">lbann::lbann_comm::nb_send</a></div><div class="ttdeci">void nb_send(const T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00262">lbann_comm.hpp:262</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2e920f0167eaf66a30b19706dec3ee1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00273">273</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                                                 {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">nb_send</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, req);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae891816f1eedb749136bd87418e29233"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">lbann::lbann_comm::nb_send</a></div><div class="ttdeci">void nb_send(const T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00262">lbann_comm.hpp:262</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ffd8fc57e7ac7d44829370921b807aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::nb_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpi::Request&lt; <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00276">276</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                                                     {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">nb_send</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>, req);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae891816f1eedb749136bd87418e29233"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae891816f1eedb749136bd87418e29233">lbann::lbann_comm::nb_send</a></div><div class="ttdeci">void nb_send(const T *data, int count, int model, int rank, mpi::Request&lt; T &gt; &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00262">lbann_comm.hpp:262</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1cc14ad0e6e3eeb863c25854574ec6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::pe_ring_allreduce </td>
          <td>(</td>
          <td class="paramtype">mpi::Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt;&#160;</td>
          <td class="paramname"><em>send_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_apply_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>id_recv</em> = <code><a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An allreduce based on a pairwise-exchange reduce-scatter followed by a ring-based allgather. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00304">304</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordtype">double</span> ar_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a> = mpi::Rank(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nprocs = mpi::Size(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (nprocs == 1) <span class="keywordflow">return</span>;  <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// Compute the number of columns each processor sends.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// If it doesn&#39;t divide evenly, give one extra to the earlier ranks.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">const</span> Int cols_per_proc = mat.Width() / nprocs;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keyword">const</span> Int cols_remainder = mat.Width() % nprocs;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// Compute the lengths/ends of the slices.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  std::vector&lt;Int&gt; slice_lengths(nprocs, cols_per_proc);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cols_remainder; ++i) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    slice_lengths[i] += 1;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  std::vector&lt;Int&gt; slice_ends(nprocs);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  std::partial_sum(slice_lengths.begin(), slice_lengths.end(),</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                   slice_ends.begin());</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  uint8_t* recv_buf = <a class="code" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a>(max_recv_count);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// Local slice of our accumulated data.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keyword">auto</span> accum_view = mat(ALL, IR(slice_ends[rank] - slice_lengths[rank],</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                slice_ends[rank]));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// Do a pairwise-exchange reduce-scatter.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordtype">double</span> rs_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step = 1; step &lt; nprocs; ++step) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// Compute where we send to/receive from.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dst = (rank + step) % nprocs;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> src = (rank - step + nprocs) % nprocs;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// Transform the data we send. We do not look at the same chunk of data</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// twice.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    uint8_t* send_buf = send_transform(</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      mat, ALL, IR(slice_ends[dst] - slice_lengths[dst], slice_ends[dst]),</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      send_size, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">ar_rs_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    mpi::SendRecv(send_buf, send_size, dst,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                  recv_buf, max_recv_count, src, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">ar_rs_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">ar_rs_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">double</span> recv_apply_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">int</span> recv_size = recv_apply_transform(recv_buf, accum_view);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_apply_trans_start;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">ar_rs_bytes_received</a> += send_size;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">ar_rs_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - rs_start;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// Do a ring allgather.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordtype">double</span> ag_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> src = (rank - 1 + nprocs) % nprocs;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> dst = (rank + 1) % nprocs;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Apply the transform to our locally-accumulated slice of the data.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Do the first step where we forward our local data.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    uint8_t* send_buf = send_transform(</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      mat, ALL, IR(slice_ends[rank] - slice_lengths[rank], slice_ends[rank]),</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      send_size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> data_src = (rank - 1 + nprocs) % nprocs;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">auto</span> recv_view = mat(ALL,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                         IR(slice_ends[data_src] - slice_lengths[data_src],</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                            slice_ends[data_src]));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// If we can, receive directly into the destination matrix.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      recv_buf = (uint8_t*) recv_view.Buffer();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    mpi::SendRecv(send_buf, send_size, dst,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                  recv_buf, max_recv_count, src, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordtype">double</span> recv_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">int</span> recv_size = 0;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      recv_size = <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * recv_view.Height() * recv_view.Width();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      recv_size = recv_transform(recv_buf, recv_view);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_trans_start;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a> += send_size;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    send_size = recv_size;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// Now do the remaining nprocs - 2 steps.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">// We always send from recv_buf and receive to recv_buf2, swapping</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// pointers to avoid copying.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  uint8_t* recv_buf2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (!id_recv) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    recv_buf2 = <a class="code" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a>(max_recv_count, 1);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step = 1; step &lt; nprocs - 1; ++step) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// Compute where the data we get is coming from.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> data_src = (rank - step - 1 + nprocs) % nprocs;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">auto</span> recv_view = mat(ALL,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                         IR(slice_ends[data_src] - slice_lengths[data_src],</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                            slice_ends[data_src]));</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      recv_buf2 = (uint8_t*) recv_view.Buffer();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    mpi::SendRecv(recv_buf, send_size, dst,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                  recv_buf2, max_recv_count, src, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">double</span> recv_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordtype">int</span> recv_size = 0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      recv_size = <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * recv_view.Height() * recv_view.Width();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      recv_size = recv_transform(recv_buf2, recv_view);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_trans_start;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// Swap the send and receive buffers.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    std::swap(recv_buf, recv_buf2);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    send_size = recv_size;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a> += send_size;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">ar_ag_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ag_start;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ar_start;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a48768342eb05c1c6cdaa52c3599b93c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">lbann::lbann_comm::ar_ag_time</a></div><div class="ttdeci">double ar_ag_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00585">lbann_comm.hpp:585</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa642b0ae2321fa464b0092da527f6375"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">lbann::lbann_comm::ar_recv_apply_transform_time</a></div><div class="ttdeci">double ar_recv_apply_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00588">lbann_comm.hpp:588</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a85022d803e339eb14a15129a07876c2b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">lbann::lbann_comm::ar_rs_time</a></div><div class="ttdeci">double ar_rs_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00584">lbann_comm.hpp:584</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1896c3ecd1d5b084497c6ed47c1c9bae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">lbann::lbann_comm::ar_ag_recv_time</a></div><div class="ttdeci">double ar_ag_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00594">lbann_comm.hpp:594</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2cfe1264a83865360692c48d7869fe67"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">lbann::lbann_comm::ar_ag_bytes_sent</a></div><div class="ttdeci">size_t ar_ag_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00581">lbann_comm.hpp:581</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afded6f478dc5021d1edec306dc6c528c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">lbann::lbann_comm::ar_ag_bytes_received</a></div><div class="ttdeci">size_t ar_ag_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00582">lbann_comm.hpp:582</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adb393f47d60eaa59bace80d2d3dd3bf2"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">lbann::lbann_comm::ar_recv_transform_time</a></div><div class="ttdeci">double ar_recv_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00587">lbann_comm.hpp:587</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aaadab22d368e8004a9877828a3bc9e93"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">lbann::lbann_comm::ar_rs_send_time</a></div><div class="ttdeci">double ar_rs_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00591">lbann_comm.hpp:591</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
<div class="ttc" id="lbann__file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__file__io_8cpp_source.html#l00044">lbann_file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa57d2fbeef85fd8a3c9f2a37ca7687c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">lbann::lbann_comm::ar_time</a></div><div class="ttdeci">double ar_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00583">lbann_comm.hpp:583</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2c3e1db0f6d2345748132322b0555db7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">lbann::lbann_comm::ar_rs_bytes_received</a></div><div class="ttdeci">size_t ar_rs_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00580">lbann_comm.hpp:580</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae925ac5eaf2895717c709b252961b3bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">lbann::lbann_comm::get_collective_buffer</a></div><div class="ttdeci">uint8_t * get_collective_buffer(size_t size, size_t idx=0)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00798">lbann_comm.cpp:798</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa5f3c53358bf9002b9fab41918b0c8c1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">lbann::lbann_comm::ar_bytes_received</a></div><div class="ttdeci">size_t ar_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00578">lbann_comm.hpp:578</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a60a664f47efb52d9936b72d34059d1ef"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">lbann::lbann_comm::ar_send_time</a></div><div class="ttdeci">double ar_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00589">lbann_comm.hpp:589</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adefa0ee8b0a6b74072448e20d40f502d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">lbann::lbann_comm::ar_rs_recv_time</a></div><div class="ttdeci">double ar_rs_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00592">lbann_comm.hpp:592</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__timer_8hpp_source.html#l00037">lbann_timer.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ac74bcfb565c1bb6604f336c6d1b647cc"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">lbann::lbann_comm::ar_rs_bytes_sent</a></div><div class="ttdeci">size_t ar_rs_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00579">lbann_comm.hpp:579</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a64cb0b86e9368c1d83370ba6cb0083ba"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">lbann::lbann_comm::ar_ag_send_time</a></div><div class="ttdeci">double ar_ag_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00593">lbann_comm.hpp:593</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00037">lbann_base.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4e3d35520a8f567579f9235e9808ba1c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">lbann::lbann_comm::ar_send_transform_time</a></div><div class="ttdeci">double ar_send_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00586">lbann_comm.hpp:586</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4c9323938961c3524dc67f4b7b47e3ae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">lbann::lbann_comm::ar_recv_time</a></div><div class="ttdeci">double ar_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00590">lbann_comm.hpp:590</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_ad1cc14ad0e6e3eeb863c25854574ec6f_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_ad1cc14ad0e6e3eeb863c25854574ec6f_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_ad1cc14ad0e6e3eeb863c25854574ec6f_cgraph" id="classlbann_1_1lbann__comm_ad1cc14ad0e6e3eeb863c25854574ec6f_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="198,12,309,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5761d6fd48871b5e6074962fa503db1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::rabenseifner_allreduce </td>
          <td>(</td>
          <td class="paramtype">mpi::Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt;&#160;</td>
          <td class="paramname"><em>send_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_apply_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>id_recv</em> = <code><a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An allreduce using a recursive-halving reduce-scatter followed by a recursive-doubling allgather. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00604">604</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordtype">double</span> ar_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a> = mpi::Rank(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nprocs = mpi::Size(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">if</span> (nprocs == 1) <span class="keywordflow">return</span>;  <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// This implementation requires a power-of-2 number of processes.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">if</span> (nprocs &amp; (nprocs - 1)) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_comm: Rabenseifner allreduce requires&quot;</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                          <span class="stringliteral">&quot; a power-of-2 number of participating processes&quot;</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="comment">// Compute the slices on each processor.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keyword">const</span> Int cols_per_proc = mat.Width() / nprocs;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keyword">const</span> Int cols_remainder = mat.Width() % nprocs;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// Compute the lengths/ends of the slices.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  std::vector&lt;Int&gt; slice_lengths(nprocs, cols_per_proc);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cols_remainder; ++i) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    slice_lengths[i] += 1;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  std::vector&lt;Int&gt; slice_ends(nprocs);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  std::partial_sum(slice_lengths.begin(), slice_lengths.end(),</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                   slice_ends.begin());</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// Do a recursive-halving reduce-scatter.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// In each step here a process sends all the data needed for the other</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// &quot;half&quot; of the processes. i.e. each process sends half their data in the</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// first step, a quarter in the second step, etc.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordtype">double</span> rs_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partner_mask = nprocs &gt;&gt; 1;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> slice_mask = 1;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> send_idx = 0;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> recv_idx = 0;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> last_idx = nprocs;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  uint8_t* recv_buf = <a class="code" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a>(max_recv_count);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">while</span> (partner_mask &gt; 0) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordtype">int</span> partner = rank ^ partner_mask;  <span class="comment">// The rank we exchange with this step.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// Determine the range of data to send/recv.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    IR send_range, recv_range;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span> (rank &lt; partner) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      send_idx = recv_idx + nprocs / (slice_mask*2);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      send_range = IR(slice_ends[send_idx] - slice_lengths[send_idx],</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                      slice_ends[last_idx-1]);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      recv_range = IR(slice_ends[recv_idx] - slice_lengths[recv_idx],</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                      slice_ends[send_idx-1]);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      recv_idx = send_idx + nprocs / (slice_mask*2);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      send_range = IR(slice_ends[send_idx] - slice_lengths[send_idx],</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                      slice_ends[recv_idx-1]);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      recv_range = IR(slice_ends[recv_idx] - slice_lengths[recv_idx],</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                      slice_ends[last_idx-1]);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// Transform the data to send.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    uint8_t* send_buf = send_transform(mat, ALL, send_range, send_size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">ar_rs_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    mpi::SendRecv(send_buf, send_size, partner,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                  recv_buf, max_recv_count, partner, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">ar_rs_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">ar_rs_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// Transform the received data.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordtype">double</span> recv_apply_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keyword">auto</span> recv_view = mat(ALL, recv_range);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordtype">int</span> recv_size = recv_apply_transform(recv_buf, recv_view);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_apply_trans_start;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">ar_rs_bytes_received</a> += send_size;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">// Update info for next iteration.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// Except last_idx when needed for the allgather.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    send_idx = recv_idx;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    partner_mask &gt;&gt;= 1;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    slice_mask &lt;&lt;= 1;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span> (partner_mask &gt; 0) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      last_idx = recv_idx + nprocs / (slice_mask);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">ar_rs_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - rs_start;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// Do a recursive-doubling algather.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordtype">double</span> ag_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  slice_mask &gt;&gt;= 1;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  partner_mask = 1;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// Now do the remaining steps.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">while</span> (partner_mask &lt; nprocs) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordtype">int</span> partner = rank ^ partner_mask;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// Determine range to send/recv.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    IR send_range, recv_range;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (rank &lt; partner) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">if</span> (slice_mask != nprocs / 2) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        last_idx = last_idx + nprocs / (slice_mask*2);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      recv_idx = send_idx + nprocs / (slice_mask*2);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      send_range = IR(slice_ends[send_idx] - slice_lengths[send_idx],</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                      slice_ends[recv_idx-1]);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      recv_range = IR(slice_ends[recv_idx] - slice_lengths[recv_idx],</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                      slice_ends[last_idx-1]);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      recv_idx = send_idx - nprocs / (slice_mask*2);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      send_range = IR(slice_ends[send_idx] - slice_lengths[send_idx],</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                      slice_ends[last_idx-1]);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      recv_range = IR(slice_ends[recv_idx] - slice_lengths[recv_idx],</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                      slice_ends[send_idx-1]);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// Transform the data to send.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    uint8_t* send_buf = send_transform(mat, ALL, send_range, send_size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keyword">auto</span> recv_view = mat(ALL, recv_range);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      recv_buf = (uint8_t*) recv_view.Buffer();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    mpi::SendRecv(send_buf, send_size, partner,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                  recv_buf, max_recv_count, partner, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordtype">double</span> recv_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordtype">int</span> recv_size = 0;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      recv_size = <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * recv_view.Height() * recv_view.Width();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      recv_size = recv_transform(recv_buf, recv_view);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_trans_start;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a> += send_size;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// Update for the next iteration.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> (rank &gt; partner) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      send_idx = recv_idx;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    partner_mask &lt;&lt;= 1;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    slice_mask &gt;&gt;= 1;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">ar_ag_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ag_start;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ar_start;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a48768342eb05c1c6cdaa52c3599b93c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">lbann::lbann_comm::ar_ag_time</a></div><div class="ttdeci">double ar_ag_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00585">lbann_comm.hpp:585</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa642b0ae2321fa464b0092da527f6375"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">lbann::lbann_comm::ar_recv_apply_transform_time</a></div><div class="ttdeci">double ar_recv_apply_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00588">lbann_comm.hpp:588</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a85022d803e339eb14a15129a07876c2b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">lbann::lbann_comm::ar_rs_time</a></div><div class="ttdeci">double ar_rs_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00584">lbann_comm.hpp:584</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1896c3ecd1d5b084497c6ed47c1c9bae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">lbann::lbann_comm::ar_ag_recv_time</a></div><div class="ttdeci">double ar_ag_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00594">lbann_comm.hpp:594</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2cfe1264a83865360692c48d7869fe67"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">lbann::lbann_comm::ar_ag_bytes_sent</a></div><div class="ttdeci">size_t ar_ag_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00581">lbann_comm.hpp:581</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afded6f478dc5021d1edec306dc6c528c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">lbann::lbann_comm::ar_ag_bytes_received</a></div><div class="ttdeci">size_t ar_ag_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00582">lbann_comm.hpp:582</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adb393f47d60eaa59bace80d2d3dd3bf2"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">lbann::lbann_comm::ar_recv_transform_time</a></div><div class="ttdeci">double ar_recv_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00587">lbann_comm.hpp:587</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aaadab22d368e8004a9877828a3bc9e93"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">lbann::lbann_comm::ar_rs_send_time</a></div><div class="ttdeci">double ar_rs_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00591">lbann_comm.hpp:591</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
<div class="ttc" id="lbann__file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__file__io_8cpp_source.html#l00044">lbann_file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa57d2fbeef85fd8a3c9f2a37ca7687c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">lbann::lbann_comm::ar_time</a></div><div class="ttdeci">double ar_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00583">lbann_comm.hpp:583</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2c3e1db0f6d2345748132322b0555db7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">lbann::lbann_comm::ar_rs_bytes_received</a></div><div class="ttdeci">size_t ar_rs_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00580">lbann_comm.hpp:580</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae925ac5eaf2895717c709b252961b3bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">lbann::lbann_comm::get_collective_buffer</a></div><div class="ttdeci">uint8_t * get_collective_buffer(size_t size, size_t idx=0)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00798">lbann_comm.cpp:798</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa5f3c53358bf9002b9fab41918b0c8c1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">lbann::lbann_comm::ar_bytes_received</a></div><div class="ttdeci">size_t ar_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00578">lbann_comm.hpp:578</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a60a664f47efb52d9936b72d34059d1ef"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">lbann::lbann_comm::ar_send_time</a></div><div class="ttdeci">double ar_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00589">lbann_comm.hpp:589</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adefa0ee8b0a6b74072448e20d40f502d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">lbann::lbann_comm::ar_rs_recv_time</a></div><div class="ttdeci">double ar_rs_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00592">lbann_comm.hpp:592</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__timer_8hpp_source.html#l00037">lbann_timer.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ac74bcfb565c1bb6604f336c6d1b647cc"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">lbann::lbann_comm::ar_rs_bytes_sent</a></div><div class="ttdeci">size_t ar_rs_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00579">lbann_comm.hpp:579</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a64cb0b86e9368c1d83370ba6cb0083ba"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">lbann::lbann_comm::ar_ag_send_time</a></div><div class="ttdeci">double ar_ag_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00593">lbann_comm.hpp:593</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00037">lbann_base.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4e3d35520a8f567579f9235e9808ba1c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">lbann::lbann_comm::ar_send_transform_time</a></div><div class="ttdeci">double ar_send_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00586">lbann_comm.hpp:586</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4c9323938961c3524dc67f4b7b47e3ae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">lbann::lbann_comm::ar_recv_time</a></div><div class="ttdeci">double ar_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00590">lbann_comm.hpp:590</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_af5761d6fd48871b5e6074962fa503db1_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_af5761d6fd48871b5e6074962fa503db1_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_af5761d6fd48871b5e6074962fa503db1_cgraph" id="classlbann_1_1lbann__comm_af5761d6fd48871b5e6074962fa503db1_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="206,12,317,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abc19e4d1440f6c2c94405d04f85e8fe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recursive_doubling_allreduce_pow2 </td>
          <td>(</td>
          <td class="paramtype">mpi::Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt;&#160;</td>
          <td class="paramname"><em>send_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_apply_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>id_recv</em> = <code><a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A recursive-doubling allreduce. This implementation only works for a power-of-2 number of processes. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00262">262</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">double</span> ar_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a> = mpi::Rank(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nprocs = mpi::Size(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span> (nprocs == 1) <span class="keywordflow">return</span>;  <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// This implementation requires a power-of-2 number of processes.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (nprocs &amp; (nprocs - 1)) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_comm: recursive doubling allreduce requires&quot;</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                          <span class="stringliteral">&quot; a power-of-2 number of participating processes&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  uint8_t* recv_buf = <a class="code" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a>(max_recv_count);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask = 1;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">while</span> (mask &lt; nprocs) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">int</span> partner = rank ^ mask;  <span class="comment">// The rank we exchange with this step.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// Transform the data we want to send.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    uint8_t* send_buf = send_transform(mat, ALL, ALL, send_size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    mpi::SendRecv(send_buf, send_size, partner,</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                  recv_buf, max_recv_count, partner, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Transform and reduce the received data.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">double</span> recv_apply_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">int</span> recv_size = recv_apply_transform(recv_buf, mat);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_apply_trans_start;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    mask &lt;&lt;= 1;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ar_start;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa642b0ae2321fa464b0092da527f6375"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">lbann::lbann_comm::ar_recv_apply_transform_time</a></div><div class="ttdeci">double ar_recv_apply_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00588">lbann_comm.hpp:588</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
<div class="ttc" id="lbann__file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__file__io_8cpp_source.html#l00044">lbann_file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa57d2fbeef85fd8a3c9f2a37ca7687c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">lbann::lbann_comm::ar_time</a></div><div class="ttdeci">double ar_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00583">lbann_comm.hpp:583</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae925ac5eaf2895717c709b252961b3bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">lbann::lbann_comm::get_collective_buffer</a></div><div class="ttdeci">uint8_t * get_collective_buffer(size_t size, size_t idx=0)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00798">lbann_comm.cpp:798</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa5f3c53358bf9002b9fab41918b0c8c1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">lbann::lbann_comm::ar_bytes_received</a></div><div class="ttdeci">size_t ar_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00578">lbann_comm.hpp:578</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a60a664f47efb52d9936b72d34059d1ef"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">lbann::lbann_comm::ar_send_time</a></div><div class="ttdeci">double ar_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00589">lbann_comm.hpp:589</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__timer_8hpp_source.html#l00037">lbann_timer.hpp:37</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4e3d35520a8f567579f9235e9808ba1c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">lbann::lbann_comm::ar_send_transform_time</a></div><div class="ttdeci">double ar_send_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00586">lbann_comm.hpp:586</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4c9323938961c3524dc67f4b7b47e3ae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">lbann::lbann_comm::ar_recv_time</a></div><div class="ttdeci">double ar_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00590">lbann_comm.hpp:590</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_abc19e4d1440f6c2c94405d04f85e8fe0_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_abc19e4d1440f6c2c94405d04f85e8fe0_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_abc19e4d1440f6c2c94405d04f85e8fe0_cgraph" id="classlbann_1_1lbann__comm_abc19e4d1440f6c2c94405d04f85e8fe0_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="281,12,391,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af8842cd4cea390f76d9146e1c4578de4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Corresponding receive to send. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00281">281</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                                                             {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      mpi::Recv(data, count, <a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>), mpi::COMM_WORLD);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a676b64be1b9429b85e8dac09728ba490"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">lbann::lbann_comm::get_world_rank</a></div><div class="ttdeci">int get_world_rank(int model, int rank) const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00066">lbann_comm.hpp:66</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f2f06772bdee76b4d736c1d7ab84329"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00285">285</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                                   {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(data, count, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1ed8dd7b6f839b69bfb33f88728b18d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00192">192</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                                        {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(mat.Buffer(), mat.Height() * mat.Width(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1376b4f3c0941e19ff23a8baf30eb63d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00196">196</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                                            {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b1ecfe900346c0996fb8066e4f76fe2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00290">290</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{ <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>); }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_cgraph" id="classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_icgraph" id="classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a018f0451e2a984d28b6a1f099cf9d421"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00291">291</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{ <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>); }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_cgraph" id="classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_icgraph" id="classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab96fe808a236d41ecd05c0cc2461dba0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>As above, but receive from anyone. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00293">293</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                                        {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      mpi::Recv(data, count, mpi::ANY_SOURCE, mpi::COMM_WORLD);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d0cca55711c9c9913f3d940c5bba4eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00200">200</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                   {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(mat.Buffer(), mat.Height() * mat.Width());</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc92b86b30287689870e018b062076f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00204">204</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                       {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb9afab1b8af03276e6e6347f8021ef5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::reset_stats_counters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00426">426</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                       {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">num_model_barriers</a> = 0;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">num_intermodel_barriers</a> = 0;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">num_global_barriers</a> = 0;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> = 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> = 0;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> = 0;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">ar_rs_bytes_sent</a> = 0;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">ar_rs_bytes_received</a> = 0;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a> = 0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a> = 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a> = 0.0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">ar_rs_time</a> = 0.0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">ar_ag_time</a> = 0.0;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> = 0.0;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a> = 0.0;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a> = 0.0;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> = 0.0;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> = 0.0;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">ar_rs_send_time</a> = 0.0;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">ar_rs_recv_time</a> = 0.0;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a> = 0.0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a> = 0.0;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a48768342eb05c1c6cdaa52c3599b93c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">lbann::lbann_comm::ar_ag_time</a></div><div class="ttdeci">double ar_ag_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00585">lbann_comm.hpp:585</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4f01e2f2d8220dc34cf39eb4a255cd7d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4f01e2f2d8220dc34cf39eb4a255cd7d">lbann::lbann_comm::num_global_barriers</a></div><div class="ttdeci">size_t num_global_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00573">lbann_comm.hpp:573</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa642b0ae2321fa464b0092da527f6375"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">lbann::lbann_comm::ar_recv_apply_transform_time</a></div><div class="ttdeci">double ar_recv_apply_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00588">lbann_comm.hpp:588</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a85022d803e339eb14a15129a07876c2b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">lbann::lbann_comm::ar_rs_time</a></div><div class="ttdeci">double ar_rs_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00584">lbann_comm.hpp:584</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1896c3ecd1d5b084497c6ed47c1c9bae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">lbann::lbann_comm::ar_ag_recv_time</a></div><div class="ttdeci">double ar_ag_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00594">lbann_comm.hpp:594</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2cfe1264a83865360692c48d7869fe67"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">lbann::lbann_comm::ar_ag_bytes_sent</a></div><div class="ttdeci">size_t ar_ag_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00581">lbann_comm.hpp:581</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afded6f478dc5021d1edec306dc6c528c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">lbann::lbann_comm::ar_ag_bytes_received</a></div><div class="ttdeci">size_t ar_ag_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00582">lbann_comm.hpp:582</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adb393f47d60eaa59bace80d2d3dd3bf2"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">lbann::lbann_comm::ar_recv_transform_time</a></div><div class="ttdeci">double ar_recv_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00587">lbann_comm.hpp:587</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aaadab22d368e8004a9877828a3bc9e93"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">lbann::lbann_comm::ar_rs_send_time</a></div><div class="ttdeci">double ar_rs_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00591">lbann_comm.hpp:591</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa57d2fbeef85fd8a3c9f2a37ca7687c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">lbann::lbann_comm::ar_time</a></div><div class="ttdeci">double ar_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00583">lbann_comm.hpp:583</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa4f15459eca2a06174a877ba0c23feb7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa4f15459eca2a06174a877ba0c23feb7">lbann::lbann_comm::num_model_barriers</a></div><div class="ttdeci">size_t num_model_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00571">lbann_comm.hpp:571</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2c3e1db0f6d2345748132322b0555db7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">lbann::lbann_comm::ar_rs_bytes_received</a></div><div class="ttdeci">size_t ar_rs_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00580">lbann_comm.hpp:580</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a03d946ef5ea5d3b15351e78a2eed10fe"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a03d946ef5ea5d3b15351e78a2eed10fe">lbann::lbann_comm::num_intermodel_barriers</a></div><div class="ttdeci">size_t num_intermodel_barriers</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00572">lbann_comm.hpp:572</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa5f3c53358bf9002b9fab41918b0c8c1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">lbann::lbann_comm::ar_bytes_received</a></div><div class="ttdeci">size_t ar_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00578">lbann_comm.hpp:578</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a60a664f47efb52d9936b72d34059d1ef"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">lbann::lbann_comm::ar_send_time</a></div><div class="ttdeci">double ar_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00589">lbann_comm.hpp:589</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adefa0ee8b0a6b74072448e20d40f502d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">lbann::lbann_comm::ar_rs_recv_time</a></div><div class="ttdeci">double ar_rs_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00592">lbann_comm.hpp:592</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ac74bcfb565c1bb6604f336c6d1b647cc"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">lbann::lbann_comm::ar_rs_bytes_sent</a></div><div class="ttdeci">size_t ar_rs_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00579">lbann_comm.hpp:579</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a64cb0b86e9368c1d83370ba6cb0083ba"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">lbann::lbann_comm::ar_ag_send_time</a></div><div class="ttdeci">double ar_ag_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00593">lbann_comm.hpp:593</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4e3d35520a8f567579f9235e9808ba1c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">lbann::lbann_comm::ar_send_transform_time</a></div><div class="ttdeci">double ar_send_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00586">lbann_comm.hpp:586</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4c9323938961c3524dc67f4b7b47e3ae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">lbann::lbann_comm::ar_recv_time</a></div><div class="ttdeci">double ar_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00590">lbann_comm.hpp:590</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5_icgraph" id="classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__imcomm.html#ace11211398e94728880476981f25fdc2" title="lbann::lbann_callback\l_imcomm::on_backward\l_prop_end" alt="" coords="202,5,366,61"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__summary.html#abd8de0a455010c0fddede580263c9b91" title="lbann::lbann_callback\l_summary::on_batch_end" alt="" coords="198,85,370,126"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__summary.html#a01d3686f2c566ee2e508573726b439de" title="lbann::lbann_callback\l_summary::on_test_end" alt="" coords="203,150,365,191"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a54baea7cbe3cb6fcfcfd6498e2d28780"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::ring_allreduce </td>
          <td>(</td>
          <td class="paramtype">mpi::Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; uint8_t *(<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;, IR, IR, int &amp;, bool)&gt;&#160;</td>
          <td class="paramname"><em>send_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; int(uint8_t *, <a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>recv_apply_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>id_recv</em> = <code><a class="el" href="lbann__target__layer__unsupervised_8cpp.html#ae6c865df784842196d411c1466b01686">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An allreduce using ring-based reduce-scatter and allgather. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00454">454</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordtype">double</span> ar_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a> = mpi::Rank(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nprocs = mpi::Size(<a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (nprocs == 1) <span class="keywordflow">return</span>;  <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Compute the number of columns each processor sends.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keyword">const</span> Int cols_per_proc = mat.Width() / nprocs;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">const</span> Int cols_remainder = mat.Width() % nprocs;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Compute the lengths/ends of the slices.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  std::vector&lt;Int&gt; slice_lengths(nprocs, cols_per_proc);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cols_remainder; ++i) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    slice_lengths[i] += 1;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  std::vector&lt;Int&gt; slice_ends(nprocs);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  std::partial_sum(slice_lengths.begin(), slice_lengths.end(),</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                   slice_ends.begin());</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  uint8_t* recv_buf = <a class="code" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a>(max_recv_count);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Compute source/destination in the ring.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> src = (rank - 1 + nprocs) % nprocs;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> dst = (rank + 1) % nprocs;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// Do a ring-based reduce-scatter.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// This is like the pairwise-exchange reduce-scatter except instead of</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// rank i accumulating only slice i, the slices are cycled around and</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// each node accumulates its portion into the slice when it passes</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// through. After the nprocs-1 steps slice k will be on rank</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// (k + nprocs - 1) % nprocs.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordtype">double</span> rs_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step = 0; step &lt; nprocs - 1; ++step) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">// Compute the slices to send/recv.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> send_slice = (rank - step + nprocs) % nprocs;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> recv_slice = (rank - step - 1 + nprocs) % nprocs;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">// Transform the data to send.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    uint8_t* send_buf = send_transform(</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      mat, ALL, IR(slice_ends[send_slice] - slice_lengths[send_slice],</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                   slice_ends[send_slice]), send_size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">ar_rs_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    mpi::SendRecv(send_buf, send_size, dst,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                  recv_buf, max_recv_count, src, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">ar_rs_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">ar_rs_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keyword">auto</span> recv_view = mat(</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      ALL, IR(slice_ends[recv_slice] - slice_lengths[recv_slice],</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;              slice_ends[recv_slice]));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordtype">double</span> recv_apply_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordtype">int</span> recv_size = recv_apply_transform(recv_buf, recv_view);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">ar_recv_apply_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_apply_trans_start;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">ar_rs_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">ar_rs_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - rs_start;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// Do a ring allgather, first applying the transform to local data.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordtype">double</span> ag_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordtype">int</span> send_size;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> send_slice = (rank + 1) % nprocs;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> recv_slice = <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordtype">double</span> send_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    uint8_t* send_buf = send_transform(</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      mat, ALL, IR(slice_ends[send_slice] - slice_lengths[send_slice],</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                   slice_ends[send_slice]), send_size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">ar_send_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - send_trans_start;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keyword">auto</span> recv_view = mat(ALL,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                         IR(slice_ends[recv_slice] - slice_lengths[recv_slice],</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                            slice_ends[recv_slice]));</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// If we can, receive directly into the destination matrix.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      recv_buf = (uint8_t*) recv_view.Buffer();</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    mpi::SendRecv(send_buf, send_size, dst,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                  recv_buf, max_recv_count, src, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordtype">double</span> recv_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">int</span> recv_size = 0;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      recv_size = <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * recv_view.Height() * recv_view.Width();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      recv_size = recv_transform(recv_buf, recv_view);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_trans_start;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    send_size = recv_size;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  uint8_t* recv_buf2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (!id_recv) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    recv_buf2 = <a class="code" href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">get_collective_buffer</a>(max_recv_count, 1);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step = 1; step &lt; nprocs - 1; ++step) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> send_slice = (rank - step + 1 + nprocs) % nprocs;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> recv_slice = (rank - step + nprocs) % nprocs;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keyword">auto</span> recv_view = mat(ALL,</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                         IR(slice_ends[recv_slice] - slice_lengths[recv_slice],</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                            slice_ends[recv_slice]));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      recv_buf2 = (uint8_t*) recv_view.Buffer();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">ar_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">ar_ag_bytes_sent</a> += send_size;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">double</span> sendrecv_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    mpi::SendRecv(recv_buf, send_size, dst,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                  recv_buf2, max_recv_count, src, <a class="code" href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordtype">double</span> sendrecv_tot = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - sendrecv_start;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">ar_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">ar_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">ar_ag_send_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">ar_ag_recv_time</a> += sendrecv_tot;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordtype">double</span> recv_trans_start = <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordtype">int</span> recv_size = 0;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (id_recv) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      recv_size = <span class="keyword">sizeof</span>(<a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>) * recv_view.Height() * recv_view.Width();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      recv_size = recv_transform(recv_buf2, recv_view);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">ar_recv_transform_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - recv_trans_start;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// Swap the send and receive buffers.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    std::swap(recv_buf, recv_buf2);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    send_size = recv_size;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">ar_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">ar_ag_bytes_received</a> += recv_size;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">ar_ag_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ag_start;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">ar_time</a> += <a class="code" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">get_time</a>() - ar_start;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a48768342eb05c1c6cdaa52c3599b93c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a48768342eb05c1c6cdaa52c3599b93c8">lbann::lbann_comm::ar_ag_time</a></div><div class="ttdeci">double ar_ag_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00585">lbann_comm.hpp:585</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa642b0ae2321fa464b0092da527f6375"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa642b0ae2321fa464b0092da527f6375">lbann::lbann_comm::ar_recv_apply_transform_time</a></div><div class="ttdeci">double ar_recv_apply_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00588">lbann_comm.hpp:588</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a85022d803e339eb14a15129a07876c2b"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a85022d803e339eb14a15129a07876c2b">lbann::lbann_comm::ar_rs_time</a></div><div class="ttdeci">double ar_rs_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00584">lbann_comm.hpp:584</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a1896c3ecd1d5b084497c6ed47c1c9bae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a1896c3ecd1d5b084497c6ed47c1c9bae">lbann::lbann_comm::ar_ag_recv_time</a></div><div class="ttdeci">double ar_ag_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00594">lbann_comm.hpp:594</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2cfe1264a83865360692c48d7869fe67"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2cfe1264a83865360692c48d7869fe67">lbann::lbann_comm::ar_ag_bytes_sent</a></div><div class="ttdeci">size_t ar_ag_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00581">lbann_comm.hpp:581</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afded6f478dc5021d1edec306dc6c528c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afded6f478dc5021d1edec306dc6c528c">lbann::lbann_comm::ar_ag_bytes_received</a></div><div class="ttdeci">size_t ar_ag_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00582">lbann_comm.hpp:582</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adb393f47d60eaa59bace80d2d3dd3bf2"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adb393f47d60eaa59bace80d2d3dd3bf2">lbann::lbann_comm::ar_recv_transform_time</a></div><div class="ttdeci">double ar_recv_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00587">lbann_comm.hpp:587</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aaadab22d368e8004a9877828a3bc9e93"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aaadab22d368e8004a9877828a3bc9e93">lbann::lbann_comm::ar_rs_send_time</a></div><div class="ttdeci">double ar_rs_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00591">lbann_comm.hpp:591</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa520c16eafde742b70daf60866afc6a8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa520c16eafde742b70daf60866afc6a8">lbann::lbann_comm::ar_bytes_sent</a></div><div class="ttdeci">size_t ar_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00577">lbann_comm.hpp:577</a></div></div>
<div class="ttc" id="lbann__file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="lbann__file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__file__io_8cpp_source.html#l00044">lbann_file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa57d2fbeef85fd8a3c9f2a37ca7687c8"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa57d2fbeef85fd8a3c9f2a37ca7687c8">lbann::lbann_comm::ar_time</a></div><div class="ttdeci">double ar_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00583">lbann_comm.hpp:583</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2c3e1db0f6d2345748132322b0555db7"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2c3e1db0f6d2345748132322b0555db7">lbann::lbann_comm::ar_rs_bytes_received</a></div><div class="ttdeci">size_t ar_rs_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00580">lbann_comm.hpp:580</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ae925ac5eaf2895717c709b252961b3bf"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ae925ac5eaf2895717c709b252961b3bf">lbann::lbann_comm::get_collective_buffer</a></div><div class="ttdeci">uint8_t * get_collective_buffer(size_t size, size_t idx=0)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00798">lbann_comm.cpp:798</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_aa5f3c53358bf9002b9fab41918b0c8c1"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#aa5f3c53358bf9002b9fab41918b0c8c1">lbann::lbann_comm::ar_bytes_received</a></div><div class="ttdeci">size_t ar_bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00578">lbann_comm.hpp:578</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a60a664f47efb52d9936b72d34059d1ef"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a60a664f47efb52d9936b72d34059d1ef">lbann::lbann_comm::ar_send_time</a></div><div class="ttdeci">double ar_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00589">lbann_comm.hpp:589</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_adefa0ee8b0a6b74072448e20d40f502d"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#adefa0ee8b0a6b74072448e20d40f502d">lbann::lbann_comm::ar_rs_recv_time</a></div><div class="ttdeci">double ar_rs_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00592">lbann_comm.hpp:592</a></div></div>
<div class="ttc" id="namespacelbann_html_a478d36031ff0659893c4322cd856157f"><div class="ttname"><a href="namespacelbann.html#a478d36031ff0659893c4322cd856157f">lbann::get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__timer_8hpp_source.html#l00037">lbann_timer.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ac74bcfb565c1bb6604f336c6d1b647cc"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ac74bcfb565c1bb6604f336c6d1b647cc">lbann::lbann_comm::ar_rs_bytes_sent</a></div><div class="ttdeci">size_t ar_rs_bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00579">lbann_comm.hpp:579</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a64cb0b86e9368c1d83370ba6cb0083ba"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a64cb0b86e9368c1d83370ba6cb0083ba">lbann::lbann_comm::ar_ag_send_time</a></div><div class="ttdeci">double ar_ag_send_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00593">lbann_comm.hpp:593</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00037">lbann_base.hpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4e3d35520a8f567579f9235e9808ba1c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4e3d35520a8f567579f9235e9808ba1c">lbann::lbann_comm::ar_send_transform_time</a></div><div class="ttdeci">double ar_send_transform_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00586">lbann_comm.hpp:586</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a4c9323938961c3524dc67f4b7b47e3ae"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a4c9323938961c3524dc67f4b7b47e3ae">lbann::lbann_comm::ar_recv_time</a></div><div class="ttdeci">double ar_recv_time</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00590">lbann_comm.hpp:590</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a54baea7cbe3cb6fcfcfd6498e2d28780_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a54baea7cbe3cb6fcfcfd6498e2d28780_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a54baea7cbe3cb6fcfcfd6498e2d28780_cgraph" id="classlbann_1_1lbann__comm_a54baea7cbe3cb6fcfcfd6498e2d28780_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a478d36031ff0659893c4322cd856157f" title="lbann::get_time" alt="" coords="198,12,309,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a086078b881e7250df140ac116adb1939"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::send </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send a buffer to rank in model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00248">248</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                                             {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T) * count;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      mpi::Send(data, count, <a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>), mpi::COMM_WORLD);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a676b64be1b9429b85e8dac09728ba490"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">lbann::lbann_comm::get_world_rank</a></div><div class="ttdeci">int get_world_rank(int model, int rank) const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00066">lbann_comm.hpp:66</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12ddcc441fa1073aff23797c3c923ef6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::send </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00252">252</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                                         {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>(data, count, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe61fbe179f33f90d313497a1f146cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00174">174</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                        {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>(mat.Buffer(), mat.Height() * mat.Width(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79f36c9c66f8134d319df614ec599230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00178">178</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                            {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="structlayer__header.html#a325142c0466170c6627710106275c7fd">rank</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="structlayer__header_html_a325142c0466170c6627710106275c7fd"><div class="ttname"><a href="structlayer__header.html#a325142c0466170c6627710106275c7fd">layer_header::rank</a></div><div class="ttdeci">uint64_t rank</div><div class="ttdef"><b>Definition:</b> <a href="lbann__persist_8cpp_source.html#l00059">lbann_persist.cpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa91c0587ae25a9824e6323002f59c040"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00257">257</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{ <a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>); }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_cgraph" id="classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_icgraph" id="classlbann_1_1lbann__comm_aa91c0587ae25a9824e6323002f59c040_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f8cff639b94813cb79963e2ce3d49da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a8e774b79084797a8f87918d8f66b6802">DistMat</a> &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00258">258</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{ <a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>(mat, <a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>); }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="namespacelbann_html_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c"><div class="ttname"><a href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">lbann::persist_type::model</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_cgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_cgraph" id="classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_icgraph" id="classlbann_1_1lbann__comm_a1f8cff639b94813cb79963e2ce3d49da_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a178261e3ecb101cf9add514845235eb3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::sendrecv </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>send_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>send_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>send_rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send/recv to/from ranks. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00328">328</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                                                          {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T) * send_count;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * recv_count;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      mpi::SendRecv(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, send_count, <a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(send_model, send_rank),</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, recv_count, <a class="code" href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">get_world_rank</a>(recv_model, recv_rank),</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    mpi::COMM_WORLD);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a676b64be1b9429b85e8dac09728ba490"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a676b64be1b9429b85e8dac09728ba490">lbann::lbann_comm::get_world_rank</a></div><div class="ttdeci">int get_world_rank(int model, int rank) const </div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00066">lbann_comm.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2f85e0c03f0f4f48a0ae466882bc4f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::sendrecv </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>send_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>send_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00337">337</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                                           {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">bytes_sent</a> += <span class="keyword">sizeof</span>(T) * send_count;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">bytes_received</a> += <span class="keyword">sizeof</span>(T) * recv_count;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="classlbann_1_1lbann__comm.html#a178261e3ecb101cf9add514845235eb3">sendrecv</a>(<a class="code" href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">send</a>, send_count, send_model, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;               <a class="code" href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">recv</a>, recv_count, recv_model, <a class="code" href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">rank_in_model</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_af8842cd4cea390f76d9146e1c4578de4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#af8842cd4cea390f76d9146e1c4578de4">lbann::lbann_comm::recv</a></div><div class="ttdeci">void recv(T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00281">lbann_comm.hpp:281</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_afb99f57f7eafc0695bf28e6c26a8120f"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#afb99f57f7eafc0695bf28e6c26a8120f">lbann::lbann_comm::bytes_received</a></div><div class="ttdeci">size_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00575">lbann_comm.hpp:575</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a086078b881e7250df140ac116adb1939"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a086078b881e7250df140ac116adb1939">lbann::lbann_comm::send</a></div><div class="ttdeci">void send(const T *data, int count, int model, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00248">lbann_comm.hpp:248</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a0dcccd57c2b591eb7682e192e0a09033"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a0dcccd57c2b591eb7682e192e0a09033">lbann::lbann_comm::rank_in_model</a></div><div class="ttdeci">int rank_in_model</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00560">lbann_comm.hpp:560</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a178261e3ecb101cf9add514845235eb3"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a178261e3ecb101cf9add514845235eb3">lbann::lbann_comm::sendrecv</a></div><div class="ttdeci">void sendrecv(const T *send, int send_count, int send_model, int send_rank, T *recv, int recv_count, int recv_model, int recv_rank)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00328">lbann_comm.hpp:328</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ad1f146ae7337ece6266fd307944928e0"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ad1f146ae7337ece6266fd307944928e0">lbann::lbann_comm::bytes_sent</a></div><div class="ttdeci">size_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00574">lbann_comm.hpp:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a44bc6b8683f04c2a3fc2f01fc734a946"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::setup_node_comm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup communicator for processes in the same compute node. We obtain a string specifying the compute node. The string is hashed (with salt) and used to split the communicators. To avoid hash collisions, the splitting procedure is repeated with a different salt. </p>

<p>Definition at line <a class="el" href="lbann__comm_8cpp_source.html#l00759">759</a> of file <a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                                      {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// Get string specifying compute node</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordtype">char</span> node_name[MPI_MAX_PROCESSOR_NAME];</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordtype">int</span> node_name_len;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <a class="code" href="lbann__comm_8cpp.html#a7a92ceb4ddf57dc156d3a1b39f3ab962">checkMPI</a>(MPI_Get_processor_name(node_name, &amp;node_name_len));</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keyword">const</span> std::string node_string(node_name);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// Hash node names and split MPI processes</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordtype">int</span> hash = std::hash&lt;std::string&gt;()(node_string);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  hash = hash &gt;= 0 ? hash : -hash;  <span class="comment">// Make sure hash is non-negative</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  mpi::Comm hash_comm;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  mpi::Split(mpi::COMM_WORLD, hash, mpi::Rank(mpi::COMM_WORLD), hash_comm);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> hash_comm_size = mpi::Size(hash_comm);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// Compare node names and split MPI processes</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordtype">char</span>* node_name_list = <span class="keyword">new</span> <span class="keywordtype">char</span>[hash_comm_size*MPI_MAX_PROCESSOR_NAME];</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="lbann__comm_8cpp.html#a7a92ceb4ddf57dc156d3a1b39f3ab962">checkMPI</a>(MPI_Allgather(node_name, MPI_MAX_PROCESSOR_NAME, MPI_CHAR,</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                         node_name_list, MPI_MAX_PROCESSOR_NAME, MPI_CHAR,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                         hash_comm.comm));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordtype">int</span> node_num = mpi::Rank(hash_comm);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;hash_comm_size; ++i) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">const</span> std::string other_node_string(node_name_list + i*MPI_MAX_PROCESSOR_NAME);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">if</span>(node_string == other_node_string) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      node_num = i;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keyword">delete</span>[] node_name_list;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  mpi::Split(hash_comm, node_num, mpi::Rank(mpi::COMM_WORLD), <a class="code" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  mpi::Free(hash_comm);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="comment">// Set up the list of model ranks on this node.</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordtype">int</span> node_comm_size = mpi::Size(<a class="code" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; node_comm_size; ++i) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">model_ranks_on_node</a>.push_back(mpi::Translate(<a class="code" href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">node_comm</a>, i, <a class="code" href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">model_comm</a>));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a3a9eff49cac3746acd169889fda79893"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a3a9eff49cac3746acd169889fda79893">lbann::lbann_comm::model_comm</a></div><div class="ttdeci">mpi::Comm model_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00546">lbann_comm.hpp:546</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a2289ce67222485f0df95ce75af4a9a50"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a2289ce67222485f0df95ce75af4a9a50">lbann::lbann_comm::model_ranks_on_node</a></div><div class="ttdeci">std::vector&lt; int &gt; model_ranks_on_node</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00566">lbann_comm.hpp:566</a></div></div>
<div class="ttc" id="lbann__comm_8cpp_html_a7a92ceb4ddf57dc156d3a1b39f3ab962"><div class="ttname"><a href="lbann__comm_8cpp.html#a7a92ceb4ddf57dc156d3a1b39f3ab962">checkMPI</a></div><div class="ttdeci">#define checkMPI(status)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8cpp_source.html#l00052">lbann_comm.cpp:52</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a9f1f65663ca1d441f98f003b612eeb8c"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a9f1f65663ca1d441f98f003b612eeb8c">lbann::lbann_comm::node_comm</a></div><div class="ttdeci">mpi::Comm node_comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00550">lbann_comm.hpp:550</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946_icgraph.png" border="0" usemap="#classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946_icgraph" id="classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__comm.html#a9f9eb5d1e219d3dcab9b14f790b30e26" title="lbann::lbann_comm::\llbann_comm" alt="" coords="198,5,341,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44faf6c010f45067e2951350e9e52d37"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_comm::wait </td>
          <td>(</td>
          <td class="paramtype">mpi::Request&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wait for a non-blocking request to complete. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00235">235</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                  {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      mpi::Wait(req);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afded6f478dc5021d1edec306dc6c528c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::ar_ag_bytes_received</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00582">582</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2cfe1264a83865360692c48d7869fe67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::ar_ag_bytes_sent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00581">581</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1896c3ecd1d5b084497c6ed47c1c9bae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_ag_recv_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00594">594</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a64cb0b86e9368c1d83370ba6cb0083ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_ag_send_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00593">593</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a48768342eb05c1c6cdaa52c3599b93c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_ag_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00585">585</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa5f3c53358bf9002b9fab41918b0c8c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::ar_bytes_received</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00578">578</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa520c16eafde742b70daf60866afc6a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::ar_bytes_sent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00577">577</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa642b0ae2321fa464b0092da527f6375"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_recv_apply_transform_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00588">588</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4c9323938961c3524dc67f4b7b47e3ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_recv_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00590">590</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adb393f47d60eaa59bace80d2d3dd3bf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_recv_transform_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00587">587</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2c3e1db0f6d2345748132322b0555db7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::ar_rs_bytes_received</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00580">580</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac74bcfb565c1bb6604f336c6d1b647cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::ar_rs_bytes_sent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00579">579</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adefa0ee8b0a6b74072448e20d40f502d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_rs_recv_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00592">592</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaadab22d368e8004a9877828a3bc9e93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_rs_send_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00591">591</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a85022d803e339eb14a15129a07876c2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_rs_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00584">584</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a60a664f47efb52d9936b72d34059d1ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_send_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00589">589</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4e3d35520a8f567579f9235e9808ba1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_send_transform_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00586">586</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa57d2fbeef85fd8a3c9f2a37ca7687c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lbann::lbann_comm::ar_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00583">583</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="afb99f57f7eafc0695bf28e6c26a8120f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::bytes_received</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00575">575</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad1f146ae7337ece6266fd307944928e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::bytes_sent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00574">574</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a79fa8f1cc5a6a57cc0640cd81ce7f3ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;size_t, std::vector&lt;uint8_t*&gt; &gt; lbann::lbann_comm::collective_bufs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pre-allocated buffers for collectives. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00568">568</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a29fb31be115db3225b145f250a7778d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a4c600bf682fbf8018385607476e4bd13">Grid</a>* lbann::lbann_comm::grid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Grid for this model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00552">552</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4797dcdf39d18c4c8335dc012186a8b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpi::Comm lbann::lbann_comm::intermodel_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Communicator for every process with the same model rank. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00548">548</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3a9eff49cac3746acd169889fda79893"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpi::Comm lbann::lbann_comm::model_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Communicator for every process in this model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00546">546</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1f3f90a996dbba4cd1cca60596933ea3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::model_rank</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rank of the model this process is in. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00558">558</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2289ce67222485f0df95ce75af4a9a50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; lbann::lbann_comm::model_ranks_on_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The list of ranks in the model_comm that are on this compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00566">566</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9f1f65663ca1d441f98f003b612eeb8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpi::Comm lbann::lbann_comm::node_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Communicator for every process in the same compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00550">550</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4f01e2f2d8220dc34cf39eb4a255cd7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::num_global_barriers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00573">573</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a03d946ef5ea5d3b15351e78a2eed10fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::num_intermodel_barriers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00572">572</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa4f15459eca2a06174a877ba0c23feb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::lbann_comm::num_model_barriers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00571">571</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a256ff5a0bafb33f43784ffc8dd2d29cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::num_models</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of models. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00554">554</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7cb55d127259d7ed9f07ccde6f4ebd8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::procs_per_model</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of processors per model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00556">556</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2ffc59f0c1d97df2ca6845312c8c8b3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::procs_per_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of processers per compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00562">562</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5650eece94f78b913f47aa2274853366"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int lbann::lbann_comm::PT2PT_TAG = 42</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>MPI tag for point-to-point communication. (Unused) </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00597">597</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0dcccd57c2b591eb7682e192e0a09033"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::rank_in_model</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rank of this process within its model. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00560">560</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abb5c8b008b5cac11702bf1f991c78ab0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_comm::rank_in_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rank of this process within its compute node. </p>

<p>Definition at line <a class="el" href="lbann__comm_8hpp_source.html#l00564">564</a> of file <a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/LLNL/lbann/include/lbann/<a class="el" href="lbann__comm_8hpp_source.html">lbann_comm.hpp</a></li>
<li>/home/travis/build/LLNL/lbann/src/<a class="el" href="lbann__comm_8cpp_source.html">lbann_comm.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a></li>
    <li class="footer">Generated on Tue May 23 2017 08:37:08 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
