<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LBANN: lbann::io_layer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
  <div class="navpath"><a class="el" href="namespacelbann.html">lbann</a>::<a class="el" href="classlbann_1_1io__layer.html">io_layer</a>
  </div>
<div class="contents">
<h1>lbann::io_layer Class Reference</h1><!-- doxytag: class="lbann::io_layer" --><!-- doxytag: inherits="lbann::Layer" -->
<p><code>#include &lt;<a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::io_layer:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer__inherit__graph.png" border="0" usemap="#lbann_1_1io__layer_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1io__layer_inherit__map" id="lbann_1_1io__layer_inherit__map">
<area shape="rect" id="node5" href="classlbann_1_1input__layer.html" title="lbann::input_layer" alt="" coords="305,59,428,88"/><area shape="rect" id="node11" href="classlbann_1_1target__layer.html" title="lbann::target_layer" alt="" coords="303,139,431,168"/><area shape="rect" id="node2" href="classlbann_1_1Layer.html" title="lbann::Layer" alt="" coords="5,85,99,115"/><area shape="rect" id="node7" href="classlbann_1_1input__layer__distributed__minibatch.html" title="lbann::input_layer_distributed_minibatch" alt="" coords="516,5,769,35"/><area shape="rect" id="node9" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html" title="lbann::input_layer_distributed_minibatch_parallel_io" alt="" coords="484,59,801,88"/><area shape="rect" id="node13" href="classlbann_1_1target__layer__distributed__minibatch.html" title="lbann::target_layer_distributed_minibatch" alt="" coords="513,112,772,141"/><area shape="rect" id="node15" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html" title="lbann::target_layer_distributed_minibatch_parallel_io" alt="" coords="481,165,804,195"/><area shape="rect" id="node17" href="classlbann_1_1target__layer__unsupervised.html" title="lbann::target_layer_unsupervised" alt="" coords="536,219,749,248"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::io_layer:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer__coll__graph.png" border="0" usemap="#lbann_1_1io__layer_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1io__layer_coll__map" id="lbann_1_1io__layer_coll__map">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html" title="lbann::Layer" alt="" coords="216,101,309,131"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html" title="lbann::lbann_comm" alt="" coords="5,5,139,35"/><area shape="rect" id="node6" href="classlbann_1_1Optimizer.html" title="lbann::Optimizer" alt="" coords="163,5,280,35"/><area shape="rect" id="node8" href="classlbann_1_1Activation.html" title="lbann::Activation" alt="" coords="304,5,421,35"/><area shape="rect" id="node10" href="classlbann_1_1dataset.html" title="lbann::dataset" alt="" coords="416,101,520,131"/><area shape="rect" id="node12" href="classlbann_1_1DataReader.html" title="lbann::DataReader" alt="" coords="445,5,576,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classlbann_1_1io__layer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a716471d986197099cf989b1740497b62">io_layer</a> (<a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, std::map&lt; <a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> * &gt; data_readers, std::vector&lt; <a class="el" href="classlbann_1_1regularizer.html">regularizer</a> * &gt; regs={}, bool data_sets_span_models=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#af28dac8d9a030b3554c460722236d067">setup_data_readers</a> (int base_offset, int stride, int model_offset=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#ae400abb9ed5e3ad2c8df1efc0168bc0a">select_data_reader</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a2f041f30ef460bd2064be4c9988b6ffe">set_training_data_reader</a> (<a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *data_reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a147126a1a4372a36a9a52e9632dd2bfc">set_validation_data_reader</a> (<a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *data_reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a73ebdd84af9e419d2f21013cf60da207">set_testing_data_reader</a> (<a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *data_reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#abbf07dd592d714852090c12855983592">update_num_samples_processed</a> (long num_samples)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a1292e85a308160a1ce1ca0be83a962b6">get_num_samples_trained</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a7a7a678d96785ef6d0b11a04677307a5">get_num_samples_tested</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#aaf6c801c13a6488f0715b2f851f4a35f">get_total_num_training_samples</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a877f6511133c2705b38522e8157a59d4">get_total_num_testing_samples</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#abe71d3ff37e3a3ddbb470347458a07ec">get_linearized_data_size</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a3c39307b9bc8166e5034488344445d1e">get_linearized_label_size</a> ()</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1dataset.html">dataset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1dataset.html">dataset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1dataset.html">dataset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1io__layer.html#a8ce9b172521bbcf55c1040a3c28719b1">m_data_sets_span_models</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00036">36</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a716471d986197099cf989b1740497b62"></a><!-- doxytag: member="lbann::io_layer::io_layer" ref="a716471d986197099cf989b1740497b62" args="(lbann_comm *comm, uint mini_batch_size, std::map&lt; execution_mode, DataReader * &gt; data_readers, std::vector&lt; regularizer * &gt; regs={}, bool data_sets_span_models=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::io_layer::io_layer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&nbsp;</td>
          <td class="paramname"> <em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>mini_batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> * &gt;&nbsp;</td>
          <td class="paramname"> <em>data_readers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abe71d3ff37e3a3ddbb470347458a07ec"></a><!-- doxytag: member="lbann::io_layer::get_linearized_data_size" ref="abe71d3ff37e3a3ddbb470347458a07ec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::get_linearized_data_size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>NumNeurons should be hidden inside of an accessor function </dd></dl>
</p>

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00129">129</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00129"></a>00129                                              {
<a name="l00130"></a>00130   <span class="keywordtype">long</span> linearized_data_size = -1;
<a name="l00131"></a>00131 
<a name="l00133"></a>00133 
<a name="l00134"></a>00134   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00135"></a>00135     <span class="keywordtype">long</span> tmp_linearized_data_size = <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader-&gt;get_linearized_data_size();
<a name="l00136"></a>00136     <span class="keywordflow">if</span>(linearized_data_size != -1 &amp;&amp; linearized_data_size != tmp_linearized_data_size) {
<a name="l00137"></a>00137       <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: training data set size does not match the currently established data set size&quot;</span>);
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139     linearized_data_size = tmp_linearized_data_size;
<a name="l00140"></a>00140   }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00143"></a>00143     <span class="keywordtype">long</span> tmp_linearized_data_size = <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader-&gt;get_linearized_data_size();
<a name="l00144"></a>00144     <span class="keywordflow">if</span>(linearized_data_size != -1 &amp;&amp; linearized_data_size != tmp_linearized_data_size) {
<a name="l00145"></a>00145       <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: validation data set size does not match the currently established data set size&quot;</span>);
<a name="l00146"></a>00146     }
<a name="l00147"></a>00147     linearized_data_size = tmp_linearized_data_size;
<a name="l00148"></a>00148   }
<a name="l00149"></a>00149 
<a name="l00150"></a>00150   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00151"></a>00151     <span class="keywordtype">long</span> tmp_linearized_data_size = <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader-&gt;get_linearized_data_size();
<a name="l00152"></a>00152     <span class="keywordflow">if</span>(linearized_data_size != -1 &amp;&amp; linearized_data_size != tmp_linearized_data_size) {
<a name="l00153"></a>00153       <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: testing data set size does not match the currently established data set size&quot;</span>);
<a name="l00154"></a>00154     }
<a name="l00155"></a>00155     linearized_data_size = tmp_linearized_data_size;
<a name="l00156"></a>00156   }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   <span class="keywordflow">return</span> linearized_data_size;
<a name="l00159"></a>00159 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_cgraph.png" border="0" usemap="#classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_cgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_cgraph_map" id="classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a4324d4deedbb92f5306b3289c4812f9f" title="lbann::DataReader::get_linearized_data_size" alt="" coords="312,5,595,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_icgraph_map" id="classlbann_1_1io__layer_abe71d3ff37e3a3ddbb470347458a07ec_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1target__layer__unsupervised.html#a2c42556340f1f7a695ad39c85b9a0c10" title="lbann::target_layer_unsupervised::setup" alt="" coords="312,5,565,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c39307b9bc8166e5034488344445d1e"></a><!-- doxytag: member="lbann::io_layer::get_linearized_label_size" ref="a3c39307b9bc8166e5034488344445d1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::get_linearized_label_size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>NumNeurons should be hidden inside of an accessor function </dd></dl>
</p>

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00161">161</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00161"></a>00161                                               {
<a name="l00162"></a>00162   <span class="keywordtype">long</span> linearized_label_size = -1;
<a name="l00163"></a>00163 
<a name="l00165"></a>00165 
<a name="l00166"></a>00166   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00167"></a>00167     <span class="keywordtype">long</span> tmp_linearized_label_size = <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader-&gt;get_linearized_label_size();
<a name="l00168"></a>00168     <span class="keywordflow">if</span>(linearized_label_size != -1 &amp;&amp; linearized_label_size != tmp_linearized_label_size) {
<a name="l00169"></a>00169       <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: training label set size does not match the currently established label set size&quot;</span>);
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171     linearized_label_size = tmp_linearized_label_size;
<a name="l00172"></a>00172   }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00175"></a>00175     <span class="keywordtype">long</span> tmp_linearized_label_size = <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader-&gt;get_linearized_label_size();
<a name="l00176"></a>00176     <span class="keywordflow">if</span>(linearized_label_size != -1 &amp;&amp; linearized_label_size != tmp_linearized_label_size) {
<a name="l00177"></a>00177       <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: validation label set size does not match the currently established label set size&quot;</span>);
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179     linearized_label_size = tmp_linearized_label_size;
<a name="l00180"></a>00180   }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00183"></a>00183     <span class="keywordtype">long</span> tmp_linearized_label_size = <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader-&gt;get_linearized_label_size();
<a name="l00184"></a>00184     <span class="keywordflow">if</span>(linearized_label_size != -1 &amp;&amp; linearized_label_size != tmp_linearized_label_size) {
<a name="l00185"></a>00185       <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: testing label set size does not match the currently established label set size&quot;</span>);
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187     linearized_label_size = tmp_linearized_label_size;
<a name="l00188"></a>00188   }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190   <span class="keywordflow">return</span> linearized_label_size;
<a name="l00191"></a>00191 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_cgraph.png" border="0" usemap="#classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_cgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_cgraph_map" id="classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a09ed170d559c2e8c61678c83a178a804" title="lbann::DataReader::get_linearized_label_size" alt="" coords="313,5,596,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_icgraph_map" id="classlbann_1_1io__layer_a3c39307b9bc8166e5034488344445d1e_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1target__layer.html#aa14c73d9d7ba12f718cf7f8ed0137c93" title="lbann::target_layer::target_layer" alt="" coords="312,5,517,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a7a678d96785ef6d0b11a04677307a5"></a><!-- doxytag: member="lbann::io_layer::get_num_samples_tested" ref="a7a7a678d96785ef6d0b11a04677307a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::get_num_samples_tested </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00048">48</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00048"></a>00048 { <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.num_samples_processed; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a7a7a678d96785ef6d0b11a04677307a5_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_a7a7a678d96785ef6d0b11a04677307a5_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a7a7a678d96785ef6d0b11a04677307a5_icgraph_map" id="classlbann_1_1io__layer_a7a7a678d96785ef6d0b11a04677307a5_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__io.html#a94c8f73dcab680c4e30005bd8ec043cc" title="lbann::lbann_callback_io::on_test_end" alt="" coords="317,5,560,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1292e85a308160a1ce1ca0be83a962b6"></a><!-- doxytag: member="lbann::io_layer::get_num_samples_trained" ref="a1292e85a308160a1ce1ca0be83a962b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::get_num_samples_trained </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00047">47</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00047"></a>00047 { <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.num_samples_processed; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a1292e85a308160a1ce1ca0be83a962b6_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_a1292e85a308160a1ce1ca0be83a962b6_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a1292e85a308160a1ce1ca0be83a962b6_icgraph_map" id="classlbann_1_1io__layer_a1292e85a308160a1ce1ca0be83a962b6_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__io.html#ae6e0e8850a2c7fb1a49f955d08e1680f" title="lbann::lbann_callback_io::on_epoch_end" alt="" coords="320,5,576,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a877f6511133c2705b38522e8157a59d4"></a><!-- doxytag: member="lbann::io_layer::get_total_num_testing_samples" ref="a877f6511133c2705b38522e8157a59d4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::get_total_num_testing_samples </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00050">50</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00050"></a>00050 { <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.total_samples; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a877f6511133c2705b38522e8157a59d4_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_a877f6511133c2705b38522e8157a59d4_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a877f6511133c2705b38522e8157a59d4_icgraph_map" id="classlbann_1_1io__layer_a877f6511133c2705b38522e8157a59d4_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__io.html#a94c8f73dcab680c4e30005bd8ec043cc" title="lbann::lbann_callback_io::on_test_end" alt="" coords="352,5,595,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf6c801c13a6488f0715b2f851f4a35f"></a><!-- doxytag: member="lbann::io_layer::get_total_num_training_samples" ref="aaf6c801c13a6488f0715b2f851f4a35f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::get_total_num_training_samples </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00049">49</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 { <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.total_samples; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_aaf6c801c13a6488f0715b2f851f4a35f_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_aaf6c801c13a6488f0715b2f851f4a35f_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_aaf6c801c13a6488f0715b2f851f4a35f_icgraph_map" id="classlbann_1_1io__layer_aaf6c801c13a6488f0715b2f851f4a35f_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__io.html#ae6e0e8850a2c7fb1a49f955d08e1680f" title="lbann::lbann_callback_io::on_epoch_end" alt="" coords="355,5,611,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae400abb9ed5e3ad2c8df1efc0168bc0a"></a><!-- doxytag: member="lbann::io_layer::select_data_reader" ref="ae400abb9ed5e3ad2c8df1efc0168bc0a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1DataReader.html">lbann::DataReader</a> * lbann::io_layer::select_data_reader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00087">87</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00087"></a>00087                                                    {
<a name="l00088"></a>00088   <span class="keywordflow">switch</span>(<a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a>) {
<a name="l00089"></a>00089   <span class="keywordflow">case</span> <a class="code" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aef839bdee87b9298d9be97d3f9c90469">execution_mode::training</a>:
<a name="l00090"></a>00090     <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader;
<a name="l00091"></a>00091     <span class="keywordflow">break</span>;
<a name="l00092"></a>00092   <span class="keywordflow">case</span> <a class="code" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8ade2ab1918cbd80e8332e87ef162075be">execution_mode::validation</a>:
<a name="l00093"></a>00093     <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader;
<a name="l00094"></a>00094     <span class="keywordflow">break</span>;
<a name="l00095"></a>00095   <span class="keywordflow">case</span> <a class="code" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8a3f687cacfa4f67ecb465589ee1b37da6">execution_mode::testing</a>:
<a name="l00096"></a>00096     <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader;
<a name="l00097"></a>00097     <span class="keywordflow">break</span>;
<a name="l00098"></a>00098   <span class="comment">// case prediction:</span>
<a name="l00099"></a>00099   <span class="comment">//   return m_prediction_data_reader;</span>
<a name="l00100"></a>00100   <span class="comment">//   break;</span>
<a name="l00101"></a>00101   <span class="keywordflow">default</span>:
<a name="l00102"></a>00102     <span class="keywordflow">throw</span> -1;
<a name="l00103"></a>00103   }
<a name="l00104"></a>00104 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_ae400abb9ed5e3ad2c8df1efc0168bc0a_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_ae400abb9ed5e3ad2c8df1efc0168bc0a_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_ae400abb9ed5e3ad2c8df1efc0168bc0a_icgraph_map" id="classlbann_1_1io__layer_ae400abb9ed5e3ad2c8df1efc0168bc0a_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac848395e55b96cf53462d67efc42efb9" title="lbann::target_layer_distributed_minibatch_parallel_io::fetch_from_data_reader" alt="" coords="283,5,752,35"/><area shape="rect" id="node5" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#a63ac1e19f5ef461c23496a5169eaa3f4" title="lbann::input_layer_distributed_minibatch_parallel_io::fetch_from_data_reader" alt="" coords="285,59,749,88"/><area shape="rect" id="node7" href="classlbann_1_1target__layer__distributed__minibatch.html#ac65d7338c511d59e5f8e779bd7688919" title="lbann::target_layer_distributed_minibatch::forwardProp" alt="" coords="349,112,685,141"/><area shape="rect" id="node9" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#ab6fb4866fd63f04a95e61cbb0892f826" title="lbann::input_layer_distributed_minibatch_parallel_io::fp_linearity" alt="" coords="323,165,712,195"/><area shape="rect" id="node11" href="classlbann_1_1input__layer__distributed__minibatch.html#a91b3ae3646cce454264f66e97afcc0bd" title="lbann::input_layer_distributed_minibatch::fp_linearity" alt="" coords="355,219,680,248"/><area shape="rect" id="node13" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#ad6fee7878bdf7b3f3f0c43ff4e0e0b20" title="lbann::input_layer_distributed_minibatch_parallel_io::preprocess_data_samples" alt="" coords="279,272,756,301"/><area shape="rect" id="node15" href="classlbann_1_1target__layer__distributed__minibatch.html#a9e6fb3d242f50ca174110f238d75a2f8" title="lbann::target_layer_distributed_minibatch::update" alt="" coords="364,325,671,355"/><area shape="rect" id="node17" href="classlbann_1_1input__layer__distributed__minibatch.html#a089d3b4debe9bce1e862d979a9ba9f3c" title="lbann::input_layer_distributed_minibatch::update" alt="" coords="367,379,668,408"/><area shape="rect" id="node19" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a06800a7f630fef832057bd232911efb2" title="lbann::target_layer_distributed_minibatch_parallel_io::update_data_reader" alt="" coords="295,432,740,461"/><area shape="rect" id="node21" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#adc092363f45b022429bf094ce1633f56" title="lbann::input_layer_distributed_minibatch_parallel_io::update_data_reader" alt="" coords="297,485,737,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a73ebdd84af9e419d2f21013cf60da207"></a><!-- doxytag: member="lbann::io_layer::set_testing_data_reader" ref="a73ebdd84af9e419d2f21013cf60da207" args="(DataReader *data_reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1DataReader.html">lbann::DataReader</a> * lbann::io_layer::set_testing_data_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td>
          <td class="paramname"> <em>data_reader</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>put in a check to make sure that this is a data reader that matches what was already there </dd></dl>
</p>

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00077">77</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077                                                                                {
<a name="l00080"></a>00080   DataReader *old_data_reader = <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader;
<a name="l00081"></a>00081   <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader = data_reader;
<a name="l00082"></a>00082   <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.num_samples_processed = 0;
<a name="l00083"></a>00083   <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.total_samples = data_reader-&gt;getNumData();
<a name="l00084"></a>00084   <span class="keywordflow">return</span> old_data_reader;
<a name="l00085"></a>00085 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a73ebdd84af9e419d2f21013cf60da207_cgraph.png" border="0" usemap="#classlbann_1_1io__layer_a73ebdd84af9e419d2f21013cf60da207_cgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a73ebdd84af9e419d2f21013cf60da207_cgraph_map" id="classlbann_1_1io__layer_a73ebdd84af9e419d2f21013cf60da207_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a78d3f20a5ab7628011068127ea8b4028" title="lbann::DataReader::getNumData" alt="" coords="307,5,520,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2f041f30ef460bd2064be4c9988b6ffe"></a><!-- doxytag: member="lbann::io_layer::set_training_data_reader" ref="a2f041f30ef460bd2064be4c9988b6ffe" args="(DataReader *data_reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1DataReader.html">lbann::DataReader</a> * lbann::io_layer::set_training_data_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td>
          <td class="paramname"> <em>data_reader</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>put in a check to make sure that this is a data reader that matches what was already there </dd></dl>
</p>

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00057">57</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057                                                                                 {
<a name="l00060"></a>00060   DataReader *old_data_reader = <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader;
<a name="l00061"></a>00061   <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader = data_reader;
<a name="l00062"></a>00062   <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.num_samples_processed = 0;
<a name="l00063"></a>00063   <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.total_samples = data_reader-&gt;getNumData();
<a name="l00064"></a>00064   <span class="keywordflow">return</span> old_data_reader;
<a name="l00065"></a>00065 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a2f041f30ef460bd2064be4c9988b6ffe_cgraph.png" border="0" usemap="#classlbann_1_1io__layer_a2f041f30ef460bd2064be4c9988b6ffe_cgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a2f041f30ef460bd2064be4c9988b6ffe_cgraph_map" id="classlbann_1_1io__layer_a2f041f30ef460bd2064be4c9988b6ffe_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a78d3f20a5ab7628011068127ea8b4028" title="lbann::DataReader::getNumData" alt="" coords="309,5,523,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a147126a1a4372a36a9a52e9632dd2bfc"></a><!-- doxytag: member="lbann::io_layer::set_validation_data_reader" ref="a147126a1a4372a36a9a52e9632dd2bfc" args="(DataReader *data_reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1DataReader.html">lbann::DataReader</a> * lbann::io_layer::set_validation_data_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&nbsp;</td>
          <td class="paramname"> <em>data_reader</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>put in a check to make sure that this is a data reader that matches what was already there </dd></dl>
</p>

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00067">67</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067                                                                                   {
<a name="l00070"></a>00070   DataReader *old_data_reader = <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader;
<a name="l00071"></a>00071   <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader = data_reader;
<a name="l00072"></a>00072   <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.num_samples_processed = 0;
<a name="l00073"></a>00073   <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.total_samples = data_reader-&gt;getNumData();
<a name="l00074"></a>00074   <span class="keywordflow">return</span> old_data_reader;
<a name="l00075"></a>00075 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_a147126a1a4372a36a9a52e9632dd2bfc_cgraph.png" border="0" usemap="#classlbann_1_1io__layer_a147126a1a4372a36a9a52e9632dd2bfc_cgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_a147126a1a4372a36a9a52e9632dd2bfc_cgraph_map" id="classlbann_1_1io__layer_a147126a1a4372a36a9a52e9632dd2bfc_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a78d3f20a5ab7628011068127ea8b4028" title="lbann::DataReader::getNumData" alt="" coords="323,5,536,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af28dac8d9a030b3554c460722236d067"></a><!-- doxytag: member="lbann::io_layer::setup_data_readers" ref="af28dac8d9a030b3554c460722236d067" args="(int base_offset, int stride, int model_offset=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::io_layer::setup_data_readers </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>base_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>model_offset</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00193">193</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00193"></a>00193                                                                                     {
<a name="l00194"></a>00194   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00195"></a>00195     <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.data_reader-&gt;setup(base_offset, stride, model_offset, <a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>);
<a name="l00196"></a>00196   }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00199"></a>00199     <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.data_reader-&gt;setup(base_offset, stride, model_offset, <a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>);
<a name="l00200"></a>00200   }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202   <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00203"></a>00203     <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.data_reader-&gt;setup(base_offset, stride, model_offset, <a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>);
<a name="l00204"></a>00204   }
<a name="l00205"></a>00205   <span class="keywordflow">return</span>;
<a name="l00206"></a>00206 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_cgraph.png" border="0" usemap="#classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_cgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_cgraph_map" id="classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_cgraph">
<area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a85a3d25b8c7510565dec4e3346e676f6" title="lbann::DataReader::setup" alt="" coords="283,165,453,195"/><area shape="rect" id="node5" href="classlbann_1_1DataReader.html#a6ca8592b2271ceaac8cb1e29dbecbb82" title="lbann::DataReader::calculate_multi_model_data_distribution" alt="" coords="501,139,872,168"/><area shape="rect" id="node21" href="namespacelbann.html#a4fea7ba21017b49d1e34394b4c20c764" title="lbann::get_generator" alt="" coords="617,192,756,221"/><area shape="rect" id="node7" href="classlbann_1_1lbann__comm.html#adb87fdc17095efd8e4dcb343357a6ba5" title="lbann::lbann_comm::am_world_master" alt="" coords="924,32,1169,61"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::get_model_rank" alt="" coords="929,85,1164,115"/><area shape="rect" id="node15" href="classlbann_1_1lbann__comm.html#a54842b679a3756cf79b43baf46caf637" title="lbann::lbann_comm::get_num_models" alt="" coords="925,139,1168,168"/><area shape="rect" id="node17" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::get_rank_in_model" alt="" coords="921,192,1172,221"/><area shape="rect" id="node19" href="classlbann_1_1DataReader.html#a78d3f20a5ab7628011068127ea8b4028" title="lbann::DataReader::getNumData" alt="" coords="940,245,1153,275"/><area shape="rect" id="node9" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::get_rank_in_world" alt="" coords="1221,5,1469,35"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#ac1bcd6a5e38ad3a7e86171435642bc9f" title="lbann::lbann_comm::get_world_master" alt="" coords="1223,59,1468,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_icgraph_map" id="classlbann_1_1io__layer_af28dac8d9a030b3554c460722236d067_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ae3d33d5cbe949783e2ef489bc771a721" title="lbann::target_layer_distributed_minibatch_parallel_io::setup" alt="" coords="284,5,647,35"/><area shape="rect" id="node5" href="classlbann_1_1target__layer__distributed__minibatch.html#ae10872bc60397e7fbb658c4cd2682856" title="lbann::target_layer_distributed_minibatch::setup" alt="" coords="316,59,615,88"/><area shape="rect" id="node7" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#a9d6dd762450b834f5c10d1abfdb54bff" title="lbann::input_layer_distributed_minibatch_parallel_io::setup" alt="" coords="287,112,644,141"/><area shape="rect" id="node9" href="classlbann_1_1input__layer__distributed__minibatch.html#a37c8afb968e8b5e5dc0b76e86dcea699" title="lbann::input_layer_distributed_minibatch::setup" alt="" coords="319,165,612,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abbf07dd592d714852090c12855983592"></a><!-- doxytag: member="lbann::io_layer::update_num_samples_processed" ref="abbf07dd592d714852090c12855983592" args="(long num_samples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lbann::io_layer::update_num_samples_processed </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>num_samples</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8cpp_source.html#l00106">106</a> of file <a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00106"></a>00106                                                                  {
<a name="l00107"></a>00107   <span class="keywordflow">switch</span>(<a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a>) {
<a name="l00108"></a>00108   <span class="keywordflow">case</span> <a class="code" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aef839bdee87b9298d9be97d3f9c90469">execution_mode::training</a>:
<a name="l00109"></a>00109     <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.num_samples_processed += num_samples;
<a name="l00110"></a>00110     <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">m_training_dataset</a>.num_samples_processed;
<a name="l00111"></a>00111     <span class="keywordflow">break</span>;
<a name="l00112"></a>00112   <span class="keywordflow">case</span> <a class="code" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8ade2ab1918cbd80e8332e87ef162075be">execution_mode::validation</a>:
<a name="l00113"></a>00113     <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.num_samples_processed += num_samples;
<a name="l00114"></a>00114     <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">m_validation_dataset</a>.num_samples_processed;
<a name="l00115"></a>00115     <span class="keywordflow">break</span>;
<a name="l00116"></a>00116   <span class="keywordflow">case</span> <a class="code" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8a3f687cacfa4f67ecb465589ee1b37da6">execution_mode::testing</a>:
<a name="l00117"></a>00117     <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.num_samples_processed += num_samples;
<a name="l00118"></a>00118     <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">m_testing_dataset</a>.num_samples_processed;
<a name="l00119"></a>00119     <span class="keywordflow">break</span>;
<a name="l00120"></a>00120   <span class="comment">// case prediction:</span>
<a name="l00121"></a>00121   <span class="comment">//   return m_prediction_data_reader;</span>
<a name="l00122"></a>00122   <span class="comment">//   break;</span>
<a name="l00123"></a>00123   <span class="keywordflow">default</span>:
<a name="l00124"></a>00124     <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_io_layer: invalid execution phase&quot;</span>);
<a name="l00125"></a>00125   }
<a name="l00126"></a>00126 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="classlbann_1_1io__layer_abbf07dd592d714852090c12855983592_icgraph.png" border="0" usemap="#classlbann_1_1io__layer_abbf07dd592d714852090c12855983592_icgraph_map" alt=""></div>
<map name="classlbann_1_1io__layer_abbf07dd592d714852090c12855983592_icgraph_map" id="classlbann_1_1io__layer_abbf07dd592d714852090c12855983592_icgraph">
<area shape="rect" id="node3" href="classlbann_1_1target__layer__unsupervised.html#ad1a0631a6653c48e140b1d7685215c42" title="lbann::target_layer_unsupervised::forwardProp" alt="" coords="419,5,709,35"/><area shape="rect" id="node5" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a14c4106696d7ae83784b22de93a46e0a" title="lbann::target_layer_distributed_minibatch_parallel_io::forwardProp" alt="" coords="363,59,765,88"/><area shape="rect" id="node7" href="classlbann_1_1input__layer__distributed__minibatch__parallel__io.html#ab6fb4866fd63f04a95e61cbb0892f826" title="lbann::input_layer_distributed_minibatch_parallel_io::fp_linearity" alt="" coords="369,112,759,141"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8ce9b172521bbcf55c1040a3c28719b1"></a><!-- doxytag: member="lbann::io_layer::m_data_sets_span_models" ref="a8ce9b172521bbcf55c1040a3c28719b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classlbann_1_1io__layer.html#a8ce9b172521bbcf55c1040a3c28719b1">lbann::io_layer::m_data_sets_span_models</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00059">59</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0b60a6775efb8b80918a2c364c56923e"></a><!-- doxytag: member="lbann::io_layer::m_testing_dataset" ref="a0b60a6775efb8b80918a2c364c56923e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1dataset.html">dataset</a> <a class="el" href="classlbann_1_1io__layer.html#a0b60a6775efb8b80918a2c364c56923e">lbann::io_layer::m_testing_dataset</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00057">57</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9897b608f618635635736872c8f1ca21"></a><!-- doxytag: member="lbann::io_layer::m_training_dataset" ref="a9897b608f618635635736872c8f1ca21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1dataset.html">dataset</a> <a class="el" href="classlbann_1_1io__layer.html#a9897b608f618635635736872c8f1ca21">lbann::io_layer::m_training_dataset</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00056">56</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adc5dce4f0ccb038ff6736e71ac710501"></a><!-- doxytag: member="lbann::io_layer::m_validation_dataset" ref="adc5dce4f0ccb038ff6736e71ac710501" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1dataset.html">dataset</a> <a class="el" href="classlbann_1_1io__layer.html#adc5dce4f0ccb038ff6736e71ac710501">lbann::io_layer::m_validation_dataset</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lbann__io__layer_8hpp_source.html#l00058">58</a> of file <a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/lbann/layers/<a class="el" href="lbann__io__layer_8hpp_source.html">lbann_io_layer.hpp</a></li>
<li>src/layers/<a class="el" href="lbann__io__layer_8cpp_source.html">lbann_io_layer.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 21 Sep 2016 for LBANN by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
