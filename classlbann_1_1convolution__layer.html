<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LBANN: lbann::convolution_layer&lt; T_layout &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">91da419-ci253682023</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1convolution__layer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classlbann_1_1convolution__layer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::convolution_layer&lt; T_layout &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Convolution layer.  
 <a href="classlbann_1_1convolution__layer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::convolution_layer&lt; T_layout &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer__inherit__graph.png" border="0" usemap="#lbann_1_1convolution__layer_3_01T__layout_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1convolution__layer_3_01T__layout_01_4_inherit__map" id="lbann_1_1convolution__layer_3_01T__layout_01_4_inherit__map">
<area shape="rect" id="node2" href="classlbann_1_1learning.html" title="lbann::learning" alt="" coords="16,80,123,107"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html" title="lbann::Layer" alt="" coords="23,5,116,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::convolution_layer&lt; T_layout &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer__coll__graph.png" border="0" usemap="#lbann_1_1convolution__layer_3_01T__layout_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1convolution__layer_3_01T__layout_01_4_coll__map" id="lbann_1_1convolution__layer_3_01T__layout_01_4_coll__map">
<area shape="rect" id="node2" href="classlbann_1_1learning.html" title="lbann::learning" alt="" coords="508,429,615,456"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html" title="lbann::Layer" alt="" coords="372,351,465,377"/><area shape="rect" id="node4" href="classcudnn_1_1cudnn__manager.html" title="cudnn::cudnn_manager" alt="" coords="315,259,472,285"/><area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html" title="lbann::lbann_comm" alt="" coords="402,13,536,40"/><area shape="rect" id="node6" href="classlbann_1_1model.html" title="lbann::model" alt="" coords="179,259,275,285"/><area shape="rect" id="node7" href="classlbann_1_1optimizer__factory.html" title="Optimizer factory base class. " alt="" coords="310,149,471,176"/><area shape="rect" id="node10" href="classlbann_1_1optimizer.html" title="Optimizer base class. " alt="" coords="575,208,689,235"/><area shape="rect" id="node8" href="classlbann_1_1objective__functions_1_1objective__fn.html" title="lbann::objective_functions\l::objective_fn" alt="" coords="5,142,179,183"/><area shape="rect" id="node9" href="classlbann_1_1objective__functions_1_1statistics.html" title="lbann::objective_functions\l::statistics" alt="" coords="5,6,179,47"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5c41a5f1b97be9c1e00fac325b7779fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a5c41a5f1b97be9c1e00fac325b7779fd">convolution_layer</a> (int index, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, int mini_batch_size, int num_data_dims, int num_output_channels, const int *conv_dims, const int *conv_pads, const int *conv_strides, <a class="el" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a> init, <a class="el" href="classlbann_1_1optimizer.html">optimizer</a> *opt, <a class="el" href="classcudnn_1_1cudnn__manager.html">cudnn::cudnn_manager</a> *cudnn=NULL)</td></tr>
<tr class="separator:a5c41a5f1b97be9c1e00fac325b7779fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa407129cf1df628908abbc5fdb6cbfc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#aaa407129cf1df628908abbc5fdb6cbfc">convolution_layer</a> (const <a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> &amp;other)</td></tr>
<tr class="separator:aaa407129cf1df628908abbc5fdb6cbfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae92c4059e1c6ac6cf5064769d7d21c61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#ae92c4059e1c6ac6cf5064769d7d21c61">operator=</a> (const <a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> &amp;other)</td></tr>
<tr class="separator:ae92c4059e1c6ac6cf5064769d7d21c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355bacf090143655c3f8715695de76b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a355bacf090143655c3f8715695de76b7">~convolution_layer</a> ()</td></tr>
<tr class="separator:a355bacf090143655c3f8715695de76b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbb18c3721ba6ac044707b5631fc6e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a3dbb18c3721ba6ac044707b5631fc6e0">copy</a> () const </td></tr>
<tr class="separator:a3dbb18c3721ba6ac044707b5631fc6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802c59140ffc40e4a010e2bf715cef9f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a802c59140ffc40e4a010e2bf715cef9f">get_name</a> () const </td></tr>
<tr class="separator:a802c59140ffc40e4a010e2bf715cef9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60eaabd89fc3900bbf0bb840482b8f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a60eaabd89fc3900bbf0bb840482b8f20">initialize_distributed_matrices</a> ()</td></tr>
<tr class="separator:a60eaabd89fc3900bbf0bb840482b8f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a096175733f4066e2c01d9fefdbfa9134"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08db">data_layout</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a096175733f4066e2c01d9fefdbfa9134">get_data_layout</a> () const </td></tr>
<tr class="separator:a096175733f4066e2c01d9fefdbfa9134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156721b2cbf972932d317d3c6e0d62d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a156721b2cbf972932d317d3c6e0d62d3">setup_dims</a> ()</td></tr>
<tr class="separator:a156721b2cbf972932d317d3c6e0d62d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca43020e655454470244b57f11156fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#acca43020e655454470244b57f11156fa">setup_data</a> ()</td></tr>
<tr class="separator:acca43020e655454470244b57f11156fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1591d929ac399c82e95bb7cdf406389"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389">setup_views</a> ()</td></tr>
<tr class="separator:ac1591d929ac399c82e95bb7cdf406389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef1ce8742619dddb3371e6c5cc64af4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#aef1ce8742619dddb3371e6c5cc64af4c">setup_gpu</a> ()</td></tr>
<tr class="memdesc:aef1ce8742619dddb3371e6c5cc64af4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize GPU objects.  <a href="#aef1ce8742619dddb3371e6c5cc64af4c">More...</a><br/></td></tr>
<tr class="separator:aef1ce8742619dddb3371e6c5cc64af4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebeeabc1f24d3aba169ee69aaad0717"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a3ebeeabc1f24d3aba169ee69aaad0717">update_compute</a> ()</td></tr>
<tr class="memdesc:a3ebeeabc1f24d3aba169ee69aaad0717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update convolution filters and biases.  <a href="#a3ebeeabc1f24d3aba169ee69aaad0717">More...</a><br/></td></tr>
<tr class="separator:a3ebeeabc1f24d3aba169ee69aaad0717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1learning"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1learning')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1learning.html">lbann::learning</a></td></tr>
<tr class="memitem:a0c095969527274452bfccbfddc4b8b55 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a0c095969527274452bfccbfddc4b8b55">learning</a> (int index, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, int mini_batch_size, <a class="el" href="classlbann_1_1optimizer.html">optimizer</a> *opt)</td></tr>
<tr class="separator:a0c095969527274452bfccbfddc4b8b55 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6cb1233ee7dbd62353b00a3b911fb1 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a5e6cb1233ee7dbd62353b00a3b911fb1">learning</a> (const <a class="el" href="classlbann_1_1learning.html">learning</a> &amp;other)</td></tr>
<tr class="separator:a5e6cb1233ee7dbd62353b00a3b911fb1 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a84db7ba4ca325d7f4fc5f7713142e6 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1learning.html">learning</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a0a84db7ba4ca325d7f4fc5f7713142e6">operator=</a> (const <a class="el" href="classlbann_1_1learning.html">learning</a> &amp;other)</td></tr>
<tr class="separator:a0a84db7ba4ca325d7f4fc5f7713142e6 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72ee98b695d3d292fce5e3eb0bb7fda inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#ac72ee98b695d3d292fce5e3eb0bb7fda">~learning</a> ()</td></tr>
<tr class="separator:ac72ee98b695d3d292fce5e3eb0bb7fda inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f82c83cc93c88350364d7e7dd2db13d inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a5f82c83cc93c88350364d7e7dd2db13d">get_weights</a> () const </td></tr>
<tr class="separator:a5f82c83cc93c88350364d7e7dd2db13d inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61bfaebb32af9ba8e284fa96137f9883 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a61bfaebb32af9ba8e284fa96137f9883">get_weights_gradient</a> () const </td></tr>
<tr class="separator:a61bfaebb32af9ba8e284fa96137f9883 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f61d56f6998b972707b97df65a451e inherit pub_methods_classlbann_1_1learning"><td class="memTemplParams" colspan="2">template&lt;data_layout T_layout&gt; </td></tr>
<tr class="memitem:a83f61d56f6998b972707b97df65a451e inherit pub_methods_classlbann_1_1learning"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a83f61d56f6998b972707b97df65a451e">initialize_distributed_matrices</a> ()</td></tr>
<tr class="separator:a83f61d56f6998b972707b97df65a451e inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab874a3a28c20aebc87b794e7c6e5e875 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#ab874a3a28c20aebc87b794e7c6e5e875">summarize_matrices</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;summarizer, int step)</td></tr>
<tr class="separator:ab874a3a28c20aebc87b794e7c6e5e875 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43412ff0de7514a8b29309e660777ef5 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a43412ff0de7514a8b29309e660777ef5">check_setup</a> ()</td></tr>
<tr class="separator:a43412ff0de7514a8b29309e660777ef5 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4081d1cf0da2905c4243d793aebb85df inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a4081d1cf0da2905c4243d793aebb85df">get_weights_biases</a> ()</td></tr>
<tr class="separator:a4081d1cf0da2905c4243d793aebb85df inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4790878da2dfa939f844ea83073183d7 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a4790878da2dfa939f844ea83073183d7">get_weights_biases_gradient</a> ()</td></tr>
<tr class="separator:a4790878da2dfa939f844ea83073183d7 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28323efe8e2c019056fffa3b93cc3165 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlbann_1_1optimizer.html">optimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a28323efe8e2c019056fffa3b93cc3165">get_optimizer</a> () const </td></tr>
<tr class="separator:a28323efe8e2c019056fffa3b93cc3165 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dce0c0e635228395de1e1864b297f5f inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a9dce0c0e635228395de1e1864b297f5f">set_l2_regularization_factor</a> (<a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> f)</td></tr>
<tr class="separator:a9dce0c0e635228395de1e1864b297f5f inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad249dd5cddf5155ae12bd138b4bc0366 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#ad249dd5cddf5155ae12bd138b4bc0366">saveToFile</a> (int fd, const char *dirname)</td></tr>
<tr class="separator:ad249dd5cddf5155ae12bd138b4bc0366 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08426a886b6be92327efefec91bd566a inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a08426a886b6be92327efefec91bd566a">loadFromFile</a> (int fd, const char *dirname)</td></tr>
<tr class="separator:a08426a886b6be92327efefec91bd566a inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b1d48c2fede6c9d575054de88f8454 inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#aa6b1d48c2fede6c9d575054de88f8454">saveToCheckpointShared</a> (<a class="el" href="classlbann_1_1persist.html">lbann::persist</a> &amp;p)</td></tr>
<tr class="separator:aa6b1d48c2fede6c9d575054de88f8454 inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4534b4a5a60d9ab378d8754b7840845f inherit pub_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a4534b4a5a60d9ab378d8754b7840845f">loadFromCheckpointShared</a> (<a class="el" href="classlbann_1_1persist.html">lbann::persist</a> &amp;p)</td></tr>
<tr class="separator:a4534b4a5a60d9ab378d8754b7840845f inherit pub_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:a852a2187015f25204a358aafaf561dc8 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a852a2187015f25204a358aafaf561dc8">Layer</a> (const int index, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, int mbsize)</td></tr>
<tr class="separator:a852a2187015f25204a358aafaf561dc8 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247cc68c730284f10a2cb42985fe5f3a inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a247cc68c730284f10a2cb42985fe5f3a">Layer</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;other)</td></tr>
<tr class="separator:a247cc68c730284f10a2cb42985fe5f3a inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d8acde68fda2f38c4a39ef8c89234a inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a00d8acde68fda2f38c4a39ef8c89234a">operator=</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;other)</td></tr>
<tr class="separator:a00d8acde68fda2f38c4a39ef8c89234a inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c3f57587956da938406812f13ecb78 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a68c3f57587956da938406812f13ecb78">~Layer</a> ()</td></tr>
<tr class="separator:a68c3f57587956da938406812f13ecb78 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f08fe144a625a9560c8c6984d256672 inherit pub_methods_classlbann_1_1Layer"><td class="memTemplParams" colspan="2">template&lt;data_layout T_layout&gt; </td></tr>
<tr class="memitem:a4f08fe144a625a9560c8c6984d256672 inherit pub_methods_classlbann_1_1Layer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a4f08fe144a625a9560c8c6984d256672">initialize_distributed_matrices</a> ()</td></tr>
<tr class="separator:a4f08fe144a625a9560c8c6984d256672 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2483ccd8a4406a6891f6176f1001b4e5 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a2483ccd8a4406a6891f6176f1001b4e5">forward_prop</a> ()</td></tr>
<tr class="separator:a2483ccd8a4406a6891f6176f1001b4e5 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a502d9218d7dbbfd10ebebb6f917033 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a0a502d9218d7dbbfd10ebebb6f917033">back_prop</a> ()</td></tr>
<tr class="separator:a0a502d9218d7dbbfd10ebebb6f917033 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a050e51e3a9bec431cf8b7a5660f2c inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae4a050e51e3a9bec431cf8b7a5660f2c">update</a> ()</td></tr>
<tr class="separator:ae4a050e51e3a9bec431cf8b7a5660f2c inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3f26e2ae0497f9a00fd6bc56b50543 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7f3f26e2ae0497f9a00fd6bc56b50543">summarize_stats</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;summarizer, int step)</td></tr>
<tr class="separator:a7f3f26e2ae0497f9a00fd6bc56b50543 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af258db35456927df5df31af6bcd33473 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af258db35456927df5df31af6bcd33473">epoch_print</a> () const </td></tr>
<tr class="separator:af258db35456927df5df31af6bcd33473 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12706025928f5e3d3ec3d9407c66c96b inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a12706025928f5e3d3ec3d9407c66c96b">epoch_reset</a> ()</td></tr>
<tr class="separator:a12706025928f5e3d3ec3d9407c66c96b inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e3ac01d376d9d0a1153d49b2253d03 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af4e3ac01d376d9d0a1153d49b2253d03">checkGradientMB</a> (<a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;PrevLayer, <a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> Epsilon=1e-4)</td></tr>
<tr class="separator:af4e3ac01d376d9d0a1153d49b2253d03 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af455f02e7d3111a3610bc3fb705f3292 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer, const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer)</td></tr>
<tr class="separator:af455f02e7d3111a3610bc3fb705f3292 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54fc73f5d751fe61238dbd7940d391a inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac54fc73f5d751fe61238dbd7940d391a">setup_pointers</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer, const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer)</td></tr>
<tr class="separator:ac54fc73f5d751fe61238dbd7940d391a inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0da8a58bab0e1de8e410c70b81a3427 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aa0da8a58bab0e1de8e410c70b81a3427">get_index</a> () const </td></tr>
<tr class="separator:aa0da8a58bab0e1de8e410c70b81a3427 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb8de566903c69eb695cca8d46aa514 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aeeb8de566903c69eb695cca8d46aa514">set_index</a> (int i)</td></tr>
<tr class="separator:aeeb8de566903c69eb695cca8d46aa514 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d337afce3ff00bd9bb63e6b25ba885 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a34d337afce3ff00bd9bb63e6b25ba885">get_num_prev_neurons</a> () const </td></tr>
<tr class="separator:a34d337afce3ff00bd9bb63e6b25ba885 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823730fb451b04b44b786a32f0149b0e inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a823730fb451b04b44b786a32f0149b0e">get_num_prev_neuron_dims</a> () const </td></tr>
<tr class="separator:a823730fb451b04b44b786a32f0149b0e inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9dbf2d54061cdd56782f0c61398da8d inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad9dbf2d54061cdd56782f0c61398da8d">get_prev_neuron_dims</a> () const </td></tr>
<tr class="separator:ad9dbf2d54061cdd56782f0c61398da8d inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c592a6fb8b3e0951344a3802f39d92a inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3c592a6fb8b3e0951344a3802f39d92a">get_num_neurons</a> () const </td></tr>
<tr class="separator:a3c592a6fb8b3e0951344a3802f39d92a inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09dec06726bdb73c3524c4896aaf5b4 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae09dec06726bdb73c3524c4896aaf5b4">get_num_neuron_dims</a> () const </td></tr>
<tr class="separator:ae09dec06726bdb73c3524c4896aaf5b4 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26db6bb902f60c213cb006a2fafc0667 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a26db6bb902f60c213cb006a2fafc0667">get_neuron_dims</a> () const </td></tr>
<tr class="separator:a26db6bb902f60c213cb006a2fafc0667 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8a6efd69263d6268ced61c8121f344 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7f8a6efd69263d6268ced61c8121f344">get_execution_mode</a> () const </td></tr>
<tr class="separator:a7f8a6efd69263d6268ced61c8121f344 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6f588f9588200f8dedb670b3142652 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a8a6f588f9588200f8dedb670b3142652">set_execution_mode</a> (<a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a> mode)</td></tr>
<tr class="separator:a8a6f588f9588200f8dedb670b3142652 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae06b86f19fbfacdc7b4ec171a793d3 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a6ae06b86f19fbfacdc7b4ec171a793d3">get_activations</a> ()</td></tr>
<tr class="separator:a6ae06b86f19fbfacdc7b4ec171a793d3 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0f8e32e2b17953f87652f855ccfbf9 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a0a0f8e32e2b17953f87652f855ccfbf9">reset_counters</a> ()</td></tr>
<tr class="separator:a0a0f8e32e2b17953f87652f855ccfbf9 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb5c17926ba216e062e8c3b4124c7d7 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abbb5c17926ba216e062e8c3b4124c7d7">get_minibatch_size</a> () const </td></tr>
<tr class="separator:abbb5c17926ba216e062e8c3b4124c7d7 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63218a644eb6123ddbdd4f09947a24f inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f">get_effective_minibatch_size</a> () const </td></tr>
<tr class="separator:ab63218a644eb6123ddbdd4f09947a24f inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30c658914f6d85fa228267f1246febf inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae30c658914f6d85fa228267f1246febf">set_effective_minibatch_size</a> (int size)</td></tr>
<tr class="separator:ae30c658914f6d85fa228267f1246febf inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee56be91337bbd78bc4371a8159b760 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760">using_gpus</a> () const </td></tr>
<tr class="separator:acee56be91337bbd78bc4371a8159b760 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b76376a530210e37665afb7d55540c inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a52b76376a530210e37665afb7d55540c">get_neural_network_model</a> () const </td></tr>
<tr class="separator:a52b76376a530210e37665afb7d55540c inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10731b838313aa7259fa62d5d229a76 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ab10731b838313aa7259fa62d5d229a76">set_neural_network_model</a> (<a class="el" href="classlbann_1_1model.html">model</a> *const m)</td></tr>
<tr class="separator:ab10731b838313aa7259fa62d5d229a76 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac13af6f5ee8316d64c550bef919ee0 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual El::Matrix&lt; El::Int &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a0ac13af6f5ee8316d64c550bef919ee0">get_sample_indices_per_mb</a> ()</td></tr>
<tr class="separator:a0ac13af6f5ee8316d64c550bef919ee0 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3fee4a1a65d7c478165f65ebab6127d inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af3fee4a1a65d7c478165f65ebab6127d">saveToCheckpoint</a> (int fd, const char *filename, size_t *bytes)</td></tr>
<tr class="separator:af3fee4a1a65d7c478165f65ebab6127d inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac9335d75d817fc2d5cf171da9b7e22 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7ac9335d75d817fc2d5cf171da9b7e22">loadFromCheckpoint</a> (int fd, const char *filename, size_t *bytes)</td></tr>
<tr class="separator:a7ac9335d75d817fc2d5cf171da9b7e22 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad3a25a050b7af8113a88e3775da184f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#ad3a25a050b7af8113a88e3775da184f7">fp_compute</a> ()</td></tr>
<tr class="separator:ad3a25a050b7af8113a88e3775da184f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac223a97714153369c52db5b348f0dc15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#ac223a97714153369c52db5b348f0dc15">bp_compute</a> ()</td></tr>
<tr class="separator:ac223a97714153369c52db5b348f0dc15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classlbann_1_1learning"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classlbann_1_1learning')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classlbann_1_1learning.html">lbann::learning</a></td></tr>
<tr class="memitem:ad89673b28f168ceaeb6f847d5ad06187 inherit pro_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#ad89673b28f168ceaeb6f847d5ad06187">l2_regularize</a> ()</td></tr>
<tr class="separator:ad89673b28f168ceaeb6f847d5ad06187 inherit pro_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8620f7370a6f13dbf3978b6328e319fb inherit pro_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a8620f7370a6f13dbf3978b6328e319fb">fp_set_std_matrix_view</a> ()</td></tr>
<tr class="separator:a8620f7370a6f13dbf3978b6328e319fb inherit pro_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:ad388ef1cc8ff6f43e531de7dbd62d996 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad388ef1cc8ff6f43e531de7dbd62d996">bp_set_std_matrix_view</a> ()</td></tr>
<tr class="separator:ad388ef1cc8ff6f43e531de7dbd62d996 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac852ba889cd215ddf146a89fe4db5ed1 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac852ba889cd215ddf146a89fe4db5ed1">fp_input</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer=NULL) const </td></tr>
<tr class="separator:ac852ba889cd215ddf146a89fe4db5ed1 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9bac4c75239b36803c4946b7bcdf082 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aa9bac4c75239b36803c4946b7bcdf082">fp_output</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer=NULL) const </td></tr>
<tr class="separator:aa9bac4c75239b36803c4946b7bcdf082 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5777547f66830dda03bd42b9cb93369f inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5777547f66830dda03bd42b9cb93369f">bp_input</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer=NULL) const </td></tr>
<tr class="separator:a5777547f66830dda03bd42b9cb93369f inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2419b0b22667c910b68d41d7730d13 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="base_8hpp.html#a059664ed36d5eedd5ff4f7838d9c7a5a">AbsDistMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ada2419b0b22667c910b68d41d7730d13">bp_output</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *prev_layer=NULL) const </td></tr>
<tr class="separator:ada2419b0b22667c910b68d41d7730d13 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb525b60e6fc0613f09f54648bc27b6 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6">fp_output_dims</a> (const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *next_layer=NULL) const </td></tr>
<tr class="separator:a9eb525b60e6fc0613f09f54648bc27b6 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae43725a33c0a4ad1daf63c115a436941"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#ae43725a33c0a4ad1daf63c115a436941">fp_compute_cudnn</a> ()</td></tr>
<tr class="memdesc:ae43725a33c0a4ad1daf63c115a436941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolution forward propagation with cuDNN.  <a href="#ae43725a33c0a4ad1daf63c115a436941">More...</a><br/></td></tr>
<tr class="separator:ae43725a33c0a4ad1daf63c115a436941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1080b7da9f1d30f5fcede31a0ba5e2a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a1080b7da9f1d30f5fcede31a0ba5e2a4">bp_compute_cudnn</a> ()</td></tr>
<tr class="memdesc:a1080b7da9f1d30f5fcede31a0ba5e2a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolution backward propagation with cuDNN.  <a href="#a1080b7da9f1d30f5fcede31a0ba5e2a4">More...</a><br/></td></tr>
<tr class="separator:a1080b7da9f1d30f5fcede31a0ba5e2a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7af14f0e5f4fb4afa490de959a49d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#aee7af14f0e5f4fb4afa490de959a49d1">fp_compute_im2col</a> ()</td></tr>
<tr class="memdesc:aee7af14f0e5f4fb4afa490de959a49d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolution forward propagation with im2col GEMM algorithm.  <a href="#aee7af14f0e5f4fb4afa490de959a49d1">More...</a><br/></td></tr>
<tr class="separator:aee7af14f0e5f4fb4afa490de959a49d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5788df11451dbdc7fc94b7b8b5bb45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#add5788df11451dbdc7fc94b7b8b5bb45">bp_compute_im2col</a> ()</td></tr>
<tr class="memdesc:add5788df11451dbdc7fc94b7b8b5bb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolution backward propagation with im2col GEMM algorithm.  <a href="#add5788df11451dbdc7fc94b7b8b5bb45">More...</a><br/></td></tr>
<tr class="separator:add5788df11451dbdc7fc94b7b8b5bb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3fa45c128e694a2029e3962ed20eb8bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">m_weight_initialization</a></td></tr>
<tr class="memdesc:a3fa45c128e694a2029e3962ed20eb8bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weight initialization scheme.  <a href="#a3fa45c128e694a2029e3962ed20eb8bf">More...</a><br/></td></tr>
<tr class="separator:a3fa45c128e694a2029e3962ed20eb8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431ad08e2c9218f03d1fe3cf05d94a43"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a></td></tr>
<tr class="memdesc:a431ad08e2c9218f03d1fe3cf05d94a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolutional filter dimensions.  <a href="#a431ad08e2c9218f03d1fe3cf05d94a43">More...</a><br/></td></tr>
<tr class="separator:a431ad08e2c9218f03d1fe3cf05d94a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519c3e2c371e63d7fe3b7b1f839864be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a></td></tr>
<tr class="memdesc:a519c3e2c371e63d7fe3b7b1f839864be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of convolutional filters.  <a href="#a519c3e2c371e63d7fe3b7b1f839864be">More...</a><br/></td></tr>
<tr class="separator:a519c3e2c371e63d7fe3b7b1f839864be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a81d091db7b987b7201125bda103281"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a></td></tr>
<tr class="memdesc:a7a81d091db7b987b7201125bda103281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolution padding.  <a href="#a7a81d091db7b987b7201125bda103281">More...</a><br/></td></tr>
<tr class="separator:a7a81d091db7b987b7201125bda103281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95fdac053d0779b1c20f2784cb7394b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a></td></tr>
<tr class="memdesc:ac95fdac053d0779b1c20f2784cb7394b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolution strides.  <a href="#ac95fdac053d0779b1c20f2784cb7394b">More...</a><br/></td></tr>
<tr class="separator:ac95fdac053d0779b1c20f2784cb7394b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2940770642185f088f8b64bf286ae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a></td></tr>
<tr class="separator:a0e2940770642185f088f8b64bf286ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639744838b02fd4073634175a4ecf4ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a></td></tr>
<tr class="separator:a639744838b02fd4073634175a4ecf4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286fc886ac92a4074880c102fddb3883"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a></td></tr>
<tr class="separator:a286fc886ac92a4074880c102fddb3883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9fbb0f006be688be99767224fbbd29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a></td></tr>
<tr class="separator:a2e9fbb0f006be688be99767224fbbd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a6d54673503b45aeb6526f041224900c6"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1convolution__layer.html#a6d54673503b45aeb6526f041224900c6">lbann_callback_imcomm</a></td></tr>
<tr class="separator:a6d54673503b45aeb6526f041224900c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classlbann_1_1learning"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classlbann_1_1learning')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classlbann_1_1learning.html">lbann::learning</a></td></tr>
<tr class="memitem:a4f4110a232030c1e1382bfd68ebbe08b inherit pub_static_methods_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a4f4110a232030c1e1382bfd68ebbe08b">weight_initialization_name</a> (<a class="el" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a> id)</td></tr>
<tr class="separator:a4f4110a232030c1e1382bfd68ebbe08b inherit pub_static_methods_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classlbann_1_1learning"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlbann_1_1learning')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classlbann_1_1learning.html">lbann::learning</a></td></tr>
<tr class="memitem:a82d93dc3b859e0558082bdd535b6ecde inherit pro_attribs_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1optimizer.html">optimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a></td></tr>
<tr class="separator:a82d93dc3b859e0558082bdd535b6ecde inherit pro_attribs_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356dc0069b12d1007721c2548056d429 inherit pro_attribs_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a></td></tr>
<tr class="memdesc:a356dc0069b12d1007721c2548056d429 inherit pro_attribs_classlbann_1_1learning"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weight matrix (computes weight sum of inputs ((# neurons) x (# previous layer's neurons))  <a href="#a356dc0069b12d1007721c2548056d429">More...</a><br/></td></tr>
<tr class="separator:a356dc0069b12d1007721c2548056d429 inherit pro_attribs_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64f62a5d3f49702745d8bad953ba7e6 inherit pro_attribs_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a></td></tr>
<tr class="memdesc:aa64f62a5d3f49702745d8bad953ba7e6 inherit pro_attribs_classlbann_1_1learning"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gradient w.r.t. weight matrix ((# neurons) x (# previous layer's neurons))  <a href="#aa64f62a5d3f49702745d8bad953ba7e6">More...</a><br/></td></tr>
<tr class="separator:aa64f62a5d3f49702745d8bad953ba7e6 inherit pro_attribs_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d464e24476678f9b11b3d992c60ec30 inherit pro_attribs_classlbann_1_1learning"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1learning.html#a9d464e24476678f9b11b3d992c60ec30">m_l2_regularization_factor</a> = <a class="el" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(0)</td></tr>
<tr class="separator:a9d464e24476678f9b11b3d992c60ec30 inherit pro_attribs_classlbann_1_1learning"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:a09c7d2b97bd211099528f5b3c33c31e3 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a09c7d2b97bd211099528f5b3c33c31e3">m_index</a></td></tr>
<tr class="memdesc:a09c7d2b97bd211099528f5b3c33c31e3 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlbann_1_1Layer.html">Layer</a> index (start with 0)  <a href="#a09c7d2b97bd211099528f5b3c33c31e3">More...</a><br/></td></tr>
<tr class="separator:a09c7d2b97bd211099528f5b3c33c31e3 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de05c52f22e0bbd7c703bec3ad4dbf2 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a></td></tr>
<tr class="separator:a5de05c52f22e0bbd7c703bec3ad4dbf2 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5ebc8a7d9329d8a773ed787e7b41d8 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a></td></tr>
<tr class="memdesc:a6b5ebc8a7d9329d8a773ed787e7b41d8 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of neurons.  <a href="#a6b5ebc8a7d9329d8a773ed787e7b41d8">More...</a><br/></td></tr>
<tr class="separator:a6b5ebc8a7d9329d8a773ed787e7b41d8 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd6178d21498c9095cd947ae1eb2d6a inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a></td></tr>
<tr class="memdesc:adfd6178d21498c9095cd947ae1eb2d6a inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of dimensions in neuron tensor.  <a href="#adfd6178d21498c9095cd947ae1eb2d6a">More...</a><br/></td></tr>
<tr class="separator:adfd6178d21498c9095cd947ae1eb2d6a inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb34bb8031f57a483e2e327a5f229f48 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a></td></tr>
<tr class="memdesc:abb34bb8031f57a483e2e327a5f229f48 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Neuron tensor dimensions.  <a href="#abb34bb8031f57a483e2e327a5f229f48">More...</a><br/></td></tr>
<tr class="separator:abb34bb8031f57a483e2e327a5f229f48 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b30f4e28d58204bfcbb76886f9136d inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac7b30f4e28d58204bfcbb76886f9136d">m_num_prev_neurons</a></td></tr>
<tr class="memdesc:ac7b30f4e28d58204bfcbb76886f9136d inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of neurons in previous layer.  <a href="#ac7b30f4e28d58204bfcbb76886f9136d">More...</a><br/></td></tr>
<tr class="separator:ac7b30f4e28d58204bfcbb76886f9136d inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc052afb38f170e839db00d3c8151d1e inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a></td></tr>
<tr class="memdesc:adc052afb38f170e839db00d3c8151d1e inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of dimensions in previous layer's neuron tensor.  <a href="#adc052afb38f170e839db00d3c8151d1e">More...</a><br/></td></tr>
<tr class="separator:adc052afb38f170e839db00d3c8151d1e inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae204d1a2a79606eaa117273857ff62a3 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a></td></tr>
<tr class="memdesc:ae204d1a2a79606eaa117273857ff62a3 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Neuron tensor dimensions in previous layer.  <a href="#ae204d1a2a79606eaa117273857ff62a3">More...</a><br/></td></tr>
<tr class="separator:ae204d1a2a79606eaa117273857ff62a3 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b115cb89d6e8081de3f148a8ad2ef7 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a></td></tr>
<tr class="separator:af8b115cb89d6e8081de3f148a8ad2ef7 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d6e3e65adcfee83e953b63ff5e9121 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a81d6e3e65adcfee83e953b63ff5e9121">m_prev_error_signal</a></td></tr>
<tr class="memdesc:a81d6e3e65adcfee83e953b63ff5e9121 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local copy of the error signal from "previous" layer ((# neurons) x mini-batch size)  <a href="#a81d6e3e65adcfee83e953b63ff5e9121">More...</a><br/></td></tr>
<tr class="separator:a81d6e3e65adcfee83e953b63ff5e9121 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1ab0c18e78cd82af4cf24b73ec96bc inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a></td></tr>
<tr class="memdesc:a3f1ab0c18e78cd82af4cf24b73ec96bc inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in previous error signal matrix.  <a href="#a3f1ab0c18e78cd82af4cf24b73ec96bc">More...</a><br/></td></tr>
<tr class="separator:a3f1ab0c18e78cd82af4cf24b73ec96bc inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a28e5b795fcd852dea62e57d7a6f97e inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a7a28e5b795fcd852dea62e57d7a6f97e">m_activations</a></td></tr>
<tr class="memdesc:a7a28e5b795fcd852dea62e57d7a6f97e inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activations - non-linearity applied to weighted sum ((# neurons) x mini-batch size)  <a href="#a7a28e5b795fcd852dea62e57d7a6f97e">More...</a><br/></td></tr>
<tr class="separator:a7a28e5b795fcd852dea62e57d7a6f97e inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871b103aedbd95b5205c24b66ef74dfa inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a></td></tr>
<tr class="memdesc:a871b103aedbd95b5205c24b66ef74dfa inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in activations matrix.  <a href="#a871b103aedbd95b5205c24b66ef74dfa">More...</a><br/></td></tr>
<tr class="separator:a871b103aedbd95b5205c24b66ef74dfa inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5e339cda98356c68063ea3845a94d2 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a8f5e339cda98356c68063ea3845a94d2">m_neural_network_model</a></td></tr>
<tr class="separator:a8f5e339cda98356c68063ea3845a94d2 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eba0e6629a2205291c3443a956a7c1a inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a3eba0e6629a2205291c3443a956a7c1a">m_prev_layer</a></td></tr>
<tr class="memdesc:a3eba0e6629a2205291c3443a956a7c1a inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to previous layer.  <a href="#a3eba0e6629a2205291c3443a956a7c1a">More...</a><br/></td></tr>
<tr class="separator:a3eba0e6629a2205291c3443a956a7c1a inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf38e5b69ae1a0538d676f91a00ceac1 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlbann_1_1Layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acf38e5b69ae1a0538d676f91a00ceac1">m_next_layer</a></td></tr>
<tr class="memdesc:acf38e5b69ae1a0538d676f91a00ceac1 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to next layer.  <a href="#acf38e5b69ae1a0538d676f91a00ceac1">More...</a><br/></td></tr>
<tr class="separator:acf38e5b69ae1a0538d676f91a00ceac1 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ae6cca8efd036e6f496d3b4f5c1bf9 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a43ae6cca8efd036e6f496d3b4f5c1bf9">m_error_signal</a></td></tr>
<tr class="memdesc:a43ae6cca8efd036e6f496d3b4f5c1bf9 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error signal to "next" layer (i.e. deltas) ((# neurons) x mini-batch size)  <a href="#a43ae6cca8efd036e6f496d3b4f5c1bf9">More...</a><br/></td></tr>
<tr class="separator:a43ae6cca8efd036e6f496d3b4f5c1bf9 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fccbe7596578869ee0317c3d2542f35 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a></td></tr>
<tr class="memdesc:a2fccbe7596578869ee0317c3d2542f35 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in error signal matrix.  <a href="#a2fccbe7596578869ee0317c3d2542f35">More...</a><br/></td></tr>
<tr class="separator:a2fccbe7596578869ee0317c3d2542f35 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf8aa63927a205c28f971e91c24c89f inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acbf8aa63927a205c28f971e91c24c89f">m_prev_activations</a></td></tr>
<tr class="memdesc:acbf8aa63927a205c28f971e91c24c89f inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local view or copy of the activations from the "previous" layer ((# previous layer's neurons) x mini-batch size)  <a href="#acbf8aa63927a205c28f971e91c24c89f">More...</a><br/></td></tr>
<tr class="separator:acbf8aa63927a205c28f971e91c24c89f inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac590e0f3831d1c7b204275c89375ee14 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a></td></tr>
<tr class="memdesc:ac590e0f3831d1c7b204275c89375ee14 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">View of active columns in previous activations matrix.  <a href="#ac590e0f3831d1c7b204275c89375ee14">More...</a><br/></td></tr>
<tr class="separator:ac590e0f3831d1c7b204275c89375ee14 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7881cb5eff5207c15fa835d65462e8f inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a></td></tr>
<tr class="separator:af7881cb5eff5207c15fa835d65462e8f inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08dbb94239e3b8c96329786c57c72e21 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcudnn_1_1cudnn__manager.html">cudnn::cudnn_manager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a></td></tr>
<tr class="memdesc:a08dbb94239e3b8c96329786c57c72e21 inherit pro_attribs_classlbann_1_1Layer"><td class="mdescLeft">&#160;</td><td class="mdescRight">cuDNN manager  <a href="#a08dbb94239e3b8c96329786c57c72e21">More...</a><br/></td></tr>
<tr class="separator:a08dbb94239e3b8c96329786c57c72e21 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e8618c7af666db28f01e7e1450cda57 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a9e8618c7af666db28f01e7e1450cda57">m_mini_batch_size</a></td></tr>
<tr class="separator:a9e8618c7af666db28f01e7e1450cda57 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d34e7741b22b74330738e2cf8f774a9 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a1d34e7741b22b74330738e2cf8f774a9">m_effective_mbsize</a></td></tr>
<tr class="separator:a1d34e7741b22b74330738e2cf8f774a9 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ee7bf7544942bc8cf208b565349c66 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a94ee7bf7544942bc8cf208b565349c66">fp_time</a></td></tr>
<tr class="separator:a94ee7bf7544942bc8cf208b565349c66 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ead6e739e08170ef49c11f84eb638c inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a19ead6e739e08170ef49c11f84eb638c">fp_compute_time</a></td></tr>
<tr class="separator:a19ead6e739e08170ef49c11f84eb638c inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa9acb195346090fffcd64013295479 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abaa9acb195346090fffcd64013295479">bp_time</a></td></tr>
<tr class="separator:abaa9acb195346090fffcd64013295479 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f90fa1ec6d7fb2288a40ada0105d11 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a18f90fa1ec6d7fb2288a40ada0105d11">bp_compute_time</a></td></tr>
<tr class="separator:a18f90fa1ec6d7fb2288a40ada0105d11 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6c1fa01659749b22de59baf8259b84 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abd6c1fa01659749b22de59baf8259b84">update_time</a></td></tr>
<tr class="separator:abd6c1fa01659749b22de59baf8259b84 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt;<br/>
class lbann::convolution_layer&lt; T_layout &gt;</h3>

<p>Convolution layer. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00050">50</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5c41a5f1b97be9c1e00fac325b7779fd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::<a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mini_batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_data_dims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_output_channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>conv_dims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>conv_pads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>conv_strides</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a>&#160;</td>
          <td class="paramname"><em>init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1optimizer.html">optimizer</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcudnn_1_1cudnn__manager.html">cudnn::cudnn_manager</a> *&#160;</td>
          <td class="paramname"><em>cudnn</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00105">105</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    : <a class="code" href="classlbann_1_1learning.html#a0c095969527274452bfccbfddc4b8b55">learning</a>(index, <a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>, mini_batch_size, opt),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">m_weight_initialization</a>(init) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    static_assert(T_layout == <a class="code" href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638">data_layout::DATA_PARALLEL</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                  <span class="stringliteral">&quot;convolution only supports DATA_PARALLEL&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Setup the data distribution</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a60eaabd89fc3900bbf0bb840482b8f20">initialize_distributed_matrices</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// Initialize convolution parameters</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>.assign(conv_dims, conv_dims+num_data_dims);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>.assign(conv_pads, conv_pads+num_data_dims);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>.assign(conv_strides, conv_strides+num_data_dims);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// Initialize neuron tensor dimensions</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a> = num_data_dims + 1;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>.resize(this-&gt;<a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0] = num_output_channels;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">  #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor"></span>    m_weights_gradient_per_gpu = <a class="code" href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">  #endif // #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">  #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// Initialize cuDNN objects</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    m_bias_desc = NULL;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    m_filter_desc = NULL;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    m_convolution_desc = NULL;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    m_forward_algo = CUDNN_CONVOLUTION_FWD_ALGO_IMPLICIT_GEMM;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    m_backward_filter_algo = CUDNN_CONVOLUTION_BWD_FILTER_ALGO_0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    m_backward_data_algo = CUDNN_CONVOLUTION_BWD_DATA_ALGO_0;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// Set parameters for GPU implementation</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span>(cudnn) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a> = cudnn;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">  #endif // #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a3fa45c128e694a2029e3962ed20eb8bf"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">lbann::convolution_layer::m_weight_initialization</a></div><div class="ttdeci">weight_initialization m_weight_initialization</div><div class="ttdoc">Weight initialization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00056">convolution.hpp:56</a></div></div>
<div class="ttc" id="base_8hpp_html_ac1f107dfdc1d078904b4b666af5b6b86"><div class="ttname"><a href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a></div><div class="ttdeci">El::DistMatrix&lt; DataType, El::STAR, El::STAR &gt; StarMat</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00044">base.hpp:44</a></div></div>
<div class="ttc" id="base_8hpp_html_a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638"><div class="ttname"><a href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638">data_layout::DATA_PARALLEL</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a60eaabd89fc3900bbf0bb840482b8f20"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a60eaabd89fc3900bbf0bb840482b8f20">lbann::convolution_layer::initialize_distributed_matrices</a></div><div class="ttdeci">void initialize_distributed_matrices()</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00236">convolution.hpp:236</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a0c095969527274452bfccbfddc4b8b55"><div class="ttname"><a href="classlbann_1_1learning.html#a0c095969527274452bfccbfddc4b8b55">lbann::learning::learning</a></div><div class="ttdeci">learning(int index, lbann_comm *comm, int mini_batch_size, optimizer *opt)</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00057">learning.hpp:57</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a483bf8a72d44a0e83da45f3d47bd20d4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">lbann::lbann_comm::get_model_grid</a></div><div class="ttdeci">Grid &amp; get_model_grid()</div><div class="ttdef"><b>Definition:</b> <a href="comm_8hpp_source.html#l00104">comm.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_cgraph" id="classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#a60eaabd89fc3900bbf0bb840482b8f20" title="lbann::convolution\l_layer::initialize_distributed\l_matrices" alt="" coords="221,5,400,61"/><area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4" title="lbann::lbann_comm::\lget_model_grid" alt="" coords="449,46,591,87"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_icgraph" id="classlbann_1_1convolution__layer_a5c41a5f1b97be9c1e00fac325b7779fd_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#a3dbb18c3721ba6ac044707b5631fc6e0" title="lbann::convolution\l_layer::copy" alt="" coords="222,5,349,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa407129cf1df628908abbc5fdb6cbfc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::<a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a>&lt; T_layout &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00157">157</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                                    :</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classlbann_1_1learning.html#a0c095969527274452bfccbfddc4b8b55">learning</a>(other),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">m_weight_initialization</a>(other.m_weight_initialization),</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>(other.m_conv_dims),</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a>(other.m_conv_size),</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>(other.m_conv_pads),</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>(other.m_conv_strides) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a> = other.m_filter_weights_v-&gt;Copy();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a> = other.m_filter_weights_gradient_v-&gt;Copy();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a> = other.m_bias_weights_v-&gt;Copy();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a> = other.m_bias_weights_gradient_v-&gt;Copy();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389">setup_views</a>();  <span class="comment">// Update views.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Update optimizer parameters if needed.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a>-&gt;<a class="code" href="classlbann_1_1optimizer.html#a0c1a5d5981eb740b26e1d3b082421fc7">get_parameters</a>()) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a>-&gt;<a class="code" href="classlbann_1_1optimizer.html#a34a0dff15ff43cf9c76d0e1a4899d4cb">set_parameters</a>(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1optimizer_html_a0c1a5d5981eb740b26e1d3b082421fc7"><div class="ttname"><a href="classlbann_1_1optimizer.html#a0c1a5d5981eb740b26e1d3b082421fc7">lbann::optimizer::get_parameters</a></div><div class="ttdeci">AbsDistMat * get_parameters() const </div><div class="ttdoc">Get parameters. </div><div class="ttdef"><b>Definition:</b> <a href="optimizer_8hpp_source.html#l00074">optimizer.hpp:74</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a3fa45c128e694a2029e3962ed20eb8bf"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">lbann::convolution_layer::m_weight_initialization</a></div><div class="ttdeci">weight_initialization m_weight_initialization</div><div class="ttdoc">Weight initialization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00056">convolution.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a519c3e2c371e63d7fe3b7b1f839864be"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">lbann::convolution_layer::m_conv_size</a></div><div class="ttdeci">int m_conv_size</div><div class="ttdoc">Size of convolutional filters. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00060">convolution.hpp:60</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a356dc0069b12d1007721c2548056d429"><div class="ttname"><a href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">lbann::learning::m_weights</a></div><div class="ttdeci">ElMat * m_weights</div><div class="ttdoc">Weight matrix (computes weight sum of inputs ((# neurons) x (# previous layer&#39;s neurons)) ...</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00043">learning.hpp:43</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a82d93dc3b859e0558082bdd535b6ecde"><div class="ttname"><a href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">lbann::learning::m_optimizer</a></div><div class="ttdeci">optimizer * m_optimizer</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00041">learning.hpp:41</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a0c095969527274452bfccbfddc4b8b55"><div class="ttname"><a href="classlbann_1_1learning.html#a0c095969527274452bfccbfddc4b8b55">lbann::learning::learning</a></div><div class="ttdeci">learning(int index, lbann_comm *comm, int mini_batch_size, optimizer *opt)</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00057">learning.hpp:57</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac1591d929ac399c82e95bb7cdf406389"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389">lbann::convolution_layer::setup_views</a></div><div class="ttdeci">void setup_views()</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00323">convolution.hpp:323</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1optimizer_html_a34a0dff15ff43cf9c76d0e1a4899d4cb"><div class="ttname"><a href="classlbann_1_1optimizer.html#a34a0dff15ff43cf9c76d0e1a4899d4cb">lbann::optimizer::set_parameters</a></div><div class="ttdeci">void set_parameters(AbsDistMat *parameters)</div><div class="ttdef"><b>Definition:</b> <a href="optimizer_8hpp_source.html#l00083">optimizer.hpp:83</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_aaa407129cf1df628908abbc5fdb6cbfc_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_aaa407129cf1df628908abbc5fdb6cbfc_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_aaa407129cf1df628908abbc5fdb6cbfc_cgraph" id="classlbann_1_1convolution__layer_aaa407129cf1df628908abbc5fdb6cbfc_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389" title="lbann::convolution\l_layer::setup_views" alt="" coords="223,5,361,46"/><area shape="rect" id="node4" href="classlbann_1_1optimizer.html#a0c1a5d5981eb740b26e1d3b082421fc7" title="Get parameters. " alt="" coords="222,70,362,111"/><area shape="rect" id="node5" href="classlbann_1_1optimizer.html#a34a0dff15ff43cf9c76d0e1a4899d4cb" title="lbann::optimizer::set\l_parameters" alt="" coords="222,135,362,177"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5" title="lbann::Layer::setup\l_views" alt="" coords="411,5,544,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a355bacf090143655c3f8715695de76b7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::~<a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00200">200</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                       {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">  #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor"></span>    <span class="comment">// Destroy cuDNN objects</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span>(m_bias_desc) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      CHECK_CUDNN(cudnnDestroyTensorDescriptor(m_bias_desc));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span>(m_filter_desc) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      CHECK_CUDNN(cudnnDestroyFilterDescriptor(m_filter_desc));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span>(m_convolution_desc) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      CHECK_CUDNN(cudnnDestroyConvolutionDescriptor(m_convolution_desc));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Deallocate GPU memory</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_filter_weights_d);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_filter_weights_gradient_d);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_bias_weights_d);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;deallocate_on_gpus(m_bias_weights_gradient_d);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Unpin host memory</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;unpin_matrix(*(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;unpin_matrix(m_weights_gradient_per_gpu);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">  #endif // #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a356dc0069b12d1007721c2548056d429"><div class="ttname"><a href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">lbann::learning::m_weights</a></div><div class="ttdeci">ElMat * m_weights</div><div class="ttdoc">Weight matrix (computes weight sum of inputs ((# neurons) x (# previous layer&#39;s neurons)) ...</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00043">learning.hpp:43</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac223a97714153369c52db5b348f0dc15"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::bp_compute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform the layers work / main function for backward propagation </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a050f01cb51412227b1df289587d1d7ba">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00473">473</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="classlbann_1_1convolution__layer.html#a1080b7da9f1d30f5fcede31a0ba5e2a4">bp_compute_cudnn</a>();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="classlbann_1_1convolution__layer.html#add5788df11451dbdc7fc94b7b8b5bb45">bp_compute_im2col</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a1080b7da9f1d30f5fcede31a0ba5e2a4"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a1080b7da9f1d30f5fcede31a0ba5e2a4">lbann::convolution_layer::bp_compute_cudnn</a></div><div class="ttdeci">void bp_compute_cudnn()</div><div class="ttdoc">Convolution backward propagation with cuDNN. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00531">convolution.hpp:531</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_add5788df11451dbdc7fc94b7b8b5bb45"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#add5788df11451dbdc7fc94b7b8b5bb45">lbann::convolution_layer::bp_compute_im2col</a></div><div class="ttdeci">void bp_compute_im2col()</div><div class="ttdoc">Convolution backward propagation with im2col GEMM algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00667">convolution.hpp:667</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_ac223a97714153369c52db5b348f0dc15_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_ac223a97714153369c52db5b348f0dc15_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_ac223a97714153369c52db5b348f0dc15_cgraph" id="classlbann_1_1convolution__layer_ac223a97714153369c52db5b348f0dc15_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#a1080b7da9f1d30f5fcede31a0ba5e2a4" title="Convolution backward propagation with cuDNN. " alt="" coords="191,5,369,46"/><area shape="rect" id="node4" href="classlbann_1_1convolution__layer.html#add5788df11451dbdc7fc94b7b8b5bb45" title="Convolution backward propagation with im2col GEMM algorithm. " alt="" coords="189,70,371,111"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f" title="lbann::Layer::get_effective\l_minibatch_size" alt="" coords="419,6,595,47"/><area shape="rect" id="node5" href="namespacelbann.html#a0e1225f72580ffb5166181392b68b651" title="Rearrange matrix columns into image blocks. " alt="" coords="457,75,556,101"/><area shape="rect" id="node7" href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9" title="Rearrange image blocks into matrix columns. " alt="" coords="457,125,556,152"/><area shape="rect" id="node6" href="namespacelbann.html#a1953674a43b284f0abb5c5e4db94b2b9" title="Rearrange matrix columns into 2D image blocks. " alt="" coords="643,75,763,101"/><area shape="rect" id="node8" href="namespacelbann.html#adc05d10657be77ccd9a74b1621c416c3" title="Rearrange 2D image blocks into matrix columns. " alt="" coords="643,125,763,152"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1080b7da9f1d30f5fcede31a0ba5e2a4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::bp_compute_cudnn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolution backward propagation with cuDNN. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00531">531</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                          {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">  #ifndef __LIB_CUDNN</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;convolution_layer: cuDNN not detected&quot;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="preprocessor">  #else</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// Useful constants</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> one = 1;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> <a class="code" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">zero</a> = 0;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">// Clear unused columns</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;clear_unused_columns_on_gpus(this-&gt;m_prev_error_signal_d,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                                this-&gt;<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a>,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                                this-&gt;<a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a>-&gt;LocalWidth(),</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                                this-&gt;m_mini_batch_size_per_gpu);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// Perform back propagation on each GPU</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_gpus = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_num_gpus();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;num_gpus; ++i) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      CHECK_CUDA(cudaSetDevice(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_gpu(i)));</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      CHECK_CUDNN(cudnnSetStream(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                                 this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_stream(i)));</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      CHECK_CUDNN(cudnnConvolutionBackwardBias(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                               &amp;one,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                               this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                               this-&gt;m_prev_error_signal_d[i],</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                               &amp;<a class="code" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">zero</a>,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                               m_bias_desc,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                               m_bias_weights_gradient_d[i]));</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      CHECK_CUDNN(cudnnConvolutionBackwardFilter(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                                 &amp;one,</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                                                 this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                                 this-&gt;m_prev_activations_d[i],</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                                                 this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                                 this-&gt;m_prev_error_signal_d[i],</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                                 m_convolution_desc,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                                 m_backward_filter_algo,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                                 this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space(i),</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                                 this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space_size(i),</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                                 &amp;<a class="code" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">zero</a>,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                                 m_filter_desc,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                                 m_filter_weights_gradient_d[i]));</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      CHECK_CUDNN(cudnnConvolutionBackwardData(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                                               &amp;one,</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                                               m_filter_desc,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                               m_filter_weights_d[i],</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                               this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                                               this-&gt;m_prev_error_signal_d[i],</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                               m_convolution_desc,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                               m_backward_data_algo,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                               this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space(i),</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                               this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space_size(i),</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                               &amp;<a class="code" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">zero</a>,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                               this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                                               this-&gt;m_error_signal_d[i]));</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// Transfer outputs from GPUs to CPU and reduce</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> filter_weights_gradient_per_gpu</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      = m_weights_gradient_per_gpu.Matrix()(El::IR(0, m_weights_gradient_per_gpu.Height()-1), El::ALL);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> bias_weights_gradient_per_gpu</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      = m_weights_gradient_per_gpu.Matrix()(El::IR(m_weights_gradient_per_gpu.Height()-1), El::ALL);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;gather_from_gpus(filter_weights_gradient_per_gpu,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                    m_filter_weights_gradient_d,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                    <a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>-&gt;Width());</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;gather_from_gpus(bias_weights_gradient_per_gpu,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                    m_bias_weights_gradient_d,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                    <a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>-&gt;Width());</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    El::Zero(*this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;synchronize();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;num_gpus; ++i) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keyword">const</span> El::Int col_start = i * this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Width();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keyword">const</span> El::Int col_end = (i+1) * this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Width();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      *this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        += m_weights_gradient_per_gpu(El::ALL, El::IR(col_start, col_end));</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    El::AllReduce(*this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                  this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;RedundantComm());</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    *this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a> *= <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(1) / this-&gt;<a class="code" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f">get_effective_minibatch_size</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="preprocessor">  #endif // #ifndef __LIB_CUDNN</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="preprocessor"></span>  }</div>
<div class="ttc" id="base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00036">base.hpp:36</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="base_8hpp_html_a483ed30937584c6d3a4d76bff5215a34"><div class="ttname"><a href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a></div><div class="ttdeci">El::Matrix&lt; DataType &gt; Mat</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00040">base.hpp:40</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_aa64f62a5d3f49702745d8bad953ba7e6"><div class="ttname"><a href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">lbann::learning::m_weights_gradient</a></div><div class="ttdeci">ElMat * m_weights_gradient</div><div class="ttdoc">Gradient w.r.t. weight matrix ((# neurons) x (# previous layer&#39;s neurons)) </div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00044">learning.hpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ab63218a644eb6123ddbdd4f09947a24f"><div class="ttname"><a href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f">lbann::Layer::get_effective_minibatch_size</a></div><div class="ttdeci">virtual int get_effective_minibatch_size() const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00168">layer.hpp:168</a></div></div>
<div class="ttc" id="base_8hpp_html_a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a"><div class="ttname"><a href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">weight_initialization::zero</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_cgraph" id="classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f" title="lbann::Layer::get_effective\l_minibatch_size" alt="" coords="232,5,408,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_icgraph" id="classlbann_1_1convolution__layer_a1080b7da9f1d30f5fcede31a0ba5e2a4_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ac223a97714153369c52db5b348f0dc15" title="lbann::convolution\l_layer::bp_compute" alt="" coords="232,5,368,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="add5788df11451dbdc7fc94b7b8b5bb45"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::bp_compute_im2col </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolution backward propagation with im2col GEMM algorithm. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00667">667</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                           {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// Get local matrices</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; prev_activations_local = this-&gt;<a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>-&gt;LockedMatrix();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; filter_weights_local = this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>-&gt;LockedMatrix();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; prev_error_signal_local = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">m_prev_error_signal_v</a>-&gt;LockedMatrix();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; filter_weights_gradient_local = this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>-&gt;Matrix();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; bias_weights_gradient_local = this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>-&gt;Matrix();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; error_signal_local = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">m_error_signal_v</a>-&gt;Matrix();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// Initialize weight gradients to zero</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    Zero(*this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// Input, output, and filter entries are divided amongst channels</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_input_channels = this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>[0];</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_output_channels = this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0];</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_per_output_channel = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> / num_output_channels;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> current_filter_size = <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> / num_output_channels;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">// Compute bias gradient</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="preprocessor">    #pragma omp parallel for</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> output_channel = 0;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        output_channel &lt; num_output_channels;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        ++output_channel) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&amp; bias_weights_gradient_entry</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        = bias_weights_gradient_local(0, output_channel);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> col = 0; col &lt; prev_error_signal_local.Width(); ++col) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> row = output_channel * num_per_output_channel;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            row &lt; (output_channel+1) * num_per_output_channel;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            ++row) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          bias_weights_gradient_entry += prev_error_signal_local(row, col);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// Initialize filter and im2col matrices</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> im2col_mat(current_filter_size, num_per_output_channel);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// Iterate through data samples</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> sample = 0; sample &lt; prev_activations_local.Width(); ++sample) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="comment">// Reshape previous error signal into matrix</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> prev_error_signal_mat(num_per_output_channel,</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                                      num_output_channels,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                                      prev_error_signal_local.LockedBuffer(0,sample),</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                      num_per_output_channel);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="comment">// Compute gradient w.r.t. input im2col matrix</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      Gemm(NORMAL, TRANSPOSE,</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;           <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(1), filter_weights_local, prev_error_signal_mat,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;           <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(0), im2col_mat);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="comment">// Compute error signal (i.e. gradient w.r.t. input)</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> output_mat = El::View(error_signal_local, El::ALL, El::IR(sample));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <a class="code" href="namespacelbann.html#a0e1225f72580ffb5166181392b68b651">col2im</a>(im2col_mat,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;             output_mat,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;             num_input_channels,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;             this-&gt;<a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a> - 1,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;             this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.data() + 1,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>.data(),</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>.data(),</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>.data());</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// Construct im2col matrix from input</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> input_mat = El::LockedView(prev_activations_local,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                           El::ALL, El::IR(sample));</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9">im2col</a>(input_mat,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;             im2col_mat,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;             num_input_channels,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;             this-&gt;<a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a> - 1,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;             this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.data() + 1,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>.data(),</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>.data(),</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>.data());</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="comment">// Compute gradient w.r.t. filter</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      Gemm(NORMAL, NORMAL,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;           <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(1), im2col_mat, prev_error_signal_mat,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;           <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(0), filter_weights_gradient_local);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// Scale and accumulate gradients</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    *this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a> *= <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(1) / this-&gt;<a class="code" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f">get_effective_minibatch_size</a>();</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    AllReduce(*this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>, this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;RedundantComm());</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="ttc" id="base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00036">base.hpp:36</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a3f1ab0c18e78cd82af4cf24b73ec96bc"><div class="ttname"><a href="classlbann_1_1Layer.html#a3f1ab0c18e78cd82af4cf24b73ec96bc">lbann::Layer::m_prev_error_signal_v</a></div><div class="ttdeci">ElMat * m_prev_error_signal_v</div><div class="ttdoc">View of active columns in previous error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00214">layer.hpp:214</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a519c3e2c371e63d7fe3b7b1f839864be"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">lbann::convolution_layer::m_conv_size</a></div><div class="ttdeci">int m_conv_size</div><div class="ttdoc">Size of convolutional filters. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00060">convolution.hpp:60</a></div></div>
<div class="ttc" id="namespacelbann_html_aa3636a1979e40da2af91f30a12b90db9"><div class="ttname"><a href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9">lbann::im2col</a></div><div class="ttdeci">void im2col(const Mat &amp;im, Mat &amp;col, const int num_channels, const int im_num_dims, const int *im_dims, const int *im_pads, const int *window_dims, const int *window_strides)</div><div class="ttdoc">Rearrange image blocks into matrix columns. </div><div class="ttdef"><b>Definition:</b> <a href="im2col_8cpp_source.html#l00033">im2col.cpp:33</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="base_8hpp_html_a483ed30937584c6d3a4d76bff5215a34"><div class="ttname"><a href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a></div><div class="ttdeci">El::Matrix&lt; DataType &gt; Mat</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00040">base.hpp:40</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_aa64f62a5d3f49702745d8bad953ba7e6"><div class="ttname"><a href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">lbann::learning::m_weights_gradient</a></div><div class="ttdeci">ElMat * m_weights_gradient</div><div class="ttdoc">Gradient w.r.t. weight matrix ((# neurons) x (# previous layer&#39;s neurons)) </div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00044">learning.hpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ab63218a644eb6123ddbdd4f09947a24f"><div class="ttname"><a href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f">lbann::Layer::get_effective_minibatch_size</a></div><div class="ttdeci">virtual int get_effective_minibatch_size() const </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00168">layer.hpp:168</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="namespacelbann_html_a0e1225f72580ffb5166181392b68b651"><div class="ttname"><a href="namespacelbann.html#a0e1225f72580ffb5166181392b68b651">lbann::col2im</a></div><div class="ttdeci">void col2im(const Mat &amp;col, Mat &amp;im, const int num_channels, const int im_num_dims, const int *im_dims, const int *im_pads, const int *window_dims, const int *window_strides)</div><div class="ttdoc">Rearrange matrix columns into image blocks. </div><div class="ttdef"><b>Definition:</b> <a href="im2col_8cpp_source.html#l00115">im2col.cpp:115</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a2fccbe7596578869ee0317c3d2542f35"><div class="ttname"><a href="classlbann_1_1Layer.html#a2fccbe7596578869ee0317c3d2542f35">lbann::Layer::m_error_signal_v</a></div><div class="ttdeci">ElMat * m_error_signal_v</div><div class="ttdoc">View of active columns in error signal matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00225">layer.hpp:225</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_cgraph" id="classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a0e1225f72580ffb5166181392b68b651" title="Rearrange matrix columns into image blocks. " alt="" coords="273,5,372,32"/><area shape="rect" id="node4" href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9" title="Rearrange image blocks into matrix columns. " alt="" coords="273,56,372,83"/><area shape="rect" id="node6" href="classlbann_1_1Layer.html#ab63218a644eb6123ddbdd4f09947a24f" title="lbann::Layer::get_effective\l_minibatch_size" alt="" coords="235,107,411,149"/><area shape="rect" id="node3" href="namespacelbann.html#a1953674a43b284f0abb5c5e4db94b2b9" title="Rearrange matrix columns into 2D image blocks. " alt="" coords="459,5,579,32"/><area shape="rect" id="node5" href="namespacelbann.html#adc05d10657be77ccd9a74b1621c416c3" title="Rearrange 2D image blocks into matrix columns. " alt="" coords="459,56,579,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_icgraph" id="classlbann_1_1convolution__layer_add5788df11451dbdc7fc94b7b8b5bb45_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ac223a97714153369c52db5b348f0dc15" title="lbann::convolution\l_layer::bp_compute" alt="" coords="235,5,371,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3dbb18c3721ba6ac044707b5631fc6e0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a>* <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classlbann_1_1Layer.html#af420f22bbac801c85483ade84588a23f">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00232">232</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classlbann_1_1convolution__layer.html#a5c41a5f1b97be9c1e00fac325b7779fd">convolution_layer</a>(*<span class="keyword">this</span>); }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a5c41a5f1b97be9c1e00fac325b7779fd"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a5c41a5f1b97be9c1e00fac325b7779fd">lbann::convolution_layer::convolution_layer</a></div><div class="ttdeci">convolution_layer(int index, lbann_comm *comm, int mini_batch_size, int num_data_dims, int num_output_channels, const int *conv_dims, const int *conv_pads, const int *conv_strides, weight_initialization init, optimizer *opt, cudnn::cudnn_manager *cudnn=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00105">convolution.hpp:105</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a3dbb18c3721ba6ac044707b5631fc6e0_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a3dbb18c3721ba6ac044707b5631fc6e0_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a3dbb18c3721ba6ac044707b5631fc6e0_cgraph" id="classlbann_1_1convolution__layer_a3dbb18c3721ba6ac044707b5631fc6e0_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#a5c41a5f1b97be9c1e00fac325b7779fd" title="lbann::convolution\l_layer::convolution_layer" alt="" coords="182,46,349,87"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#a60eaabd89fc3900bbf0bb840482b8f20" title="lbann::convolution\l_layer::initialize_distributed\l_matrices" alt="" coords="397,5,576,61"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4" title="lbann::lbann_comm::\lget_model_grid" alt="" coords="625,46,767,87"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad3a25a050b7af8113a88e3775da184f7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::fp_compute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform the layers work / main function for forward propagation </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a99a30fcb1b5ab3c47ff5c28a4920967c">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00465">465</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <a class="code" href="classlbann_1_1convolution__layer.html#ae43725a33c0a4ad1daf63c115a436941">fp_compute_cudnn</a>();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="classlbann_1_1convolution__layer.html#aee7af14f0e5f4fb4afa490de959a49d1">fp_compute_im2col</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ae43725a33c0a4ad1daf63c115a436941"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ae43725a33c0a4ad1daf63c115a436941">lbann::convolution_layer::fp_compute_cudnn</a></div><div class="ttdeci">void fp_compute_cudnn()</div><div class="ttdoc">Convolution forward propagation with cuDNN. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00484">convolution.hpp:484</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_aee7af14f0e5f4fb4afa490de959a49d1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#aee7af14f0e5f4fb4afa490de959a49d1">lbann::convolution_layer::fp_compute_im2col</a></div><div class="ttdeci">void fp_compute_im2col()</div><div class="ttdoc">Convolution forward propagation with im2col GEMM algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00615">convolution.hpp:615</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_ad3a25a050b7af8113a88e3775da184f7_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_ad3a25a050b7af8113a88e3775da184f7_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_ad3a25a050b7af8113a88e3775da184f7_cgraph" id="classlbann_1_1convolution__layer_ad3a25a050b7af8113a88e3775da184f7_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ae43725a33c0a4ad1daf63c115a436941" title="Convolution forward propagation with cuDNN. " alt="" coords="189,5,363,46"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#aee7af14f0e5f4fb4afa490de959a49d1" title="Convolution forward propagation with im2col GEMM algorithm. " alt="" coords="187,70,365,111"/><area shape="rect" id="node4" href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9" title="Rearrange image blocks into matrix columns. " alt="" coords="413,77,512,104"/><area shape="rect" id="node5" href="namespacelbann.html#adc05d10657be77ccd9a74b1621c416c3" title="Rearrange 2D image blocks into matrix columns. " alt="" coords="560,77,680,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae43725a33c0a4ad1daf63c115a436941"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::fp_compute_cudnn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolution forward propagation with cuDNN. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00484">484</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                          {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">  #ifndef __LIB_CUDNN</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;convolution_layer: cuDNN not detected&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">  #else</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// Useful constants</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> one = 1;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> <a class="code" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">zero</a> = 0;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// Transfer filters and bias from CPU to GPUs</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;broadcast_to_gpus(m_filter_weights_d,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                     this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>-&gt;LockedMatrix());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;broadcast_to_gpus(m_bias_weights_d,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                     this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>-&gt;LockedMatrix());</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// Perform convolution on each GPU</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_gpus = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_num_gpus();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;num_gpus; ++i) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      CHECK_CUDA(cudaSetDevice(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_gpu(i)));</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      CHECK_CUDNN(cudnnSetStream(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                 this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_stream(i)));</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      CHECK_CUDNN(cudnnConvolutionForward(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                          &amp;one,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                          this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                          this-&gt;m_prev_activations_d[i],</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                          m_filter_desc,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                          m_filter_weights_d[i],</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                          m_convolution_desc,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                          m_forward_algo,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                          this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space(i),</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                          this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space_size(i),</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                                          &amp;<a class="code" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">zero</a>,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                          this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                          this-&gt;m_activations_d[i]));</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      CHECK_CUDNN(cudnnAddTensor(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(i),</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                 &amp;one,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                 m_bias_desc,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                 m_bias_weights_d[i],</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                 &amp;one,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                 this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                 this-&gt;m_activations_d[i]));</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">  #endif // #ifndef __LIB_CUDNN</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor"></span>  }</div>
<div class="ttc" id="base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00036">base.hpp:36</a></div></div>
<div class="ttc" id="base_8hpp_html_a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a"><div class="ttname"><a href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5ad02c4c4cde7ae76252540d116a40f23a">weight_initialization::zero</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_ae43725a33c0a4ad1daf63c115a436941_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_ae43725a33c0a4ad1daf63c115a436941_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_ae43725a33c0a4ad1daf63c115a436941_icgraph" id="classlbann_1_1convolution__layer_ae43725a33c0a4ad1daf63c115a436941_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ad3a25a050b7af8113a88e3775da184f7" title="lbann::convolution\l_layer::fp_compute" alt="" coords="229,5,363,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aee7af14f0e5f4fb4afa490de959a49d1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::fp_compute_im2col </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolution forward propagation with im2col GEMM algorithm. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00615">615</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                           {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">// Get local matrices</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; prev_activations_local = this-&gt;<a class="code" href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">m_prev_activations_v</a>-&gt;LockedMatrix();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; filter_weights_local = this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>-&gt;LockedMatrix();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; bias_weights_local = this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>-&gt;LockedMatrix();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&amp; activations_local = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">m_activations_v</a>-&gt;Matrix();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="comment">// Input, output, and filter entries are divided amongst channels</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_input_channels = this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>[0];</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_output_channels = this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0];</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_per_output_channel = this-&gt;<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> / num_output_channels;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> current_filter_size = <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> / num_output_channels;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// Apply bias</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;num_output_channels; ++i) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> activations_channel</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        = El::View(activations_local,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                   El::IR(i*num_per_output_channel, (i+1)*num_per_output_channel),</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                   El::ALL);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      Fill(activations_channel, bias_weights_local.Get(0,i));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">// Initialize im2col matrix</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> im2col_mat(current_filter_size, num_per_output_channel);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// Iterate through data samples</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> sample = 0; sample &lt; prev_activations_local.Width(); ++sample) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="comment">// Construct im2col matrix from input</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="keyword">const</span> <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> input_mat = El::LockedView(prev_activations_local, El::ALL, El::IR(sample));</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <a class="code" href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9">im2col</a>(input_mat,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;             im2col_mat,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;             num_input_channels,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;             this-&gt;<a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a> - 1,</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;             this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>.data() + 1,</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>.data(),</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>.data(),</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;             <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>.data());</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// Apply convolution to current data sample</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> output_mat(num_per_output_channel, num_output_channels,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                     activations_local.Buffer(0,sample), num_per_output_channel);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      El::Gemm(TRANSPOSE, NORMAL,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;           <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(1), im2col_mat, filter_weights_local,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;           <a class="code" href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>(1), output_mat);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  }</div>
<div class="ttc" id="base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00036">base.hpp:36</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a871b103aedbd95b5205c24b66ef74dfa"><div class="ttname"><a href="classlbann_1_1Layer.html#a871b103aedbd95b5205c24b66ef74dfa">lbann::Layer::m_activations_v</a></div><div class="ttdeci">ElMat * m_activations_v</div><div class="ttdoc">View of active columns in activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00217">layer.hpp:217</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a519c3e2c371e63d7fe3b7b1f839864be"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">lbann::convolution_layer::m_conv_size</a></div><div class="ttdeci">int m_conv_size</div><div class="ttdoc">Size of convolutional filters. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00060">convolution.hpp:60</a></div></div>
<div class="ttc" id="namespacelbann_html_aa3636a1979e40da2af91f30a12b90db9"><div class="ttname"><a href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9">lbann::im2col</a></div><div class="ttdeci">void im2col(const Mat &amp;im, Mat &amp;col, const int num_channels, const int im_num_dims, const int *im_dims, const int *im_pads, const int *window_dims, const int *window_strides)</div><div class="ttdoc">Rearrange image blocks into matrix columns. </div><div class="ttdef"><b>Definition:</b> <a href="im2col_8cpp_source.html#l00033">im2col.cpp:33</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="base_8hpp_html_a483ed30937584c6d3a4d76bff5215a34"><div class="ttname"><a href="base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a></div><div class="ttdeci">El::Matrix&lt; DataType &gt; Mat</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00040">base.hpp:40</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ac590e0f3831d1c7b204275c89375ee14"><div class="ttname"><a href="classlbann_1_1Layer.html#ac590e0f3831d1c7b204275c89375ee14">lbann::Layer::m_prev_activations_v</a></div><div class="ttdeci">ElMat * m_prev_activations_v</div><div class="ttdoc">View of active columns in previous activations matrix. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00228">layer.hpp:228</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_cgraph" id="classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#aa3636a1979e40da2af91f30a12b90db9" title="Rearrange image blocks into matrix columns. " alt="" coords="232,12,331,39"/><area shape="rect" id="node3" href="namespacelbann.html#adc05d10657be77ccd9a74b1621c416c3" title="Rearrange 2D image blocks into matrix columns. " alt="" coords="379,12,499,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_icgraph" id="classlbann_1_1convolution__layer_aee7af14f0e5f4fb4afa490de959a49d1_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#ad3a25a050b7af8113a88e3775da184f7" title="lbann::convolution\l_layer::fp_compute" alt="" coords="232,5,365,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a096175733f4066e2c01d9fefdbfa9134"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="base_8hpp.html#a786677cbfb3f5677b4d84f3056eb08db">data_layout</a> <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::get_data_layout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the data layout of the given layer &ndash; Every concrete layer has to overrride this with its T_layout template parameter </p>

<p>Implements <a class="el" href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00246">246</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{ <span class="keywordflow">return</span> T_layout; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a802c59140ffc40e4a010e2bf715cef9f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return this layer's name </p>

<p>Implements <a class="el" href="classlbann_1_1Layer.html#abb61e5c9919d84793378beb17bc4d287">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00234">234</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;convolution&quot;</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60eaabd89fc3900bbf0bb840482b8f20"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::initialize_distributed_matrices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Instantiate these view objects but do not allocate data for them TODO: model parallel implementation </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00236">236</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                         {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    learning::initialize_distributed_matrices&lt;T_layout&gt;();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>           = <span class="keyword">new</span> <a class="code" href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>());</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>  = <span class="keyword">new</span> <a class="code" href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>());</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>             = <span class="keyword">new</span> <a class="code" href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>());</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>    = <span class="keyword">new</span> <a class="code" href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">m_comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="base_8hpp_html_ac1f107dfdc1d078904b4b666af5b6b86"><div class="ttname"><a href="base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a></div><div class="ttdeci">El::DistMatrix&lt; DataType, El::STAR, El::STAR &gt; StarMat</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00044">base.hpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a483bf8a72d44a0e83da45f3d47bd20d4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">lbann::lbann_comm::get_model_grid</a></div><div class="ttdeci">Grid &amp; get_model_grid()</div><div class="ttdef"><b>Definition:</b> <a href="comm_8hpp_source.html#l00104">comm.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a5de05c52f22e0bbd7c703bec3ad4dbf2"><div class="ttname"><a href="classlbann_1_1Layer.html#a5de05c52f22e0bbd7c703bec3ad4dbf2">lbann::Layer::m_comm</a></div><div class="ttdeci">lbann_comm * m_comm</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00202">layer.hpp:202</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_cgraph" id="classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4" title="lbann::lbann_comm::\lget_model_grid" alt="" coords="233,11,375,53"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_icgraph" id="classlbann_1_1convolution__layer_a60eaabd89fc3900bbf0bb840482b8f20_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#a5c41a5f1b97be9c1e00fac325b7779fd" title="lbann::convolution\l_layer::convolution_layer" alt="" coords="233,11,399,53"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#a3dbb18c3721ba6ac044707b5631fc6e0" title="lbann::convolution\l_layer::copy" alt="" coords="449,11,575,53"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae92c4059e1c6ac6cf5064769d7d21c61"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a>&amp; <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a>&lt; T_layout &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00175">175</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                               {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classlbann_1_1learning.html#a0a84db7ba4ca325d7f4fc5f7713142e6">learning::operator=</a>(other);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">m_weight_initialization</a> = other.m_weight_initialization;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a> = other.m_conv_dims;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> = other.m_conv_size;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a> = other.m_conv_pads;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a> = other.m_conv_strides;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a> = other.m_filter_weights_v-&gt;Copy();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a> = other.m_filter_weights_gradient_v-&gt;Copy();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a> = other.m_bias_weights_v-&gt;Copy();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a> = other.m_bias_weights_gradient_v-&gt;Copy();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389">setup_views</a>();  <span class="comment">// Update views.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Update optimizer parameters if needed.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a>-&gt;<a class="code" href="classlbann_1_1optimizer.html#a0c1a5d5981eb740b26e1d3b082421fc7">get_parameters</a>()) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a>-&gt;<a class="code" href="classlbann_1_1optimizer.html#a34a0dff15ff43cf9c76d0e1a4899d4cb">set_parameters</a>(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1optimizer_html_a0c1a5d5981eb740b26e1d3b082421fc7"><div class="ttname"><a href="classlbann_1_1optimizer.html#a0c1a5d5981eb740b26e1d3b082421fc7">lbann::optimizer::get_parameters</a></div><div class="ttdeci">AbsDistMat * get_parameters() const </div><div class="ttdoc">Get parameters. </div><div class="ttdef"><b>Definition:</b> <a href="optimizer_8hpp_source.html#l00074">optimizer.hpp:74</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a3fa45c128e694a2029e3962ed20eb8bf"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">lbann::convolution_layer::m_weight_initialization</a></div><div class="ttdeci">weight_initialization m_weight_initialization</div><div class="ttdoc">Weight initialization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00056">convolution.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a519c3e2c371e63d7fe3b7b1f839864be"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">lbann::convolution_layer::m_conv_size</a></div><div class="ttdeci">int m_conv_size</div><div class="ttdoc">Size of convolutional filters. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00060">convolution.hpp:60</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a356dc0069b12d1007721c2548056d429"><div class="ttname"><a href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">lbann::learning::m_weights</a></div><div class="ttdeci">ElMat * m_weights</div><div class="ttdoc">Weight matrix (computes weight sum of inputs ((# neurons) x (# previous layer&#39;s neurons)) ...</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00043">learning.hpp:43</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a82d93dc3b859e0558082bdd535b6ecde"><div class="ttname"><a href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">lbann::learning::m_optimizer</a></div><div class="ttdeci">optimizer * m_optimizer</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00041">learning.hpp:41</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac1591d929ac399c82e95bb7cdf406389"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389">lbann::convolution_layer::setup_views</a></div><div class="ttdeci">void setup_views()</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00323">convolution.hpp:323</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1optimizer_html_a34a0dff15ff43cf9c76d0e1a4899d4cb"><div class="ttname"><a href="classlbann_1_1optimizer.html#a34a0dff15ff43cf9c76d0e1a4899d4cb">lbann::optimizer::set_parameters</a></div><div class="ttdeci">void set_parameters(AbsDistMat *parameters)</div><div class="ttdef"><b>Definition:</b> <a href="optimizer_8hpp_source.html#l00083">optimizer.hpp:83</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a0a84db7ba4ca325d7f4fc5f7713142e6"><div class="ttname"><a href="classlbann_1_1learning.html#a0a84db7ba4ca325d7f4fc5f7713142e6">lbann::learning::operator=</a></div><div class="ttdeci">learning &amp; operator=(const learning &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00071">learning.hpp:71</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_ae92c4059e1c6ac6cf5064769d7d21c61_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_ae92c4059e1c6ac6cf5064769d7d21c61_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_ae92c4059e1c6ac6cf5064769d7d21c61_cgraph" id="classlbann_1_1convolution__layer_ae92c4059e1c6ac6cf5064769d7d21c61_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1learning.html#a0a84db7ba4ca325d7f4fc5f7713142e6" title="lbann::learning::operator=" alt="" coords="182,56,351,83"/><area shape="rect" id="node5" href="classlbann_1_1convolution__layer.html#ac1591d929ac399c82e95bb7cdf406389" title="lbann::convolution\l_layer::setup_views" alt="" coords="197,107,336,149"/><area shape="rect" id="node7" href="classlbann_1_1optimizer.html#a0c1a5d5981eb740b26e1d3b082421fc7" title="Get parameters. " alt="" coords="197,173,337,214"/><area shape="rect" id="node8" href="classlbann_1_1optimizer.html#a34a0dff15ff43cf9c76d0e1a4899d4cb" title="lbann::optimizer::set\l_parameters" alt="" coords="197,238,337,279"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a00d8acde68fda2f38c4a39ef8c89234a" title="lbann::Layer::operator=" alt="" coords="401,5,557,32"/><area shape="rect" id="node4" href="classlbann_1_1optimizer.html#adf19a1d19d832ebfe70072cc202cdf39" title="lbann::optimizer::copy" alt="" coords="403,56,554,83"/><area shape="rect" id="node6" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5" title="lbann::Layer::setup\l_views" alt="" coords="412,107,545,149"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acca43020e655454470244b57f11156fa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::setup_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer should override to call its parent and set up the layer's data (e.g. weights). This base method sets up the activations and error signal matrices. This is always called after setup_dims. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00282">282</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81">learning::setup_data</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Initialize matrices</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Resize(<a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> / this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0] + 1,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                            this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Resize(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Height(),</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                     this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Width());</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">  #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      m_weights_gradient_per_gpu.Resize(this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Height(),</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                        this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Width()</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                        * this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_num_gpus());</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// Pin host memory</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">m_using_gpus</a>) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;pin_matrix(*this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;pin_matrix(m_weights_gradient_per_gpu);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">  #endif // #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// Initialize filters</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> fan_in = <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> / this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0];</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> fan_out = <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> / this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>[0];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    El::View(*<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>, *this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;             El::IR(0,this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Height()-1), El::ALL);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="namespacelbann.html#af014ac60b7c65609cc2347eb586bbee4">initialize_matrix</a>(*<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>, this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">m_weight_initialization</a>, fan_in, fan_out);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// Initialize bias</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    El::View(*<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>, *this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;             El::IR(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Height()-1), El::ALL);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    El::Zero(*<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// Initialize optimizer</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a> != NULL) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a>-&gt;<a class="code" href="classlbann_1_1optimizer.html#a6eb6169ed46ad602339c7b0bc2633c37">setup</a>(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a3fa45c128e694a2029e3962ed20eb8bf"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a3fa45c128e694a2029e3962ed20eb8bf">lbann::convolution_layer::m_weight_initialization</a></div><div class="ttdeci">weight_initialization m_weight_initialization</div><div class="ttdoc">Weight initialization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00056">convolution.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a519c3e2c371e63d7fe3b7b1f839864be"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">lbann::convolution_layer::m_conv_size</a></div><div class="ttdeci">int m_conv_size</div><div class="ttdoc">Size of convolutional filters. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00060">convolution.hpp:60</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af7881cb5eff5207c15fa835d65462e8f"><div class="ttname"><a href="classlbann_1_1Layer.html#af7881cb5eff5207c15fa835d65462e8f">lbann::Layer::m_using_gpus</a></div><div class="ttdeci">bool m_using_gpus</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00282">layer.hpp:282</a></div></div>
<div class="ttc" id="namespacelbann_html_af014ac60b7c65609cc2347eb586bbee4"><div class="ttname"><a href="namespacelbann.html#af014ac60b7c65609cc2347eb586bbee4">lbann::initialize_matrix</a></div><div class="ttdeci">void initialize_matrix(ElMat &amp;matrix_v, weight_initialization initialization, El::Int fan_in, El::Int fan_out)</div><div class="ttdef"><b>Definition:</b> <a href="random_8cpp_source.html#l00207">random.cpp:207</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a356dc0069b12d1007721c2548056d429"><div class="ttname"><a href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">lbann::learning::m_weights</a></div><div class="ttdeci">ElMat * m_weights</div><div class="ttdoc">Weight matrix (computes weight sum of inputs ((# neurons) x (# previous layer&#39;s neurons)) ...</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00043">learning.hpp:43</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a82d93dc3b859e0558082bdd535b6ecde"><div class="ttname"><a href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">lbann::learning::m_optimizer</a></div><div class="ttdeci">optimizer * m_optimizer</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00041">learning.hpp:41</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_aa64f62a5d3f49702745d8bad953ba7e6"><div class="ttname"><a href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">lbann::learning::m_weights_gradient</a></div><div class="ttdeci">ElMat * m_weights_gradient</div><div class="ttdoc">Gradient w.r.t. weight matrix ((# neurons) x (# previous layer&#39;s neurons)) </div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00044">learning.hpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1optimizer_html_a6eb6169ed46ad602339c7b0bc2633c37"><div class="ttname"><a href="classlbann_1_1optimizer.html#a6eb6169ed46ad602339c7b0bc2633c37">lbann::optimizer::setup</a></div><div class="ttdeci">virtual void setup(AbsDistMat *parameters)</div><div class="ttdoc">Set parameters to optimize and initialize optimizer. </div><div class="ttdef"><b>Definition:</b> <a href="optimizer_8cpp_source.html#l00038">optimizer.cpp:38</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a50a89f8a68762c677d48efe384676e81"><div class="ttname"><a href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81">lbann::Layer::setup_data</a></div><div class="ttdeci">virtual void setup_data()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00399">layer.cpp:399</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_acca43020e655454470244b57f11156fa_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_acca43020e655454470244b57f11156fa_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_acca43020e655454470244b57f11156fa_cgraph" id="classlbann_1_1convolution__layer_acca43020e655454470244b57f11156fa_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a50a89f8a68762c677d48efe384676e81" title="lbann::Layer::setup_data" alt="" coords="184,5,349,32"/><area shape="rect" id="node3" href="namespacelbann.html#af014ac60b7c65609cc2347eb586bbee4" title="lbann::initialize_matrix" alt="" coords="191,56,342,83"/><area shape="rect" id="node9" href="classlbann_1_1optimizer.html#a6eb6169ed46ad602339c7b0bc2633c37" title="Set parameters to optimize and initialize optimizer. " alt="" coords="189,107,344,133"/><area shape="rect" id="node4" href="namespacelbann.html#acd76b03f2b7ee00ad7c8ba83a20d1866" title="lbann::uniform_fill" alt="" coords="402,29,526,56"/><area shape="rect" id="node7" href="namespacelbann.html#a057b6c1efb3f6fcbe8ebe08f8506fee1" title="lbann::gaussian_fill" alt="" coords="397,84,531,111"/><area shape="rect" id="node5" href="namespacelbann.html#a5cd1cf097449bfd5bed0246819cddd13" title="lbann::uniform_fill\l_procdet" alt="" coords="583,18,707,59"/><area shape="rect" id="node6" href="namespacelbann.html#a4fea7ba21017b49d1e34394b4c20c764" title="lbann::get_generator" alt="" coords="761,59,901,85"/><area shape="rect" id="node8" href="namespacelbann.html#a4fab058e5091cf12e918d879c340f125" title="lbann::gaussian_fill\l_procdet" alt="" coords="579,83,712,125"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a156721b2cbf972932d317d3c6e0d62d3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::setup_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer should override this to call its parent and set up the layer's m_num_neurons and m_neuron_dims. This base method sets up m_num_prev_neurons and related methods. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00248">248</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// Store neuron tensor dimensions</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">const</span> std::vector&lt;int&gt; neuron_dims = this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Initialize previous neuron tensor dimensions</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746">learning::setup_dims</a>();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Check if previous neuron tensor dimensions are valid</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">  #ifdef LBANN_DEBUG</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a> != (<span class="keywordtype">int</span>) neuron_dims.size()) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;convolution_layer: neuron tensor dimensions are unexpected&quot;</span>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="preprocessor">  #endif</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// Initialize neuron tensor dimensions</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a> = neuron_dims;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;this-&gt;<a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a>-1; ++i) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> effective_dim = (this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>[i+1]</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                 + 2*<a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>[i] - <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>[i] + 1);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[i+1] = ((effective_dim + <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>[i] - 1)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                  / <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>[i]);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">m_num_neurons</a> = std::accumulate(this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>.begin(),</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                          this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>.end(),</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                          1,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                          std::multiplies&lt;int&gt;());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// Get size of convolutional filters</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">m_conv_size</a> = std::accumulate(<a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>.begin(),</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                  <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>.end(),</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                  this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>[0] * this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0],</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                  std::multiplies&lt;int&gt;());</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1Layer_html_a6b5ebc8a7d9329d8a773ed787e7b41d8"><div class="ttname"><a href="classlbann_1_1Layer.html#a6b5ebc8a7d9329d8a773ed787e7b41d8">lbann::Layer::m_num_neurons</a></div><div class="ttdeci">int m_num_neurons</div><div class="ttdoc">Number of neurons. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00204">layer.hpp:204</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a519c3e2c371e63d7fe3b7b1f839864be"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a519c3e2c371e63d7fe3b7b1f839864be">lbann::convolution_layer::m_conv_size</a></div><div class="ttdeci">int m_conv_size</div><div class="ttdoc">Size of convolutional filters. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00060">convolution.hpp:60</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a90fce1b06c1f2abb480e18cfe08a9746"><div class="ttname"><a href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746">lbann::Layer::setup_dims</a></div><div class="ttdeci">virtual void setup_dims()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00379">layer.cpp:379</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a156721b2cbf972932d317d3c6e0d62d3_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a156721b2cbf972932d317d3c6e0d62d3_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a156721b2cbf972932d317d3c6e0d62d3_cgraph" id="classlbann_1_1convolution__layer_a156721b2cbf972932d317d3c6e0d62d3_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a90fce1b06c1f2abb480e18cfe08a9746" title="lbann::Layer::setup_dims" alt="" coords="187,12,355,39"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a9eb525b60e6fc0613f09f54648bc27b6" title="lbann::Layer::fp_output_dims" alt="" coords="403,12,594,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef1ce8742619dddb3371e6c5cc64af4c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::setup_gpu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize GPU objects. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00337">337</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                   {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863">learning::setup_gpu</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">  #ifndef __LIB_CUDNN</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;convolution_layer: cuDNN not detected&quot;</span>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">  #else</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// Get device properties</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    cudaDeviceProp device_props;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    CHECK_CUDA(cudaGetDeviceProperties(&amp;device_props, 0));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// Maximum workspace size</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> work_space_limit = device_props.totalGlobalMem/2;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">// Initialize descriptors</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    CHECK_CUDNN(cudnnCreateTensorDescriptor(&amp;m_bias_desc));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    CHECK_CUDNN(cudnnCreateFilterDescriptor(&amp;m_filter_desc));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    CHECK_CUDNN(cudnnCreateConvolutionDescriptor(&amp;m_convolution_desc));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// Set filter descriptor</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    std::vector&lt;int&gt; conv_dims = <a class="code" href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">m_conv_dims</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    conv_dims.insert(conv_dims.begin(), this-&gt;<a class="code" href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">m_prev_neuron_dims</a>[0]);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    conv_dims.insert(conv_dims.begin(), this-&gt;<a class="code" href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">m_neuron_dims</a>[0]);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    CHECK_CUDNN(cudnnSetFilterNdDescriptor(m_filter_desc,</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                           this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_cudnn_data_type(),</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                           CUDNN_TENSOR_NCHW,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                           conv_dims.size(),</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                           conv_dims.data()));</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// Set convolution descriptor</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// Note: upscales are not supported as of cuDNN v5.1</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    std::vector&lt;int&gt; conv_upscales(this-&gt;<a class="code" href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">m_num_neuron_dims</a>-1, 1);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    CHECK_CUDNN(cudnnSetConvolutionNdDescriptor(m_convolution_desc,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                                <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>.size(),</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                                <a class="code" href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">m_conv_pads</a>.data(),</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                                <a class="code" href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">m_conv_strides</a>.data(),</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                                conv_upscales.data(),</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                CUDNN_CONVOLUTION,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_cudnn_data_type()));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Set bias tensor descriptor</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    std::vector&lt;int&gt; bias_dims(this-&gt;<a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a>+1, 1);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    bias_dims[1] = this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>-&gt;Width();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    std::vector&lt;int&gt; bias_strides(this-&gt;<a class="code" href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">m_num_prev_neuron_dims</a>+1, 1);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    bias_strides[0] = bias_dims[1];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    CHECK_CUDNN(cudnnSetTensorNdDescriptor(m_bias_desc,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                           this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_cudnn_data_type(),</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                           bias_dims.size(),</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                           bias_dims.data(),</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                           bias_strides.data()));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// Choose algorithms</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    CHECK_CUDNN(cudnnGetConvolutionForwardAlgorithm(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(),</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                                    this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                                    m_filter_desc,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                                    m_convolution_desc,</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                                    this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                    CUDNN_CONVOLUTION_FWD_SPECIFY_WORKSPACE_LIMIT,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                                    work_space_limit,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                                    &amp;m_forward_algo));</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    CHECK_CUDNN(cudnnGetConvolutionBackwardFilterAlgorithm(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(),</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                                           this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                                           this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                                           m_convolution_desc,</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                                           m_filter_desc,</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                                           CUDNN_CONVOLUTION_BWD_FILTER_SPECIFY_WORKSPACE_LIMIT,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                                           work_space_limit,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                                           &amp;m_backward_filter_algo));</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    CHECK_CUDNN(cudnnGetConvolutionBackwardDataAlgorithm(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(),</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                                         m_filter_desc,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                                         this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                                                         m_convolution_desc,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                                         this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                                         CUDNN_CONVOLUTION_BWD_DATA_SPECIFY_WORKSPACE_LIMIT,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                                         work_space_limit,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                                         &amp;m_backward_data_algo));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// Initialize work space</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">size_t</span> max_work_space = 0;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordtype">size_t</span> required_work_space;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    CHECK_CUDNN(cudnnGetConvolutionForwardWorkspaceSize(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(),</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                                        this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                                        m_filter_desc,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                                        m_convolution_desc,</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                                        this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                                        m_forward_algo,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                                        &amp;required_work_space));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    max_work_space = std::max(max_work_space, required_work_space);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    CHECK_CUDNN(cudnnGetConvolutionBackwardFilterWorkspaceSize(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(),</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                                               this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                                               this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                                               m_convolution_desc,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                                               m_filter_desc,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                                               m_backward_filter_algo,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                                               &amp;required_work_space));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    max_work_space = std::max(max_work_space, required_work_space);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    CHECK_CUDNN(cudnnGetConvolutionBackwardDataWorkspaceSize(this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_handle(),</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                                             m_filter_desc,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                                             this-&gt;m_neurons_cudnn_desc,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                                             m_convolution_desc,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                                             this-&gt;m_prev_neurons_cudnn_desc,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                             m_backward_data_algo,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                                             &amp;required_work_space));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    max_work_space = std::max(max_work_space, required_work_space);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_num_gpus(); ++i) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">if</span>(max_work_space &gt; this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;get_work_space_size(i)) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;set_work_space_size(i, max_work_space);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// Allocate GPU memory</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(this-&gt;m_filter_weights_d,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>-&gt;Height(),</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>-&gt;Width());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(this-&gt;m_filter_weights_gradient_d,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>-&gt;Height(),</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>-&gt;Width());</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(this-&gt;m_bias_weights_d,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>-&gt;Height(),</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>-&gt;Width());</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    this-&gt;<a class="code" href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">m_cudnn</a>-&gt;allocate_on_gpus(this-&gt;m_bias_weights_gradient_d,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>-&gt;Height(),</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                    this-&gt;<a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>-&gt;Width());</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">  #endif // #ifdef __LIB_CUDNN</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor"></span>  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_ac95fdac053d0779b1c20f2784cb7394b"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#ac95fdac053d0779b1c20f2784cb7394b">lbann::convolution_layer::m_conv_strides</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_strides</div><div class="ttdoc">Convolution strides. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00064">convolution.hpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a36aa22ef90ce4de65abe729d38490863"><div class="ttname"><a href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863">lbann::Layer::setup_gpu</a></div><div class="ttdeci">virtual void setup_gpu()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8cpp_source.html#l00423">layer.cpp:423</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adfd6178d21498c9095cd947ae1eb2d6a"><div class="ttname"><a href="classlbann_1_1Layer.html#adfd6178d21498c9095cd947ae1eb2d6a">lbann::Layer::m_num_neuron_dims</a></div><div class="ttdeci">int m_num_neuron_dims</div><div class="ttdoc">Number of dimensions in neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00205">layer.hpp:205</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a431ad08e2c9218f03d1fe3cf05d94a43"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a431ad08e2c9218f03d1fe3cf05d94a43">lbann::convolution_layer::m_conv_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_dims</div><div class="ttdoc">Convolutional filter dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00058">convolution.hpp:58</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_abb34bb8031f57a483e2e327a5f229f48"><div class="ttname"><a href="classlbann_1_1Layer.html#abb34bb8031f57a483e2e327a5f229f48">lbann::Layer::m_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00206">layer.hpp:206</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a7a81d091db7b987b7201125bda103281"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a7a81d091db7b987b7201125bda103281">lbann::convolution_layer::m_conv_pads</a></div><div class="ttdeci">std::vector&lt; int &gt; m_conv_pads</div><div class="ttdoc">Convolution padding. </div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00062">convolution.hpp:62</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_adc052afb38f170e839db00d3c8151d1e"><div class="ttname"><a href="classlbann_1_1Layer.html#adc052afb38f170e839db00d3c8151d1e">lbann::Layer::m_num_prev_neuron_dims</a></div><div class="ttdeci">int m_num_prev_neuron_dims</div><div class="ttdoc">Number of dimensions in previous layer&#39;s neuron tensor. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00208">layer.hpp:208</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a08dbb94239e3b8c96329786c57c72e21"><div class="ttname"><a href="classlbann_1_1Layer.html#a08dbb94239e3b8c96329786c57c72e21">lbann::Layer::m_cudnn</a></div><div class="ttdeci">cudnn::cudnn_manager * m_cudnn</div><div class="ttdoc">cuDNN manager </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00285">layer.hpp:285</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ae204d1a2a79606eaa117273857ff62a3"><div class="ttname"><a href="classlbann_1_1Layer.html#ae204d1a2a79606eaa117273857ff62a3">lbann::Layer::m_prev_neuron_dims</a></div><div class="ttdeci">std::vector&lt; int &gt; m_prev_neuron_dims</div><div class="ttdoc">Neuron tensor dimensions in previous layer. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00209">layer.hpp:209</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_aef1ce8742619dddb3371e6c5cc64af4c_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_aef1ce8742619dddb3371e6c5cc64af4c_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_aef1ce8742619dddb3371e6c5cc64af4c_cgraph" id="classlbann_1_1convolution__layer_aef1ce8742619dddb3371e6c5cc64af4c_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a36aa22ef90ce4de65abe729d38490863" title="lbann::Layer::setup_gpu" alt="" coords="182,77,343,104"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html#a5dfb66e81fc085997402a5e2241316bd" title="lbann::Layer::get_data\l_layout" alt="" coords="401,5,551,46"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#ad67668baa49b8713f3c74816d1aeb175" title="lbann::lbann_comm::\lget_procs_per_model" alt="" coords="403,70,549,111"/><area shape="rect" id="node5" href="classlbann_1_1Layer.html#acee56be91337bbd78bc4371a8159b760" title="lbann::Layer::using_gpus" alt="" coords="393,136,559,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac1591d929ac399c82e95bb7cdf406389"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::setup_views </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by <a class="el" href="classlbann_1_1Layer.html#af455f02e7d3111a3610bc3fb705f3292">setup()</a>, each layer should override to call its parent and set up any views of the layer's data. This is always called after setup_data. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00323">323</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                     {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5">learning::setup_views</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Set up views into weights and weights gradient</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    El::View(*<a class="code" href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">m_filter_weights_v</a>, *this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;             El::IR(0,this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Height()-1), El::ALL);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    El::View(*<a class="code" href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">m_filter_weights_gradient_v</a>, *this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;             El::IR(0,this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Height()-1), El::ALL);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    El::View(*<a class="code" href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">m_bias_weights_v</a>, *this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;             El::IR(this-&gt;<a class="code" href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">m_weights</a>-&gt;Height()-1), El::ALL);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    El::View(*<a class="code" href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">m_bias_weights_gradient_v</a>, *this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;             El::IR(this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>-&gt;Height()-1), El::ALL);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a639744838b02fd4073634175a4ecf4ec"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a639744838b02fd4073634175a4ecf4ec">lbann::convolution_layer::m_filter_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_filter_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00067">convolution.hpp:67</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a705cdeb600e57a076a24f6be1c31f5a5"><div class="ttname"><a href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5">lbann::Layer::setup_views</a></div><div class="ttdeci">virtual void setup_views()</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00273">layer.hpp:273</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_a356dc0069b12d1007721c2548056d429"><div class="ttname"><a href="classlbann_1_1learning.html#a356dc0069b12d1007721c2548056d429">lbann::learning::m_weights</a></div><div class="ttdeci">ElMat * m_weights</div><div class="ttdoc">Weight matrix (computes weight sum of inputs ((# neurons) x (# previous layer&#39;s neurons)) ...</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00043">learning.hpp:43</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_aa64f62a5d3f49702745d8bad953ba7e6"><div class="ttname"><a href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">lbann::learning::m_weights_gradient</a></div><div class="ttdeci">ElMat * m_weights_gradient</div><div class="ttdoc">Gradient w.r.t. weight matrix ((# neurons) x (# previous layer&#39;s neurons)) </div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00044">learning.hpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a0e2940770642185f088f8b64bf286ae1"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a0e2940770642185f088f8b64bf286ae1">lbann::convolution_layer::m_filter_weights_v</a></div><div class="ttdeci">ElMat * m_filter_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00066">convolution.hpp:66</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a2e9fbb0f006be688be99767224fbbd29"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a2e9fbb0f006be688be99767224fbbd29">lbann::convolution_layer::m_bias_weights_gradient_v</a></div><div class="ttdeci">ElMat * m_bias_weights_gradient_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00069">convolution.hpp:69</a></div></div>
<div class="ttc" id="classlbann_1_1convolution__layer_html_a286fc886ac92a4074880c102fddb3883"><div class="ttname"><a href="classlbann_1_1convolution__layer.html#a286fc886ac92a4074880c102fddb3883">lbann::convolution_layer::m_bias_weights_v</a></div><div class="ttdeci">ElMat * m_bias_weights_v</div><div class="ttdef"><b>Definition:</b> <a href="convolution_8hpp_source.html#l00068">convolution.hpp:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_cgraph" id="classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1Layer.html#a705cdeb600e57a076a24f6be1c31f5a5" title="lbann::Layer::setup\l_views" alt="" coords="192,5,325,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_icgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_icgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_icgraph" id="classlbann_1_1convolution__layer_ac1591d929ac399c82e95bb7cdf406389_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1convolution__layer.html#aaa407129cf1df628908abbc5fdb6cbfc" title="lbann::convolution\l_layer::convolution_layer" alt="" coords="193,5,359,46"/><area shape="rect" id="node3" href="classlbann_1_1convolution__layer.html#ae92c4059e1c6ac6cf5064769d7d21c61" title="lbann::convolution\l_layer::operator=" alt="" coords="213,70,339,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ebeeabc1f24d3aba169ee69aaad0717"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::update_compute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update convolution filters and biases. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a70e08fc96a612f67ade6ba3809536d85">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00758">758</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                        {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a> == <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214">execution_mode::training</a>) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1learning.html#ad89673b28f168ceaeb6f847d5ad06187">l2_regularize</a>();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      this-&gt;<a class="code" href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">m_optimizer</a>-&gt;<a class="code" href="classlbann_1_1optimizer.html#a15f0487c474d261086723422a8bad921">update</a>(this-&gt;<a class="code" href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">m_weights_gradient</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1optimizer_html_a15f0487c474d261086723422a8bad921"><div class="ttname"><a href="classlbann_1_1optimizer.html#a15f0487c474d261086723422a8bad921">lbann::optimizer::update</a></div><div class="ttdeci">virtual void update(const AbsDistMat *gradient)=0</div><div class="ttdoc">Update parameters using objective function gradient. </div></div>
<div class="ttc" id="classlbann_1_1learning_html_a82d93dc3b859e0558082bdd535b6ecde"><div class="ttname"><a href="classlbann_1_1learning.html#a82d93dc3b859e0558082bdd535b6ecde">lbann::learning::m_optimizer</a></div><div class="ttdeci">optimizer * m_optimizer</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00041">learning.hpp:41</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_aa64f62a5d3f49702745d8bad953ba7e6"><div class="ttname"><a href="classlbann_1_1learning.html#aa64f62a5d3f49702745d8bad953ba7e6">lbann::learning::m_weights_gradient</a></div><div class="ttdeci">ElMat * m_weights_gradient</div><div class="ttdoc">Gradient w.r.t. weight matrix ((# neurons) x (# previous layer&#39;s neurons)) </div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00044">learning.hpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1learning_html_ad89673b28f168ceaeb6f847d5ad06187"><div class="ttname"><a href="classlbann_1_1learning.html#ad89673b28f168ceaeb6f847d5ad06187">lbann::learning::l2_regularize</a></div><div class="ttdeci">virtual void l2_regularize()</div><div class="ttdef"><b>Definition:</b> <a href="learning_8hpp_source.html#l00050">learning.hpp:50</a></div></div>
<div class="ttc" id="base_8hpp_html_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214"><div class="ttname"><a href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214">execution_mode::training</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="layer_8hpp_source.html#l00211">layer.hpp:211</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1convolution__layer_a3ebeeabc1f24d3aba169ee69aaad0717_cgraph.png" border="0" usemap="#classlbann_1_1convolution__layer_a3ebeeabc1f24d3aba169ee69aaad0717_cgraph" alt=""/></div>
<map name="classlbann_1_1convolution__layer_a3ebeeabc1f24d3aba169ee69aaad0717_cgraph" id="classlbann_1_1convolution__layer_a3ebeeabc1f24d3aba169ee69aaad0717_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1learning.html#ad89673b28f168ceaeb6f847d5ad06187" title="lbann::learning::l2\l_regularize" alt="" coords="235,5,359,46"/><area shape="rect" id="node3" href="classlbann_1_1optimizer.html#a15f0487c474d261086723422a8bad921" title="Update parameters using objective function gradient. " alt="" coords="217,71,378,97"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a6d54673503b45aeb6526f041224900c6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlbann_1_1lbann__callback__imcomm.html">lbann_callback_imcomm</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00053">53</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2e9fbb0f006be688be99767224fbbd29"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_bias_weights_gradient_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00069">69</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a286fc886ac92a4074880c102fddb3883"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_bias_weights_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00068">68</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a431ad08e2c9218f03d1fe3cf05d94a43"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_conv_dims</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolutional filter dimensions. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00058">58</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7a81d091db7b987b7201125bda103281"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_conv_pads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolution padding. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00062">62</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a519c3e2c371e63d7fe3b7b1f839864be"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_conv_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of convolutional filters. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00060">60</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac95fdac053d0779b1c20f2784cb7394b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_conv_strides</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convolution strides. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00064">64</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a639744838b02fd4073634175a4ecf4ec"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_filter_weights_gradient_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00067">67</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0e2940770642185f088f8b64bf286ae1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a>* <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_filter_weights_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00066">66</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3fa45c128e694a2029e3962ed20eb8bf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;data_layout T_layout = data_layout::DATA_PARALLEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a7ab6aada4b2438de8ca3dd783775c2f5">weight_initialization</a> <a class="el" href="classlbann_1_1convolution__layer.html">lbann::convolution_layer</a>&lt; T_layout &gt;::m_weight_initialization</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Weight initialization scheme. </p>

<p>Definition at line <a class="el" href="convolution_8hpp_source.html#l00056">56</a> of file <a class="el" href="convolution_8hpp_source.html">convolution.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/travis/build/LLNL/lbann/include/lbann/layers/learning/<a class="el" href="convolution_8hpp_source.html">convolution.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1convolution__layer.html">convolution_layer</a></li>
    <li class="footer">Generated on Fri Jul 14 2017 21:44:17 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
